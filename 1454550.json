{
  "question": {
    "tags": [
      "java",
      "locking",
      "makefile"
    ],
    "owner": {
      "account_id": 29723,
      "reputation": 12351,
      "user_id": 80530,
      "user_type": "registered",
      "accept_rate": 71,
      "profile_image": "https://www.gravatar.com/avatar/4b71f74cd1f90264c6263b5fef60a0fd?s=256&d=identicon&r=PG",
      "display_name": "LB40",
      "link": "https://stackoverflow.com/users/80530/lb40"
    },
    "is_answered": true,
    "view_count": 5737,
    "accepted_answer_id": 1454588,
    "answer_count": 3,
    "score": 5,
    "last_activity_date": 1764766942,
    "creation_date": 1253540301,
    "last_edit_date": 1764763194,
    "question_id": 1454550,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/1454550/locking-across-several-jvm-instances",
    "title": "Locking across several JVM instances?",
    "body": "<p>This is a bit related to <a href=\"https://stackoverflow.com/questions/524804/filechannel-randomaccessfile-dont-seem-to-work\">this question</a>.</p>\n<p>I'm using make to extract some information concerning some C programs. I'm wrapping the compilation using a Bash script that runs my Java program and then gcc. Basically, I'm doing:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>make CC=~/my_script.sh\n</code></pre>\n<p>I would like to use several jobs (-j option with make). It's running several processes according to the dependency rules.</p>\n<p>If I understood well, I would have as many instances of the JVM as jobs, right?</p>\n<p>The thing is that I'm using sqlite-jdb to collect some info. So the problem is how to avoid several processes trying to modify the db at the same time.\nIt seems that the SQLite lock is JVM-dependent (I mean one lock can be &quot;seen&quot; only inside the locking JVM), and that this is the same for RandomAccessFile.lock().</p>\n<p>Do you have any idea how to do that? (Creating a temporary file and then looking if it exists or not seems to be one possibility, but may be expensive. A locking table in the DB?)</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}