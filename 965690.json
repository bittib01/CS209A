{
  "question": {
    "tags": [
      "java",
      "optional-parameters"
    ],
    "owner": {
      "account_id": 8977,
      "reputation": 19430,
      "user_id": 16404,
      "user_type": "registered",
      "accept_rate": 95,
      "profile_image": "https://i.sstatic.net/2zBMd.jpg?s=256",
      "display_name": "Mike Pone",
      "link": "https://stackoverflow.com/users/16404/mike-pone"
    },
    "is_answered": true,
    "view_count": 1630439,
    "protected_date": 1582213687,
    "accepted_answer_id": 12994104,
    "answer_count": 18,
    "score": 1062,
    "last_activity_date": 1746274414,
    "creation_date": 1244477549,
    "last_edit_date": 1645921854,
    "question_id": 965690,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/965690/how-do-i-use-optional-parameters-in-java",
    "title": "How do I use optional parameters in Java?",
    "body": "<p>What specification supports optional parameters?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 13787196,
        "reputation": 751,
        "user_id": 9950765,
        "user_type": "registered",
        "profile_image": "https://graph.facebook.com/616782248674524/picture?type=large",
        "display_name": "keroles Monsef",
        "link": "https://stackoverflow.com/users/9950765/keroles-monsef"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1746274414,
      "creation_date": 1746274414,
      "answer_id": 79604688,
      "question_id": 965690,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>for a real word example using spring boot application with repository pattern with optional parameters<br />\nusing lombok</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class MerchantSearchCriteria {\n\n    private String q;\n    private Long merchantId;\n    private Long categoryId;\n    private Long userId;\n    private boolean open = false;\n    private User user;\n\n    public void setUser(User user) {\n        this.user = user;\n        this.userId = (user != null) ? user.getId() : null;\n    }\n}\n</code></pre>\n<p>and in repository i used the following</p>\n<pre><code>public interface MerchantRepository extends JpaRepository&lt;Merchant, Long&gt; {\n\n\n\n    @Query(&quot;&quot;&quot;\n            SELECT new com.keroles.kuper.dtos.projections.MerchantDetailsProjection(\n            M,\n            &quot;&quot;&quot; + MerchantStatement.IS_FAVORITE_CASE + &quot;&quot;&quot;\n            ,&quot;&quot;&quot; + MerchantStatement.IS_OPEN_CASE + &quot;&quot;&quot;\n                )\n                FROM Merchant M\n                WHERE (\n                (:#{#criteria.merchantId} IS NULL OR M.id = :#{#criteria.merchantId}) AND\n                (:#{#criteria.q} IS NULL OR (M.name ILIKE %:#{#criteria.q}% OR M.description ILIKE %:#{#criteria.q}%)) AND\n                (:#{#criteria.categoryId} IS NULL OR EXISTS (SELECT 1 FROM Item I JOIN I.categories C WHERE I.merchant.id = M.id AND C.id = :#{#criteria.categoryId}))                )\n            &quot;&quot;&quot;)\n    Slice&lt;MerchantDetailsProjection&gt; search(@Param(&quot;criteria&quot;) MerchantSearchCriteria criteria, Pageable pageable); \n}\n</code></pre>\n<p>and to call it like this</p>\n<pre><code>public Slice&lt;MerchantResource&gt; search(User user, MerchantFilterRequest request) {\n    Pageable pageable = pageRequestMapper.convert(request.getPageRequest());\n\n    MerchantSearchCriteria msc = new MerchantSearchCriteria();\n    msc.setQ(request.getQ());\n    msc.setCategoryId(request.getCategoryId());\n    msc.setUserId(user.getId());\n    msc.setOpen(request.getOpen());\n\n    return merchantRepository\n            .search(msc, pageable)\n            .map(projection -&gt; merchantMapper.toResource(projection.getMerchant())\n                    .setOpen(projection.isOpen())\n                    .setFavorite(projection.isFavorite()));\n}\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 108817,
        "reputation": 115080,
        "user_id": 288671,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/33fa45af0983107b1445c604ef60a0ed?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Vitalii Fedorenko",
        "link": "https://stackoverflow.com/users/288671/vitalii-fedorenko"
      },
      "is_accepted": true,
      "score": 1970,
      "last_activity_date": 1714815159,
      "last_edit_date": 1714815159,
      "creation_date": 1350782171,
      "answer_id": 12994104,
      "question_id": 965690,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>There are several ways to simulate optional parameters in Java.</p>\n<h2>Method overloading</h2>\n<pre class=\"lang-java prettyprint-override\"><code>void foo(String a, Integer b) {\n    //...\n}\n\nvoid foo(String a) {\n    foo(a, 0); // here, 0 is a default value for b\n}\n\nfoo(&quot;a&quot;, 2);\nfoo(&quot;a&quot;);\n</code></pre>\n<p>One of the limitations of this approach is that it doesn't work if you have two optional parameters of the same type and any of them can be omitted.</p>\n<h2>Varargs</h2>\n<p>a) All optional parameters are of the same type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo(String a, Integer... b) {\n    Integer b1 = b.length &gt; 0 ? b[0] : 0;\n    Integer b2 = b.length &gt; 1 ? b[1] : 0;\n    //...\n}\n\nfoo(&quot;a&quot;);\nfoo(&quot;a&quot;, 1, 2);\n</code></pre>\n<p>b) Types of optional parameters may be different:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo(String a, Object... b) {\n    Integer b1 = 0;\n    String b2 = &quot;&quot;;\n    if (b.length &gt; 0) {\n      if (!(b[0] instanceof Integer)) { \n          throw new IllegalArgumentException(&quot;...&quot;);\n      }\n      b1 = (Integer)b[0];\n    }\n    if (b.length &gt; 1) {\n        if (!(b[1] instanceof String)) { \n            throw new IllegalArgumentException(&quot;...&quot;);\n        }\n        b2 = (String)b[1];\n        //...\n    }\n    //...\n}\n\nfoo(&quot;a&quot;);\nfoo(&quot;a&quot;, 1);\nfoo(&quot;a&quot;, 1, &quot;b2&quot;);\n</code></pre>\n<p>The main drawback of this approach is that if optional parameters are of different types you lose static type checking. Furthermore, if each parameter has the different meaning you need some way to distinguish them.</p>\n<h2>Nulls</h2>\n<p>To address the limitations of the previous approaches you can allow null values and then analyze each parameter in a method body:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo(String a, Integer b, Integer c) {\n    b = b != null ? b : 0;\n    c = c != null ? c : 0;\n    //...\n}\n\nfoo(&quot;a&quot;, null, 2);\n</code></pre>\n<p>Now all arguments values must be provided, but the default ones may be null.</p>\n<h2>Optional class</h2>\n<p>This approach is similar to nulls, but uses Java 8 Optional class for parameters that have a default value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo(String a, Optional&lt;Integer&gt; bOpt) {\n    Integer b = bOpt.isPresent() ? bOpt.get() : 0;\n    //...\n}\n\nfoo(&quot;a&quot;, Optional.of(2));\nfoo(&quot;a&quot;, Optional.&lt;Integer&gt;absent());\n</code></pre>\n<p>Optional makes a method contract explicit for a caller, however, one may find such signature too verbose.</p>\n<p>Update: Java 8 includes the class <code>java.util.Optional</code> out-of-the-box, so there is no need to use guava for this particular reason in Java 8. The method name is a bit different though.</p>\n<h2>Builder pattern</h2>\n<p>The builder pattern is used for constructors and is implemented by introducing a separate Builder class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n    private final String a; \n    private final Integer b;\n\n    Foo(String a, Integer b) {\n      this.a = a;\n      this.b = b;\n    }\n\n    //...\n}\n\nclass FooBuilder {\n  private String a = &quot;&quot;; \n  private Integer b = 0;\n  \n  FooBuilder setA(String a) {\n    this.a = a;\n    return this;\n  }\n\n  FooBuilder setB(Integer b) {\n    this.b = b;\n    return this;\n  }\n\n  Foo build() {\n    return new Foo(a, b);\n  }\n}\n\nFoo foo = new FooBuilder().setA(&quot;a&quot;).build();\n</code></pre>\n<h2>Maps</h2>\n<p>When the number of parameters is too large and for most of the default values are usually used, you can pass method arguments as a map of their names/values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void foo(Map&lt;String, Object&gt; parameters) {\n    String a = &quot;&quot;; \n    Integer b = 0;\n    if (parameters.containsKey(&quot;a&quot;)) { \n        if (!(parameters.get(&quot;a&quot;) instanceof Integer)) { \n            throw new IllegalArgumentException(&quot;...&quot;);\n        }\n        a = (Integer)parameters.get(&quot;a&quot;);\n    }\n    if (parameters.containsKey(&quot;b&quot;)) { \n        //... \n    }\n    //...\n}\n\nfoo(ImmutableMap.&lt;String, Object&gt;of(\n    &quot;a&quot;, &quot;a&quot;,\n    &quot;b&quot;, 2, \n    &quot;d&quot;, &quot;value&quot;)); \n</code></pre>\n<p>In Java 9, this approach became easier:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;unchecked&quot;)\nstatic &lt;T&gt; T getParm(Map&lt;String, Object&gt; map, String key, T defaultValue) {\n  return (map.containsKey(key)) ? (T) map.get(key) : defaultValue;\n}\n\nvoid foo(Map&lt;String, Object&gt; parameters) {\n  String a = getParm(parameters, &quot;a&quot;, &quot;&quot;);\n  int b = getParm(parameters, &quot;b&quot;, 0);\n  // d = ...\n}\n\nfoo(Map.of(&quot;a&quot;,&quot;a&quot;,  &quot;b&quot;,2,  &quot;d&quot;,&quot;value&quot;));\n</code></pre>\n<p>Please note that you can combine any of these approaches to achieve a desirable result.</p>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "79604688": [],
    "12994104": [
      {
        "owner": {
          "account_id": 133004,
          "reputation": 1606,
          "user_id": 334045,
          "user_type": "registered",
          "accept_rate": 86,
          "profile_image": "https://i.sstatic.net/x9tYU.jpg?s=256",
          "display_name": "Arvin",
          "link": "https://stackoverflow.com/users/334045/arvin"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1753685197,
        "post_id": 12994104,
        "comment_id": 140622991,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 3057575,
          "reputation": 565,
          "user_id": 2590893,
          "user_type": "registered",
          "accept_rate": 10,
          "profile_image": "https://www.gravatar.com/avatar/e865936ab547a3c4c7b9c66f770212a1?s=256&d=identicon&r=PG",
          "display_name": "crishushu",
          "link": "https://stackoverflow.com/users/2590893/crishushu"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1715231304,
        "post_id": 12994104,
        "comment_id": 138309779,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 5391172,
          "reputation": 310,
          "user_id": 4293638,
          "user_type": "registered",
          "profile_image": "https://lh4.googleusercontent.com/-4J24Sd35FQc/AAAAAAAAAAI/AAAAAAAAAt0/Vxe0eDITkDc/s256-rj/photo.jpg",
          "display_name": "Kyle Zimmer",
          "link": "https://stackoverflow.com/users/4293638/kyle-zimmer"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1707342588,
        "post_id": 12994104,
        "comment_id": 137435766,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 7601637,
          "reputation": 1071,
          "user_id": 5766011,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/la2cv.jpg?s=256",
          "display_name": "Tom Benyon",
          "link": "https://stackoverflow.com/users/5766011/tom-benyon"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1641116331,
        "post_id": 12994104,
        "comment_id": 124721528,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 17466472,
          "reputation": 869,
          "user_id": 12663117,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/UoElq.jpg?s=256",
          "display_name": "Nate T",
          "link": "https://stackoverflow.com/users/12663117/nate-t"
        },
        "reply_to_user": {
          "account_id": 2774008,
          "reputation": 19400,
          "user_id": 2387977,
          "user_type": "registered",
          "accept_rate": 69,
          "profile_image": "https://www.gravatar.com/avatar/b867b7871c56b1308ee19a2a08b45563?s=256&d=identicon&r=PG",
          "display_name": "Dherik",
          "link": "https://stackoverflow.com/users/2387977/dherik"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1626567432,
        "post_id": 12994104,
        "comment_id": 120927709,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 7658058,
          "reputation": 144,
          "user_id": 5804203,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/f9de54c0f97eb06f3c94d350324e60da?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Alexander Heim",
          "link": "https://stackoverflow.com/users/5804203/alexander-heim"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1546187471,
        "post_id": 12994104,
        "comment_id": 94796086,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 2774008,
          "reputation": 19400,
          "user_id": 2387977,
          "user_type": "registered",
          "accept_rate": 69,
          "profile_image": "https://www.gravatar.com/avatar/b867b7871c56b1308ee19a2a08b45563?s=256&d=identicon&r=PG",
          "display_name": "Dherik",
          "link": "https://stackoverflow.com/users/2387977/dherik"
        },
        "reply_to_user": {
          "account_id": 442547,
          "reputation": 5039,
          "user_id": 833208,
          "user_type": "registered",
          "accept_rate": 77,
          "profile_image": "https://www.gravatar.com/avatar/39c8c34132fc397875f30a1ee2b2997c?s=256&d=identicon&r=PG",
          "display_name": "Robino",
          "link": "https://stackoverflow.com/users/833208/robino"
        },
        "edited": false,
        "score": 10,
        "creation_date": 1518792942,
        "post_id": 12994104,
        "comment_id": 84662526,
        "content_license": "CC BY-SA 3.0"
      }
    ]
  }
}