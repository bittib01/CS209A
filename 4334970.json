{
  "question": {
    "tags": [
      "java",
      "hibernate",
      "jpa",
      "one-to-many",
      "bag"
    ],
    "owner": {
      "account_id": 66555,
      "reputation": 13259,
      "user_id": 195176,
      "user_type": "registered",
      "accept_rate": 88,
      "profile_image": "https://www.gravatar.com/avatar/5b5947d100bf9232021c11df11476667?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "blow",
      "link": "https://stackoverflow.com/users/195176/blow"
    },
    "is_answered": true,
    "view_count": 512821,
    "accepted_answer_id": 4335514,
    "answer_count": 18,
    "score": 632,
    "last_activity_date": 1717593602,
    "creation_date": 1291292899,
    "last_edit_date": 1588178532,
    "question_id": 4334970,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/4334970/hibernate-throws-multiplebagfetchexception-cannot-simultaneously-fetch-multipl",
    "title": "Hibernate throws MultipleBagFetchException - cannot simultaneously fetch multiple bags",
    "body": "<p>Hibernate throws this exception during SessionFactory creation:</p>\n\n<blockquote>\n  <p>org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags</p>\n</blockquote>\n\n<p>This is my test case:</p>\n\n<p><strong>Parent.java</strong></p>\n\n<pre><code>@Entity\npublic Parent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n // @IndexColumn(name=\"INDEX_COL\") if I had this the problem solve but I retrieve more children than I have, one child is null.\n private List&lt;Child&gt; children;\n\n}\n</code></pre>\n\n<p><strong>Child.java</strong></p>\n\n<pre><code>@Entity\npublic Child {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @ManyToOne\n private Parent parent;\n\n}\n</code></pre>\n\n<p>How about this problem? What can I do?</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>OK, the problem I have is that another \"parent\" entity is inside my parent, my real behavior is this:</p>\n\n<p><strong>Parent.java</strong></p>\n\n<pre><code>@Entity\npublic Parent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @ManyToOne\n private AnotherParent anotherParent;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n private List&lt;Child&gt; children;\n\n}\n</code></pre>\n\n<p><strong>AnotherParent.java</strong></p>\n\n<pre><code>@Entity\npublic AnotherParent {\n\n @Id\n @GeneratedValue(strategy=GenerationType.IDENTITY)\n private Long id;\n\n @OneToMany(mappedBy=\"parent\", fetch=FetchType.EAGER)\n private List&lt;AnotherChild&gt; anotherChildren;\n\n}\n</code></pre>\n\n<p>Hibernate doesn't like two collections with <code>FetchType.EAGER</code>, but this seems to be a bug, I'm not doing unusual things...</p>\n\n<p>Removing <code>FetchType.EAGER</code> from <code>Parent</code> or <code>AnotherParent</code> solves the problem, but I need it, so real solution is to use <code>@LazyCollection(LazyCollectionOption.FALSE)</code> instead of <code>FetchType</code> (thanks to <a href=\"https://stackoverflow.com/users/203907/bozho\">Bozho</a> for the solution).</p>\n"
  },
  "answers": [],
  "question_comments": [
    {
      "owner": {
        "account_id": 15054416,
        "reputation": 447,
        "user_id": 10865170,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/PMykl.jpg?s=256",
        "display_name": "Big Zed",
        "link": "https://stackoverflow.com/users/10865170/big-zed"
      },
      "edited": false,
      "score": 2,
      "creation_date": 1582224116,
      "post_id": 4334970,
      "comment_id": 106713133,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 80571,
        "reputation": 11821,
        "user_id": 227755,
        "user_type": "registered",
        "accept_rate": 90,
        "profile_image": "https://www.gravatar.com/avatar/4a4377b8beefc590e722a17b7fa5da66?s=256&d=identicon&r=PG",
        "display_name": "nurettin",
        "link": "https://stackoverflow.com/users/227755/nurettin"
      },
      "reply_to_user": {
        "account_id": 401940,
        "reputation": 14184,
        "user_id": 768795,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/f009ae319099dbca3f9cdd49e6d341a4?s=256&d=identicon&r=PG",
        "display_name": "Thomas W",
        "link": "https://stackoverflow.com/users/768795/thomas-w"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1539520137,
      "post_id": 4334970,
      "comment_id": 92523793,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {}
}