{
  "question": {
    "tags": [
      "java",
      "http-proxy"
    ],
    "owner": {
      "account_id": 118763,
      "reputation": 24378,
      "user_id": 1015678,
      "user_type": "registered",
      "accept_rate": 67,
      "profile_image": "https://www.gravatar.com/avatar/e12a835193e80c39b8483eb90780ff37?s=256&d=identicon&r=PG",
      "display_name": "Lahiru Chandima",
      "link": "https://stackoverflow.com/users/1015678/lahiru-chandima"
    },
    "is_answered": false,
    "view_count": 10552,
    "answer_count": 1,
    "score": 2,
    "last_activity_date": 1764404796,
    "creation_date": 1645177635,
    "question_id": 71171355,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/71171355/djava-net-usesystemproxies-true-doesnt-work-in-linux",
    "title": "-Djava.net.useSystemProxies=true doesn&#39;t work in linux",
    "body": "<p>I have a java application running in a linux environment. The environment has a http proxy server set using <code>HTTP_PROXY</code> and <code>HTTPS_PROXY</code> environment variables.</p>\n<p>My java application needs to use a REST API, so I added the VM arg below to use the system proxy.</p>\n<pre><code>-Djava.net.useSystemProxies=true\n</code></pre>\n<p>But the java application disregards the proxy and tries to connect to the url directly.</p>\n<p>However, if I use below VM args, it works properly.</p>\n<pre><code>-Dhttp.proxyHost=&lt;host&gt; -Dhttp.proxyPort=&lt;port&gt; -Dhttps.proxyHost=&lt;host&gt; -Dhttps.proxyPort=&lt;port&gt;\n</code></pre>\n<p>For me, using <code>-Djava.net.useSystemProxies=true</code> is desirable since I don't have to change the command I use to run the java application when the proxy server is changed.</p>\n<p>Any idea why <code>-Djava.net.useSystemProxies=true</code> is not working?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 1232799,
        "reputation": 1753,
        "user_id": 1197030,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/tzZBK.jpg?s=256",
        "display_name": "Joeblade",
        "link": "https://stackoverflow.com/users/1197030/joeblade"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764404796,
      "last_edit_date": 1764404796,
      "creation_date": 1645179698,
      "answer_id": 71171865,
      "question_id": 71171355,
      "content_license": "CC BY-SA 4.0",
      "body": "<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">In the documentation it states:</a></p>\n<blockquote>\n<ul>\n<li><p><strong>java.net.useSystemProxies</strong> (default: false)</p>\n<p>On recent Windows systems and on Gnome 2.x systems it is possible to tell the java.net stack, setting this property to <strong>true</strong>, to use the system proxy settings (both these systems let you set proxies globally through their user interface). Note that this property is checked only once at startup.</p>\n</li>\n</ul>\n</blockquote>\n<p>So if you're not using gnome then this is unsupported. Something about how they are accessing properties from the looks of it.</p>\n<p><a href=\"https://stackoverflow.com/questions/120797/how-do-i-set-the-proxy-to-be-used-by-the-jvm\">How do I set the proxy to be used by the JVM</a></p>\n<p>You may need to set proxy settings by hand. <a href=\"https://github.com/oracle/graal/issues/4285\" rel=\"nofollow noreferrer\">this bugreport on an unrelated project</a> suggests that proxyhost/proxyport (see How do I set proxy to be used by the JVM) is a valid alternative.</p>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "71171865": [
      {
        "owner": {
          "account_id": 47283,
          "reputation": 723428,
          "user_id": 139985,
          "user_type": "registered",
          "accept_rate": 69,
          "profile_image": "https://www.gravatar.com/avatar/147c5a9cc1feec049c50da791ac7d144?s=256&d=identicon&r=PG",
          "display_name": "Stephen C",
          "link": "https://stackoverflow.com/users/139985/stephen-c"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1732979303,
        "post_id": 71171865,
        "comment_id": 139729802,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}