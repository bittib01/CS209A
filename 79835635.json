{
  "question": {
    "tags": [
      "java",
      "javafx",
      "jar",
      "classloader",
      "graalvm"
    ],
    "owner": {
      "account_id": 25922749,
      "reputation": 1,
      "user_id": 19645050,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/086947287ee7eae9b3fb85a6a78fad2b?s=256&d=identicon&r=PG",
      "display_name": "Robert Hood",
      "link": "https://stackoverflow.com/users/19645050/robert-hood"
    },
    "is_answered": false,
    "view_count": 86,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1764663733,
    "creation_date": 1764663733,
    "question_id": 79835635,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79835635/launching-a-jar-by-directly-loading-jar-bytes-in-memory-from-a-graal-native-imag",
    "title": "Launching a jar by directly loading jar bytes in memory from a graal native image and launching the application no disk writes",
    "body": "<p>I'm building an application launcher using GraalVM native image. The launcher downloads an encrypted JAR, decrypts it in memory, and needs to launch it without ever touching the disk. Security requirement - the decrypted application code should never be written anywhere. Is it possible to load the full jar?</p>\n<p>What I've tried (all failed):</p>\n<ol>\n<li><p>Direct ClassLoader approach - Doesn't work, native-image has no bytecode interpreter</p>\n</li>\n<li><p>Embedding JVM via JNI -Too complex and wasted a full day, and it never worked and i did not see or understand what was wrong and where and won't try this again due to jni unless some guides me. Technically possible, but it is a nightmare to work with it.</p>\n</li>\n<li><p>Writing temp JAR and spawning <strong><code>java -jar</code></strong> - Works perfectly BUT defeats the entire purpose (JAR is on disk, even if briefly), this is currently for testing my app.</p>\n</li>\n</ol>\n<p>I'm bundling a JRE means the launcher will download if not found on the user's machine, same as the jar from my server, so I can spawn Java processes. I just need a way to tell that JVM process, &quot;here's a JAR in memory, load it&quot; without writing files.</p>\n<p>How do enterprise apps handle this? Game launchers, IDE updaters, etc - they must have solved this problem, right?</p>\n<p>I love Java, but here I just don't like it. I can not compile it to a full native image as some libs don't support it, which I have in my jar.  Also, all methods of loading by defineClass work in ide but without jvm can not work in a native image.</p>\n<p>Any suggestions would be greatly appreciated! I really need help from you all legends.</p>\n"
  },
  "answers": [],
  "question_comments": [
    {
      "owner": {
        "account_id": 8532578,
        "reputation": 49884,
        "user_id": 6395627,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Slaw",
        "link": "https://stackoverflow.com/users/6395627/slaw"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764939076,
      "post_id": 79835635,
      "comment_id": 140888924,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 8532578,
        "reputation": 49884,
        "user_id": 6395627,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Slaw",
        "link": "https://stackoverflow.com/users/6395627/slaw"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764938658,
      "post_id": 79835635,
      "comment_id": 140888909,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 8532578,
        "reputation": 49884,
        "user_id": 6395627,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Slaw",
        "link": "https://stackoverflow.com/users/6395627/slaw"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764906693,
      "post_id": 79835635,
      "comment_id": 140888417,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 8532578,
        "reputation": 49884,
        "user_id": 6395627,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/af0f9bfe593f36642a032cd7ea611e7d?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Slaw",
        "link": "https://stackoverflow.com/users/6395627/slaw"
      },
      "reply_to_user": {
        "account_id": 1180113,
        "reputation": 160447,
        "user_id": 1155209,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=256&d=identicon&r=PG",
        "display_name": "jewelsea",
        "link": "https://stackoverflow.com/users/1155209/jewelsea"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764892783,
      "post_id": 79835635,
      "comment_id": 140888250,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {}
}