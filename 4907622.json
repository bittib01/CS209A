{
  "question": {
    "tags": [
      "java",
      "security",
      "keystore",
      "digital-certificate",
      "keytool"
    ],
    "owner": {
      "account_id": 162919,
      "reputation": 54314,
      "user_id": 384706,
      "user_type": "registered",
      "accept_rate": 64,
      "profile_image": "https://www.gravatar.com/avatar/4d4c5200e64564047976e390fa9ed1cc?s=256&d=identicon&r=PG",
      "display_name": "Cratylus",
      "link": "https://stackoverflow.com/users/384706/cratylus"
    },
    "is_answered": true,
    "view_count": 91675,
    "accepted_answer_id": 4907697,
    "answer_count": 6,
    "score": 22,
    "last_activity_date": 1764950060,
    "creation_date": 1296918909,
    "last_edit_date": 1382746062,
    "question_id": 4907622,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/4907622/keytool-see-the-public-and-private-keys",
    "title": "keytool - see the public and private keys",
    "body": "<p>I created Java keystore programmatically of type jks (i.e. default type).<br>\nIt is initially empty so I created a DSA certificate.  </p>\n\n<pre><code>keytool -genkey -alias myCert -v -keystore trivial.keystore\n</code></pre>\n\n<p>How can I see the public and private keys?<br>\nI.e. is there a command that prints the private key of my certificate?<br>\nI could only find <code>keytool -certreq</code> which in my understanding prints the certificate as a whole:</p>\n\n<pre><code>-----BEGIN NEW CERTIFICATE REQUEST-----\nMIICaTCCAicCAQAwZTELMAkGA1UEBhMCR1IxDzANBgNVBAgTBkdyZWVjZTEPMA0GA1UEBxMGQXRo\nBQADLwAwLAIUQZbY/3Qq0G26fsBbWiHMbuVd3VICFE+gwtUauYiRbHh0caAtRj3qRTwl\n-----END NEW CERTIFICATE REQUEST-----\n</code></pre>\n\n<p>I assume this is the whole certificate. How can I see private (or public key) via keytool?  </p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 5324742,
        "reputation": 3274,
        "user_id": 4247268,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/3c5f075daffa8aae34f018c86679e2a6?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "StackzOfZtuff",
        "link": "https://stackoverflow.com/users/4247268/stackzofztuff"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764950060,
      "last_edit_date": 1764950060,
      "creation_date": 1764948787,
      "answer_id": 79839065,
      "question_id": 4907622,
      "content_license": "CC BY-SA 4.0",
      "body": "<h1>Java keytool refuses to dump privkeys. Use OpenSSL instead.</h1>\n<p>There is no documented option in keytool to dump private keys. I guess this is design.</p>\n<p>Demo below.</p>\n<p>Make new selfsigned certkey and store in p12:</p>\n<pre><code>$ rm -f my-keystore.p12; keytool -genkeypair -alias my-server-cert -keyalg RSA -keysize 2048 -keystore my-keystore.p12 -storepass 'P@ssw0rd' -validity 365 -dname &quot;CN=localhost, OU=IT, O=MyCompany, L=MyCity, ST=MyState, C=US&quot; -ext &quot;SAN=dns:localhost,ip:127.0.0.1&quot;\nGenerating 2,048 bit RSA key pair and self-signed certificate (SHA256withRSA) with a validity of 365 days\n        for: CN=localhost, OU=IT, O=MyCompany, L=MyCity, ST=MyState, C=US\n</code></pre>\n<p>Try to list via keytool: only gets cert but not privkey.</p>\n<pre><code>$ keytool -list -keystore my-keystore.p12 -storepass 'P@ssw0rd' -rfc\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: my-server-cert\nCreation date: Dec 5, 2025\nEntry type: PrivateKeyEntry\nCertificate chain length: 1\nCertificate[1]:\n-----BEGIN CERTIFICATE-----\nMIIDiTCCAnGgAwIBAgIIKAO/0BOnquIwDQYJKoZIhvcNAQELBQAwZTELMAkGA1UE\nBhMCVVMxEDAOBgNVBAgTB015U3RhdGUxDzANBgNVBAcTBk15Q2l0eTESMBAGA1UE\nChMJTXlDb21wYW55MQswCQYDVQQLEwJJVDESMBAGA1UEAxMJbG9jYWxob3N0MB4X\nDTI1MTIwNTE1MjcwMVoXDTI2MTIwNTE1MjcwMVowZTELMAkGA1UEBhMCVVMxEDAO\nBgNVBAgTB015U3RhdGUxDzANBgNVBAcTBk15Q2l0eTESMBAGA1UEChMJTXlDb21w\nYW55MQswCQYDVQQLEwJJVDESMBAGA1UEAxMJbG9jYWxob3N0MIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvUeYvzGc+ihjYGAEj+d63ECcHVy/0CXSK/VR\nsvDqiImVgSFEayCWbVhcVx9t2BAo8sb8CO9QYBlCwJO8ErkxLIWuaaP+WaivKwwP\nusKtTdDA0LKdVdufsofIEOYg4uM7elAveeiXlQuNYgmBTZDMIlOV+0T4MnFqbTJn\n2B6O7FxYNqCdotokBGXGkFmOU5lxFlfKHUj1W1P1peaolJJnCAA64FpKPi/ACig+\nvydkXI37nS4WDvat2etLDbQn4PGmom5Xn2xawa1o5akGKLbQeWm7CPG4Ed728ciy\nD5dMb6jKtWR5N4ALvQPhSw3fVue0nukrPP0ReSxEwezXBtz35QIDAQABoz0wOzAd\nBgNVHQ4EFgQUor/YyMJn+0lhf3QHtzAHMdYbK0cwGgYDVR0RBBMwEYIJbG9jYWxo\nb3N0hwR/AAABMA0GCSqGSIb3DQEBCwUAA4IBAQAFq+pP5sUYljuHn+PmX7yx3oM3\nS1noSQ8F6JTt/T74KUGxVwzKDuy405WhAgBO0849t1cgCmmSgfvRPh2wrN4K5hEO\nA+t0FXRFD0UukordPXXw7MkqyyYE+lICZoXCYN8mSTnsVSrqkcAZDJvmU/KZwkvT\nbGpPRz87P0cQ+8AgErVgNhSQ0Eru6ae6Cpdh39N6Tv2R+KsOk9QWfjE+6qrnA+FT\nye8X6cc8tmUp/gGb0dkNOQgEz92XFkhD1c9WNO+gVdwoDbh7win7n9+yGGbN//b0\nwMSQfiXn4pAu32KiovdxDfmwrm+/Y90jovCLhHhOwl0+gWuua8rRDuELd/NC\n-----END CERTIFICATE-----\n\n\n*******************************************\n*******************************************\n</code></pre>\n<p>Also: There is no documented option to show both:</p>\n<pre><code>$ keytool -list -keystore my-keystore.p12 -storepass 'P@ssw0rd' -rfc --help\nkeytool -list [OPTION]...\n\nLists entries in a keystore\n\nOptions:\n\n -rfc                    output in RFC style\n -alias &lt;alias&gt;          alias name of the entry to process\n -keystore &lt;keystore&gt;    keystore name\n -cacerts                access the cacerts keystore\n -storepass &lt;arg&gt;        keystore password\n -storetype &lt;type&gt;       keystore type\n -providername &lt;name&gt;    provider name\n -addprovider &lt;name&gt;     add security provider by name (e.g. SunPKCS11)\n   [-providerarg &lt;arg&gt;]    configure argument for -addprovider\n -providerclass &lt;class&gt;  add security provider by fully-qualified class name\n   [-providerarg &lt;arg&gt;]    configure argument for -providerclass\n -providerpath &lt;list&gt;    provider classpath\n -v                      verbose output\n -protected              password through protected mechanism\n\nUse &quot;keytool -?, -h, or --help&quot; for this help message\n\n</code></pre>\n<p>With OpenSSL this is no problem:</p>\n<pre><code>$ openssl pkcs12 -in my-keystore.p12 -passin pass:'P@ssw0rd' -nodes\nBag Attributes\n    friendlyName: my-server-cert\n    localKeyID: 54 69 6D 65 20 31 37 36 34 39 34 38 34 32 31 35 36 34\nKey Attributes: &lt;No Attributes&gt;\n-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQC9R5i/MZz6KGNg\nYASP53rcQJwdXL/QJdIr9VGy8OqIiZWBIURrIJZtWFxXH23YECjyxvwI71BgGULA\nk7wSuTEsha5po/5ZqK8rDA+6wq1N0MDQsp1V25+yh8gQ5iDi4zt6UC956JeVC41i\nCYFNkMwiU5X7RPgycWptMmfYHo7sXFg2oJ2i2iQEZcaQWY5TmXEWV8odSPVbU/Wl\n5qiUkmcIADrgWko+L8AKKD6/J2RcjfudLhYO9q3Z60sNtCfg8aaiblefbFrBrWjl\nqQYottB5absI8bgR3vbxyLIPl0xvqMq1ZHk3gAu9A+FLDd9W57Se6Ss8/RF5LETB\n7NcG3PflAgMBAAECggEAWYAaVQXTsWIZo3+jiJwvNyiB6UxrErRfjhOg/xj1/Xv5\nKqcdX/53wtqOR1AAM7NoeWvnzx3CBr7LFp6ExuG0w9WuZBt8cM7XjWZVpbzaD7qP\nAeADj46bE+MqkfsPP9mszShPWrjFvF9LCjluX8wBCpY1jCvPpKKGbX3xJntEn7Q2\ndxE9bERjtbQx7i062DuOTAiSrFatGiXZnwE5QSRjNWSQJjyfFO92G2X+bSzcx4FX\nYYwmW/lb+GRtp586b9t0iEFFNO2xxcH6mk2u2Qj7Ms1JFS4FIAamxDhf+fW/vw4Y\nMDdev3ecTGdXj2y9iN2Ppdi1CdvCkMSojPMtnLqrvQKBgQDgc9OXpU+Ks8+7AIWU\nlr5aL85lfn7kQ3ffCrRUswaWpd1UH3N4c/W7rj/suKFizNxp5HX8UtGlQYnOwsMT\n35jwBvKySCcxK/+I3EnSCUKpNrPOce7hOrER4Dgh0e9VdTGekelF4WCuOolxgXeP\nTqH7wmrfgzE9ImWu/HBFvyoa5wKBgQDX4jHxpctubmJiSF58y2qpQ5TUJPphtrX3\nOVJUIDeOpOdRj8RikUutvl6WFiBH04gsn9lihYRbj/4a+DNWz6yPJ71kLTCBEJz2\nP4MYrIUYQIzvH0Z+h7XZBFI3URR5sZi6AIp3lxFIPuogKWESIswwu7X1l4oeNFVy\ntOzv6zbpUwKBgQCyCS39S5McYiSUIIXUpv22a9U7jGr6hMnAka0YwiintkkpQQlG\nsjRo+n6aNplM1VLAbAdqbgb9Hk9BQhua1/Fn8xrvb2wnBM9cr9+eStolfs6BIr5o\nyTVLCJ99tBgzoRIKxZJTa8JUcPo0no1HjwfNuxkq0dVsuKwPcQ1dRZUQYQKBgDOu\nQbiQsS+hm0nd+0iyxbj5pcJXi90iiVNC1LOw9rvePEYpPaE/GTfhr/EMIPQw7pOI\nPNk6D2KACRvZuSiaFLw8jjlSHB95o6nLsI2Sl1Yj9dk0yoJ16JGoWCpH7bfoTSCS\nCpPwhUGfVhsW7NcTn4A3H6tIeNccPix0pZgV3hJjAoGASy5sMY6pAtXu041rPfw/\nmTvn/lRWc1vKHaR64QwQHTXpS5xv8/y1NJWVdN2ea1aa3DGpaKZ06SKo8tyl6c17\noNsA/SRpbQAf7oGRms4+zpLoGkdEmPHrDbJg6L9qVpP6Oj1sRcqJLH0mguhC6Er0\nQlj3ndnhQlbv7vTgW9w0FgU=\n-----END PRIVATE KEY-----\nBag Attributes\n    friendlyName: my-server-cert\n    localKeyID: 54 69 6D 65 20 31 37 36 34 39 34 38 34 32 31 35 36 34\nsubject=C = US, ST = MyState, L = MyCity, O = MyCompany, OU = IT, CN = localhost\nissuer=C = US, ST = MyState, L = MyCity, O = MyCompany, OU = IT, CN = localhost\n-----BEGIN CERTIFICATE-----\nMIIDiTCCAnGgAwIBAgIIKAO/0BOnquIwDQYJKoZIhvcNAQELBQAwZTELMAkGA1UE\nBhMCVVMxEDAOBgNVBAgTB015U3RhdGUxDzANBgNVBAcTBk15Q2l0eTESMBAGA1UE\nChMJTXlDb21wYW55MQswCQYDVQQLEwJJVDESMBAGA1UEAxMJbG9jYWxob3N0MB4X\nDTI1MTIwNTE1MjcwMVoXDTI2MTIwNTE1MjcwMVowZTELMAkGA1UEBhMCVVMxEDAO\nBgNVBAgTB015U3RhdGUxDzANBgNVBAcTBk15Q2l0eTESMBAGA1UEChMJTXlDb21w\nYW55MQswCQYDVQQLEwJJVDESMBAGA1UEAxMJbG9jYWxob3N0MIIBIjANBgkqhkiG\n9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvUeYvzGc+ihjYGAEj+d63ECcHVy/0CXSK/VR\nsvDqiImVgSFEayCWbVhcVx9t2BAo8sb8CO9QYBlCwJO8ErkxLIWuaaP+WaivKwwP\nusKtTdDA0LKdVdufsofIEOYg4uM7elAveeiXlQuNYgmBTZDMIlOV+0T4MnFqbTJn\n2B6O7FxYNqCdotokBGXGkFmOU5lxFlfKHUj1W1P1peaolJJnCAA64FpKPi/ACig+\nvydkXI37nS4WDvat2etLDbQn4PGmom5Xn2xawa1o5akGKLbQeWm7CPG4Ed728ciy\nD5dMb6jKtWR5N4ALvQPhSw3fVue0nukrPP0ReSxEwezXBtz35QIDAQABoz0wOzAd\nBgNVHQ4EFgQUor/YyMJn+0lhf3QHtzAHMdYbK0cwGgYDVR0RBBMwEYIJbG9jYWxo\nb3N0hwR/AAABMA0GCSqGSIb3DQEBCwUAA4IBAQAFq+pP5sUYljuHn+PmX7yx3oM3\nS1noSQ8F6JTt/T74KUGxVwzKDuy405WhAgBO0849t1cgCmmSgfvRPh2wrN4K5hEO\nA+t0FXRFD0UukordPXXw7MkqyyYE+lICZoXCYN8mSTnsVSrqkcAZDJvmU/KZwkvT\nbGpPRz87P0cQ+8AgErVgNhSQ0Eru6ae6Cpdh39N6Tv2R+KsOk9QWfjE+6qrnA+FT\nye8X6cc8tmUp/gGb0dkNOQgEz92XFkhD1c9WNO+gVdwoDbh7win7n9+yGGbN//b0\nwMSQfiXn4pAu32KiovdxDfmwrm+/Y90jovCLhHhOwl0+gWuua8rRDuELd/NC\n-----END CERTIFICATE-----\n</code></pre>\n<h1>Microsoft certutil.exe -dumppfx</h1>\n<p>If you are on Windows, then you can use Microsoft certutil.exe.\nIt is a very powerful tool.</p>\n<p>(I run all these commands on Win11 inside MobaXterm.)</p>\n<p>This outputs a vast amount of text. And because of the '-split' option it will dump/create 3 new files on disk.</p>\n<p>Output shortened.</p>\n<pre><code>$ certutil.exe -f -unicode -gmt -seconds -split -v -privatekey -p 'P@ssw0rd' -dumppfx my-keystore.p12\n ■Version: 3\n    1.2.840.113549.1.7.1 PKCS 7 Data\n\nauthSafe count: 2\n----------------------------------------------------------------\nauthSafe[0]:\n    1.2.840.113549.1.7.1 PKCS 7 Data\n\nSafeBag count: 1\n------------------------------------------------\nSafeBag[0]:\n    bagId: 1.2.840.113549.1.12.10.1.2 szOID_PKCS_12_SHROUDEDKEY_BAG\nMicrosoft Software Key Storage Provider\n  RSA\n...\nCertUtil: -dumpPFX command completed successfully.\n</code></pre>\n<p>Three new files on disk:</p>\n<pre><code>$ ls -1\n2bf6add52e88b9d24452419e083885a565f2b9a1.key\n365ff86bf17c8e5dc368bfad0f66b4533a696d5c.crt\n848f4df4aa8e53a33dc918a0c363835fcf252052.p12\nmy-keystore.p12\n</code></pre>\n<p>BTW: the file basename is just the SHA1 of the file contents:</p>\n<pre><code>$ sha1sum * | sort\n2bf6add52e88b9d24452419e083885a565f2b9a1 *2bf6add52e88b9d24452419e083885a565f2b9a1.key\n365ff86bf17c8e5dc368bfad0f66b4533a696d5c *365ff86bf17c8e5dc368bfad0f66b4533a696d5c.crt\n848f4df4aa8e53a33dc918a0c363835fcf252052 *848f4df4aa8e53a33dc918a0c363835fcf252052.p12\n848f4df4aa8e53a33dc918a0c363835fcf252052 *my-keystore.p12\n</code></pre>\n<p>No idea what fileformat that .key file is.</p>\n<p>By default certutil will censor private keys...</p>\n<pre><code>$ certutil.exe -v -dump 2bf6add52e88b9d24452419e083885a565f2b9a1.key\nPrivate Key:\n  0000  52 53 41 32                                        RSA2\n  0000  ...\n  021b\nCertUtil: -dump command completed successfully.\n✓\n</code></pre>\n<p>...unless you also add the <code>-privatekey</code> parameter:</p>\n<pre><code>$ certutil.exe -v -privatekey -dump 2bf6add52e88b9d24452419e083885a565f2b9a1.key\nPrivate Key:\n  0000  52 53 41 32 00 08 00 00  03 00 00 00 00 01 00 00   RSA2............\n  0010  80 00 00 00 80 00 00 00  01 00 01 bd 47 98 bf 31   ............G..1\n  0020  9c fa 28 63 60 60 04 8f  e7 7a dc 40 9c 1d 5c bf   ..(c``...z.@..\\.\n  0030  d0 25 d2 2b f5 51 b2 f0  ea 88 89 95 81 21 44 6b   .%.+.Q.......!Dk\n  0040  20 96 6d 58 5c 57 1f 6d  d8 10 28 f2 c6 fc 08 ef    .mX\\W.m..(.....\n  0050  50 60 19 42 c0 93 bc 12  b9 31 2c 85 ae 69 a3 fe   P`.B.....1,..i..\n  0060  59 a8 af 2b 0c 0f ba c2  ad 4d d0 c0 d0 b2 9d 55   Y..+.....M.....U\n  0070  db 9f b2 87 c8 10 e6 20  e2 e3 3b 7a 50 2f 79 e8   ....... ..;zP/y.\n  0080  97 95 0b 8d 62 09 81 4d  90 cc 22 53 95 fb 44 f8   ....b..M..&quot;S..D.\n  0090  32 71 6a 6d 32 67 d8 1e  8e ec 5c 58 36 a0 9d a2   2qjm2g....\\X6...\n  00a0  da 24 04 65 c6 90 59 8e  53 99 71 16 57 ca 1d 48   .$.e..Y.S.q.W..H\n  00b0  f5 5b 53 f5 a5 e6 a8 94  92 67 08 00 3a e0 5a 4a   .[S......g..:.ZJ\n  00c0  3e 2f c0 0a 28 3e bf 27  64 5c 8d fb 9d 2e 16 0e   &gt;/..(&gt;.'d\\......\n  00d0  f6 ad d9 eb 4b 0d b4 27  e0 f1 a6 a2 6e 57 9f 6c   ....K..'....nW.l\n  00e0  5a c1 ad 68 e5 a9 06 28  b6 d0 79 69 bb 08 f1 b8   Z..h...(..yi....\n  00f0  11 de f6 f1 c8 b2 0f 97  4c 6f a8 ca b5 64 79 37   ........Lo...dy7\n  0100  80 0b bd 03 e1 4b 0d df  56 e7 b4 9e e9 2b 3c fd   .....K..V....+&lt;.\n  0110  11 79 2c 44 c1 ec d7 06  dc f7 e5 e0 73 d3 97 a5   .y,D........s...\n  0120  4f 8a b3 cf bb 00 85 94  96 be 5a 2f ce 65 7e 7e   O.........Z/.e~~\n  0130  e4 43 77 df 0a b4 54 b3  06 96 a5 dd 54 1f 73 78   .Cw...T.....T.sx\n  0140  73 f5 bb ae 3f ec b8 a1  62 cc dc 69 e4 75 fc 52   s...?...b..i.u.R\n  0150  d1 a5 41 89 ce c2 c3 13  df 98 f0 06 f2 b2 48 27   ..A...........H'\n  0160  31 2b ff 88 dc 49 d2 09  42 a9 36 b3 ce 71 ee e1   1+...I..B.6..q..\n  0170  3a b1 11 e0 38 21 d1 ef  55 75 31 9e 91 e9 45 e1   :...8!..Uu1...E.\n  0180  60 ae 3a 89 71 81 77 8f  4e a1 fb c2 6a df 83 31   `.:.q.w.N...j..1\n  0190  3d 22 65 ae fc 70 45 bf  2a 1a e7 d7 e2 31 f1 a5   =&quot;e..pE.*....1..\n  01a0  cb 6e 6e 62 62 48 5e 7c  cb 6a a9 43 94 d4 24 fa   .nnbbH^|.j.C..$.\n  01b0  61 b6 b5 f7 39 52 54 20  37 8e a4 e7 51 8f c4 62   a...9RT 7...Q..b\n  01c0  91 4b ad be 5e 96 16 20  47 d3 88 2c 9f d9 62 85   .K..^.. G..,..b.\n  01d0  84 5b 8f fe 1a f8 33 56  cf ac 8f 27 bd 64 2d 30   .[....3V...'.d-0\n  01e0  81 10 9c f6 3f 83 18 ac  85 18 40 8c ef 1f 46 7e   ....?.....@...F~\n  01f0  87 b5 d9 04 52 37 51 14  79 b1 98 ba 00 8a 77 97   ....R7Q.y.....w.\n  0200  11 48 3e ea 20 29 61 12  22 cc 30 bb b5 f5 97 8a   .H&gt;. )a.&quot;.0.....\n  0210  1e 34 55 72 b4 ec ef eb  36 e9 53                  .4Ur....6.S\nCertUtil: -dump command completed successfully.\n✓\n</code></pre>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "79839065": []
  }
}