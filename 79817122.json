{
  "question": {
    "tags": [
      "java",
      "rest",
      "microprofile",
      "helidon"
    ],
    "owner": {
      "account_id": 11209,
      "reputation": 26136,
      "user_id": 21499,
      "user_type": "registered",
      "accept_rate": 56,
      "profile_image": "https://i.sstatic.net/Ykmgs.jpg?s=256",
      "display_name": "Dr. Hans-Peter St&#246;rr",
      "link": "https://stackoverflow.com/users/21499/dr-hans-peter-st%c3%b6rr"
    },
    "is_answered": false,
    "view_count": 47,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1763575715,
    "creation_date": 1762895196,
    "last_edit_date": 1763575715,
    "question_id": 79817122,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79817122/helidon-mp-how-to-cancel-an-expensive-computation-in-a-rest-service-on-client-d",
    "title": "Helidon MP: how to cancel an expensive computation in a REST service on client disconnect?",
    "body": "<p>We have some expensive REST services implemented in Helidon MP 4 that often take one minute until they are finished and the response is returned. It happens quite often that the client disconnects before the response is finished. How is it possible to cancel the computation when that happens? Is there any way to test whether the connection is still open?</p>\n<p>Context: The REST services are implemented with <a href=\"https://helidon.io/docs/v4/mp/jaxrs/jaxrs-applications\" rel=\"nofollow noreferrer\">Jakarta REST</a> and receive JSON requests and write JSON responses. I tried converting the service to AsyncResponse and register a ConnectionCallback, but the ConnectionCallback.onDisconnect is only called when the server tries to return the response to the client, and thus is completely worthless. Converting the endpoint to SSE and periodically write ping type messages would be thinkable, but I'd much prefer less intrusive options.<br />\nThanks so much!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}