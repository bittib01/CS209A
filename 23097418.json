{
  "question": {
    "tags": [
      "java",
      "swing",
      "jbutton",
      "tic-tac-toe"
    ],
    "owner": {
      "account_id": 3983752,
      "reputation": 69,
      "user_id": 3285009,
      "user_type": "registered",
      "accept_rate": 25,
      "profile_image": "https://graph.facebook.com/728931684/picture?type=large",
      "display_name": "flyiinhigh",
      "link": "https://stackoverflow.com/users/3285009/flyiinhigh"
    },
    "is_answered": true,
    "view_count": 2249,
    "accepted_answer_id": 23097448,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1764871292,
    "creation_date": 1397611872,
    "last_edit_date": 1397630755,
    "question_id": 23097418,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/23097418/hello-i-am-creating-a-tictactoe-game-for-myself-to-understand-java-better",
    "title": "Hello I am creating a TicTacToe game for myself to understand Java better",
    "body": "<p>however I am not sure where I am supposed to enter the whoWins() method. Do I enter this method in the actionperformed Method of the buttons or do i need to something different. Please help.</p>\n\n<pre><code>public class TTT extends JFrame implements ActionListener {\n\n        private JButton buttons[] = new JButton[9];\n        private JButton exitButton;\n        public JLabel title;\n        public JPanel titlePanel, panel;\n        private int count = 0;\n        int symbolCount = 0;\n        private boolean win = false;\n\n        public TTT() {\n\n            title = new JLabel(\"Welcome to my Tic Tac Toe Game!\");\n            titlePanel = new JPanel();\n            title.setFont(new Font(Font.SERIF, 0, 30));\n            titlePanel.add(title);\n            this.add(titlePanel, BorderLayout.NORTH);\n\n            panel = new JPanel(new GridLayout(3, 3));\n            for (int i = 0; i &lt; buttons.length; i++) {\n                buttons[i] = new JButton();\n                panel.add(buttons[i]);\n                buttons[i].setEnabled(true);\n                buttons[i].addActionListener(this);\n            }\n            this.add(panel, BorderLayout.CENTER);\n\n            JPanel panel1 = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            exitButton = new JButton(\"Quit\");\n            panel1.add(exitButton);\n            this.add(panel1, BorderLayout.SOUTH);\n            exitButton.addActionListener(new ActionListener() {\n\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    System.exit(WIDTH);\n                }\n            });\n\n        }\n\n        public void whoWins() {\n            //Determines who wins using for the horizontal rows.\n            if (buttons[0].getText() == buttons[1].getText() &amp;&amp; buttons[1].getText() == buttons[2].getText() &amp;&amp; buttons[0].getText() != \"\") {\n                win = true;\n            } else if (buttons[3].getText() == buttons[4].getText() &amp;&amp; buttons[4].getText() == buttons[5].getText() &amp;&amp; buttons[3].getText() != \"\") {\n                win = true;\n            } else if (buttons[6].getText() == buttons[7].getText() &amp;&amp; buttons[7].getText() == buttons[8].getText() &amp;&amp; buttons[6].getText() != \"\") {\n                win = true;\n            } //Determines the verticles wins\n            else if (buttons[0].getText() == buttons[3].getText() &amp;&amp; buttons[3].getText() == buttons[6].getText() &amp;&amp; buttons[0].getText() != \"\") {\n                win = true;\n            } else if (buttons[1].getText() == buttons[4].getText() &amp;&amp; buttons[4].getText() == buttons[7].getText() &amp;&amp; buttons[1].getText() != \"\") {\n                win = true;\n            } else if (buttons[2].getText() == buttons[5].getText() &amp;&amp; buttons[5].getText() == buttons[8].getText() &amp;&amp; buttons[2].getText() != \"\") {\n                win = true;\n            }\n            // Diagnol Wins \n            else if (buttons[0].getText()==buttons[4].getText()&amp;&amp;buttons[4].getText()==buttons[8].getText()&amp;&amp; buttons[0].getText()!= \"\") {\n                win = true;\n            }else if (buttons[2].getText()==buttons[4].getText()&amp;&amp;buttons[4].getText()==buttons[6].getText()&amp;&amp; buttons[1].getText()!= \"\") {\n                win = true;\n            }else {\n                win = false;\n            }\n\n            //who won\n            if (win = true) {\n                JOptionPane.showMessageDialog(null, \"wins\");\n            }else if (count == 9 &amp;&amp; win == false) {\n                JOptionPane.showMessageDialog(null, \"Tie game\");\n            }\n        }\n\n        public static void main(String[] args) {\n            TTT ref1 = new TTT();\n            ref1.setTitle(\"Tic Tac Toe\");\n            ref1.setVisible(true);\n            ref1.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            ref1.setSize(500, 500);\n            ref1.setLocationRelativeTo(null);\n    //        ref1.whoWins();\n\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            count++;\n            for (JButton button : buttons) {\n                if (button == e.getSource()) {\n                    if (symbolCount % 2 == 0) {\n                        button.setText(\"X\");\n                        button.setEnabled(false);\n                    } else {\n                        button.setText(\"O\");\n                        button.setEnabled(false);\n                    }\n                }            \n            }        \n            if (count &gt;= buttons.length) {\n                JOptionPane.showMessageDialog(null, \"End\");\n            }\n            symbolCount++;\n        }\n\n    }\n</code></pre>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 247613,
        "reputation": 285766,
        "user_id": 522444,
        "user_type": "registered",
        "accept_rate": 100,
        "profile_image": "https://www.gravatar.com/avatar/16b6783e9b99b1199c75761eaf5c0685?s=256&d=identicon&r=PG",
        "display_name": "Hovercraft Full Of Eels",
        "link": "https://stackoverflow.com/users/522444/hovercraft-full-of-eels"
      },
      "is_accepted": true,
      "score": 2,
      "last_activity_date": 1764871292,
      "last_edit_date": 1764871292,
      "creation_date": 1397612067,
      "answer_id": 23097448,
      "question_id": 23097418,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>If you really want to do this right, then I suggest making some big changes, some M-V-C type changes:</p>\n<ul>\n<li>First and foremost, separate out the logic of the game from the game GUI. This would mean that the code that determines who wins should not be in any code that contains GUI type code. This will be your &quot;model&quot;</li>\n<li>Next you should never have GUI code implement listener interfaces, so try to get that out of the GUI and possibly have it go into its own class, the &quot;Control&quot; class.</li>\n<li>Finally the GUI or &quot;View&quot; class will concern itself with displaying the model's state and getting input from the user and transmitting this input to the control.</li>\n</ul>\n<hr />\n<p>For example,...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.GridLayout;\nimport java.awt.Window;\nimport java.awt.event.*;\nimport java.awt.image.BufferedImage;\nimport java.beans.PropertyChangeEvent;\nimport java.beans.PropertyChangeListener;\nimport java.io.IOException;\nimport java.util.EnumMap;\nimport java.util.Map;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport javax.swing.event.SwingPropertyChangeSupport;\n\npublic class TicTacToeMain {\n\n   private static void createAndShowGui() {\n      TttView view = null;\n      try {\n         view = new TttView();\n      } catch (IOException e) {\n         e.printStackTrace();\n         System.exit(-1);\n      }\n      TttModel model = new TttModel();\n      new TttControl(model, view);\n\n      JFrame frame = new JFrame(&quot;Tic Tac Toe&quot;);\n      frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n      frame.getContentPane().add(view.getMainPanel());\n      frame.pack();\n      frame.setLocationByPlatform(true);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      SwingUtilities.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowGui();\n         }\n      });\n   }\n}\n</code></pre>\n\n<pre><code>enum TttPiece {\n   EMPTY, X, O\n}\n</code></pre>\n\n<pre><code>class TttView {\n  // public static final String IMAGE = &quot;/imgFolder/TicTacToe.png&quot;;\n  public static final String PATH_TO_IMG_URL = &quot;https://i.sstatic.net/mwfLB.png&quot;;\n  private static final int GAP = 5;\n  private JPanel mainPanel = new JPanel();\n  private JPanel tttPanel = new JPanel();\n  private Map&lt;TttPiece, Icon&gt; iconMap = new EnumMap&lt;&gt;(TttPiece.class);\n  private JLabel[][] grid = new JLabel[TttModel.ROWS][TttModel.COLS];\n  private TttControl control;\n\n  public TttView() throws IOException {\n      // BufferedImage img = ImageIO.read(getClass().getResourceAsStream(IMAGE));\n      URL imgUrl = new URL(PATH_TO_IMG_URL);\n      BufferedImage img = ImageIO.read(imgUrl);\n      Icon[] imgIcons = splitImg(img);\n      iconMap.put(TttPiece.X, imgIcons[0]);\n      iconMap.put(TttPiece.O, imgIcons[1]);\n      iconMap.put(TttPiece.EMPTY, createEmptyIcon(imgIcons[0]));\n\n      tttPanel.setLayout(new GridLayout(grid.length, grid[0].length, GAP, GAP));\n      tttPanel.setBackground(Color.black);\n      MyMouseAdapter mouseAdapter = new MyMouseAdapter();\n      for (int row = 0; row &lt; grid.length; row++) {\n         for (int col = 0; col &lt; grid[row].length; col++) {\n            grid[row][col] = new JLabel(iconMap.get(TttPiece.EMPTY));\n            grid[row][col].setOpaque(true);\n            grid[row][col].setBackground(Color.LIGHT_GRAY);\n            grid[row][col].addMouseListener(mouseAdapter);\n            tttPanel.add(grid[row][col]);\n         }\n      }\n\n      JPanel btnPanel = new JPanel(new GridLayout(1, 0, 5, 0));\n      btnPanel.add(new JButton(new ClearAction(&quot;Clear&quot;, KeyEvent.VK_C)));\n      btnPanel.add(new JButton(new ExitAction(&quot;Exit&quot;, KeyEvent.VK_X)));\n\n      int blGap = 2;\n      mainPanel.setLayout(new BorderLayout(blGap, blGap));\n      mainPanel.setBorder(BorderFactory.createEmptyBorder(blGap, blGap, blGap,\n            blGap));\n      mainPanel.add(tttPanel, BorderLayout.CENTER);\n      mainPanel.add(btnPanel, BorderLayout.SOUTH);\n   }\n\n   public void setControl(TttControl control) {\n      this.control = control;\n   }\n\n   public JComponent getMainPanel() {\n      return mainPanel;\n   }\n\n   private Icon createEmptyIcon(Icon icon) {\n      int width = icon.getIconWidth();\n      int height = icon.getIconHeight();\n      BufferedImage img = new BufferedImage(width, height,\n            BufferedImage.TYPE_INT_ARGB);\n      return new ImageIcon(img);\n   }\n\n   private Icon[] splitImg(BufferedImage img) {\n      int w = img.getWidth();\n      int h = img.getHeight();\n      int gap = 5;\n      Icon[] icons = new ImageIcon[2];\n      icons[0] = new ImageIcon(img.getSubimage(0, 0, w / 2 - gap, h / 2 - gap));\n      icons[1] = new ImageIcon(img.getSubimage(w / 2 + gap, 0, w / 2 - gap, h\n            / 2 - gap));\n      return icons;\n   }\n\n   private class MyMouseAdapter extends MouseAdapter {\n\n      @Override\n      public void mousePressed(MouseEvent e) {\n         if (control == null) {\n            return;\n         }\n         for (int row = 0; row &lt; grid.length; row++) {\n            for (int col = 0; col &lt; grid[row].length; col++) {\n               if (grid[row][col] == e.getSource()) {\n                  control.gridPress(row, col);\n               }\n            }\n         }\n      }\n   }\n\n   private class ClearAction extends AbstractAction {\n\n      public ClearAction(String name, int mnemonic) {\n         super(name);\n         putValue(MNEMONIC_KEY, mnemonic);\n      }\n\n      @Override\n      public void actionPerformed(ActionEvent evt) {\n         if (control != null) {\n            control.clear();\n         }\n      }\n\n   }\n\n   private class ExitAction extends AbstractAction {\n      public ExitAction(String name, int mnemonic) {\n         super(name);\n         putValue(MNEMONIC_KEY, mnemonic);\n      }\n\n      @Override\n      public void actionPerformed(ActionEvent evt) {\n         if (control != null) {\n            control.exit(evt);\n         }\n      }\n   }\n\n   public void setGridIcon(int row, int col, TttPiece tttPiece) {\n      grid[row][col].setIcon(iconMap.get(tttPiece));\n   }\n\n}\n</code></pre>\n\n<pre><code>class TttControl {\n   private TttModel model;\n   private TttView view;\n\n   public TttControl(TttModel model, TttView view) {\n      this.model = model;\n      this.view = view;\n      view.setControl(this);\n\n      model.addPropertyChangeListener(new ModelListener());\n   }\n\n   public void exit(ActionEvent evt) {\n      Window win = SwingUtilities\n            .getWindowAncestor((Component) evt.getSource());\n      win.dispose();\n   }\n\n   public void gridPress(int row, int col) {\n      try {\n         model.gridPress(row, col);\n      } catch (TttException e) {\n         // TODO: notify user\n         // e.printStackTrace();\n      }\n   }\n\n   public void clear() {\n      model.clear();\n   }\n\n   private class ModelListener implements PropertyChangeListener {\n      @Override\n      public void propertyChange(PropertyChangeEvent evt) {\n         if (TttModel.GRID_POSITION.equals(evt.getPropertyName())) {\n            TttPiece[][] tttGrid = model.getTttGrid();\n            for (int row = 0; row &lt; tttGrid.length; row++) {\n               for (int col = 0; col &lt; tttGrid[row].length; col++) {\n                  view.setGridIcon(row, col, tttGrid[row][col]);\n               }\n            }\n         }\n      }\n   }\n\n}\n</code></pre>\n\n<pre><code>class TttModel {\n   public static final int ROWS = 3;\n   public static final int COLS = ROWS;\n   public static final String GRID_POSITION = &quot;grid position&quot;;\n\n   private SwingPropertyChangeSupport pcSupport = new SwingPropertyChangeSupport(\n         this);\n   private TttPiece[][] tttGrid = new TttPiece[ROWS][COLS];\n   private TttPiece player = TttPiece.X;\n   private boolean gameOver;\n\n   public TttModel() {\n      clear();\n   }\n\n   public void setGridPosition(int row, int col, TttPiece piece)\n         throws TttException {\n      if (gameOver) {\n         return;\n      }\n      if (tttGrid[row][col] == TttPiece.EMPTY) {\n         tttGrid[row][col] = piece;\n         checkForWin(row, col, piece);\n         nextPlayer();\n         pcSupport.firePropertyChange(GRID_POSITION, null, tttGrid);\n      } else {\n         String message = &quot;Invalid setGridPosition for row: %d, col: %d, piece: %s. &quot;\n               + &quot;Spot already occupied by piece: %s&quot;;\n         message = String.format(message, row, col, piece, tttGrid[row][col]);\n         throw new TttException(message);\n      }\n   }\n\n   public TttPiece[][] getTttGrid() {\n      return tttGrid;\n   }\n\n   public void gridPress(int row, int col) throws TttException {\n      setGridPosition(row, col, player);\n   }\n\n   public void nextPlayer() {\n      player = player == TttPiece.X ? TttPiece.O : TttPiece.X;\n   }\n\n   private void checkForWin(int row, int col, TttPiece piece) {\n      // TODO finish\n\n   }\n\n   public void clear() {\n      for (int row = 0; row &lt; tttGrid.length; row++) {\n         for (int col = 0; col &lt; tttGrid[row].length; col++) {\n            tttGrid[row][col] = TttPiece.EMPTY;\n         }\n      }\n      player = TttPiece.X;\n      pcSupport.firePropertyChange(GRID_POSITION, null, tttGrid);\n   }\n\n   public void addPropertyChangeListener(PropertyChangeListener listener) {\n      pcSupport.addPropertyChangeListener(listener);\n   }\n\n   public void removePropertyChangeListener(PropertyChangeListener listener) {\n      pcSupport.removePropertyChangeListener(listener);\n   }\n\n}\n</code></pre>\n\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\nclass TttException extends Exception {\n\n   public TttException() {\n      super();\n   }\n\n   public TttException(String message) {\n      super(message);\n   }\n\n}\n</code></pre>\n<p>Using for my images:</p>\n<p><img src=\"https://i.sstatic.net/mwfLB.png\" alt=\"enter image description here\" /></p>\n<p>With GUI looking like:</p>\n<p><img src=\"https://i.sstatic.net/XnKZG.jpg\" alt=\"enter image description here\" /></p>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "23097448": [
      {
        "owner": {
          "account_id": 32015435,
          "reputation": 1,
          "user_id": 31557055,
          "user_type": "registered",
          "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocL2r3D3Tyz4n14D5RZjwNZhufAKm-Jc9aHBUROHB9r6z68_fg=k-s256",
          "display_name": "M S",
          "link": "https://stackoverflow.com/users/31557055/m-s"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764717702,
        "post_id": 23097448,
        "comment_id": 140884309,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 284109,
          "reputation": 47819,
          "user_id": 581994,
          "user_type": "registered",
          "accept_rate": 57,
          "profile_image": "https://www.gravatar.com/avatar/d2ae9ac6fb51918297a0ce5dada0eb22?s=256&d=identicon&r=PG",
          "display_name": "Hot Licks",
          "link": "https://stackoverflow.com/users/581994/hot-licks"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1397612938,
        "post_id": 23097448,
        "comment_id": 35305583,
        "content_license": "CC BY-SA 3.0"
      }
    ]
  }
}