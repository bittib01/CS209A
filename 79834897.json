{
  "question": {
    "tags": [
      "java",
      "swing",
      "user-interface",
      "archlinux"
    ],
    "owner": {
      "account_id": 25879828,
      "reputation": 38,
      "user_id": 19609110,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/tmqdUCyf.jpg?s=256",
      "display_name": "MMT007_backUP",
      "link": "https://stackoverflow.com/users/19609110/mmt007-backup"
    },
    "is_answered": false,
    "view_count": 106,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1764934986,
    "creation_date": 1764595868,
    "question_id": 79834897,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79834897/java-swing-invisible-image",
    "title": "Java Swing Invisible Image",
    "body": "<h1>Context:</h1>\n<p>I'm trying to make an app with java swing, however when trying to add a background to the Login Page, the image does not show up. It is there and moves other JComponents when adding a layout to the root JPanel of the Page, it just, doesn't display the image. I've also tried JavaFX but it seems like I'm having the same problem over there.</p>\n<p>I've also tried to find if anyone else has the same problem, however couldn't find anything useful. After spending a whole day trying to figure out a solution, I resorted to asking over here</p>\n<h2>Pc Info:</h2>\n<p>This is my PC info if it sums up to be a DE promblem</p>\n<pre><code>                  -`                     mmt007@mmt007desktop\n                 .o+`                    --------------------\n                `ooo/                    OS: Arch Linux x86_64\n               `+oooo:                   Host: B75M-D3P\n              `+oooooo:                  Kernel: Linux 6.17.6-arch1-1\n              -+oooooo+:                 Uptime: 21 mins\n            `/:-:++oooo+:                Packages: 1022 (pacman), 26 (flatpak)\n           `/++++/+++++++:               Shell: bash 5.3.3\n          `/++++++++++++++:              Display (WX942): 1440x900 in 19&quot;, 60 Hz [External]\n         `/+++ooooooooooooo/`            WM: Hyprland 0.51.1 (Wayland)\n        ./ooosssso++osssssso+`           Theme: Adwaita-dark [GTK2/3/4]\n       .oossssso-````/ossssss+`          Icons: Adwaita [GTK2/3/4]\n      -osssssso.      :ssssssso.         Font: Noto Sans (12pt) [Qt], Adwaita Sans (11pt) [GTK2/3/4]\n     :osssssss/        osssso+++.        Cursor: default (24px)\n    /ossssssss/        +ssssooo/-        Terminal: kitty 0.43.1\n  `/ossssso+/:-        -:/+osssso+-      Terminal Font: NimbusMonoPS-Regular (11pt)\n `+sso+:-`                 `.-/+oso:     CPU: Intel(R) Core(TM) i5-3570 (4) @ 3.80 GHz\n`++:.                           `-/+/    GPU: Intel Xeon E3-1200 v2/3rd Gen Core processor Graphics Controller @ 1.15 GHz [Integrated]\n.`                                 `/    Memory: 3.73 GiB / 7.62 GiB (49%)\n                                         Swap: 0 B / 4.00 GiB (0%)\n                                         Disk (/): 82.46 GiB / 214.08 GiB (39%) - ext4\n                                         Locale: en_US.UTF-8\n</code></pre>\n<h2>The Code:</h2>\n<p>And here is the code that is giving me problems:</p>\n<h3>Login Page class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginPage extends Page {\n    protected void init() {\n        root.setLayout(new FlowLayout());\n\n        JImageLabel background = new JImageLabel(new ImageIcon(&quot;assets/backgrounds/login_background.png&quot;));\n        background.setSize(400,400);\n\n        background.setPreferredSize(new Dimension(800,100));\n\n        root.add(background);\n        root.setBackground(Color.BLACK);\n    }\n\n}\n</code></pre>\n<h3>Page class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Page {\n    protected final JPanel root = new JPanel();\n\n    public Page() { init(); }\n\n    protected abstract void init();\n}\n</code></pre>\n<h3>JImageLabel class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class JImageLabel extends JLabel {\n    private ImageIcon image;\n\n    public JImageLabel(ImageIcon image)\n    {super(image);}\n}\n</code></pre>\n<h3>Window class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Window extends JFrame {\n    private static final Window INSTANCE = new Window(&quot;Disbot&quot;);\n\n    private static final Dimension DEFAULT_WINDOW_SIZE = new Dimension(1280,720);\n    private static Page page = null;\n\n    private Window(String title) throws HeadlessException\n    {super(title);}\n\n    public static void init(){\n        INSTANCE.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        INSTANCE.setSize(DEFAULT_WINDOW_SIZE);\n\n        INSTANCE.setVisible(true);\n    }\n\n    public static void setPage(Page new_page){\n        page = new_page;\n        INSTANCE.setContentPane(page.root);\n        INSTANCE.repaint();\n    }\n}\n</code></pre>\n<h3>Main Class:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Window.init();\n            Window.setPage(new LoginPage());\n        });\n    }\n}\n</code></pre>\n<h2>Screenshots:</h2>\n<p><a href=\"https://i.sstatic.net/YjMwcVpx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/YjMwcVpx.png\" alt=\"image1 - black blank screen\" /></a>\n<a href=\"https://i.sstatic.net/f5BAPRK6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/f5BAPRK6.png\" alt=\"image2 - two jbuttons on either side of the invisible image\" /></a></p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 44299246,
        "reputation": 1,
        "user_id": 31681295,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/668cda049534a2a2703cb0cfef2b9192?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "IosebiGames",
        "link": "https://stackoverflow.com/users/31681295/iosebigames"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764934986,
      "last_edit_date": 1764934986,
      "creation_date": 1764934092,
      "answer_id": 79838825,
      "question_id": 79834897,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>After checking your code carefully, I found the main issue. It comes from the <code>LoginPage</code> class.</p>\n<p><strong>Layout:</strong>\nYou chose a <code>FlowLayout</code> but I prefer <code>BorderLayout</code> in this case because the image will be displayed in the center of the frame. <code>FlowLayout</code> is useful when you want to add components in a flowing form like <code>Buttons</code>, but in this case <code>BorderLayout</code> is fine.</p>\n<p><strong>Setting label to Opaque:</strong>\nThis one was missing: <code>background.setOpaque(true);</code>. Its very important because it makes image to fit in the <code>Label</code>.</p>\n<p><strong>Image Path:</strong>\nMake sure that you paste your <code>Image</code> path correctly into the <code>ImageIcon</code>;  its better if you use <code>getClass()</code> and <code>getResource()</code> which will shorten your image file path to something similar to: <code>/path/image.png</code>.</p>\n<p>Full fixed code in the <code>LoginPage</code> class (After checking with my 400x400 image, it is working):</p>\n<pre><code>package main;\n\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport javax.swing.ImageIcon;\n\npublic class LoginPage extends Page {\n    protected void init() {\n        root.setLayout(new BorderLayout()); // Instead of FLowLayout. now Image can be partially displayed in the center of the frame.\n\n        JImageLabel background = new JImageLabel(new ImageIcon(getClass().getResource(&quot;/package/filename.extension&quot;))); // enter a path in following way.\n        background.setOpaque(true);  // so Image can fit inside of Label\n        background.setSize(400, 400); \n\n        root.add(background);\n        root.setBackground(Color.BLACK);\n    }\n}\n</code></pre>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "79838825": []
  }
}