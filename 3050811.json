{
  "question": {
    "tags": [
      "java",
      "c++",
      "virtual-functions"
    ],
    "owner": {
      "account_id": 55081,
      "reputation": 2961,
      "user_id": 164933,
      "user_type": "registered",
      "accept_rate": 69,
      "profile_image": "https://www.gravatar.com/avatar/5e3d6490a0e85d32de8298a556314ae1?s=256&d=identicon&r=PG",
      "display_name": "GG.",
      "link": "https://stackoverflow.com/users/164933/gg"
    },
    "is_answered": true,
    "view_count": 6211,
    "accepted_answer_id": 3050911,
    "answer_count": 10,
    "score": 16,
    "last_activity_date": 1764532023,
    "creation_date": 1276664250,
    "last_edit_date": 1439527733,
    "question_id": 3050811,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/3050811/why-should-virtual-functions-not-be-used-excessively",
    "title": "Why should virtual functions not be used excessively?",
    "body": "<p>I just read that we should not use virtual function excessively. People felt that less virtual functions tends to have fewer bugs and reduces maintenance.</p>\n\n<p>What kind of bugs and disadvantages can appear due to virtual functions?</p>\n\n<p>I'm interested in context of C++ or Java.</p>\n\n<hr>\n\n<p>One reason I can think of is virtual function may be slower than normal functions due to v-table lookup.</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 152051,
        "reputation": 11866,
        "user_id": 366299,
        "user_type": "registered",
        "accept_rate": 81,
        "profile_image": "https://www.gravatar.com/avatar/0e8e3739ae9c55898c284aaf5ba164ba?s=256&d=identicon&r=PG",
        "display_name": "atamanroman",
        "link": "https://stackoverflow.com/users/366299/atamanroman"
      },
      "is_accepted": false,
      "score": 2,
      "last_activity_date": 1764532023,
      "last_edit_date": 1764532023,
      "creation_date": 1276669048,
      "answer_id": 3051087,
      "question_id": 3050811,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>I don't know where you read that, but imho this is not about performance at all.</p>\n<p>Maybe its more about &quot;prefer composition about inheritance&quot; and problems which can occur if your classes/methods are not final (I'm talking mostly Java here) but not really designed for reuse. There are many things which can go really wrong:</p>\n<ul>\n<li><p>Maybe you use virtual methods in your\nconstructor - once they're overridden,\nyour base class calls the overridden\nmethod, which may use resources\ninitialized in the subclass\nconstructor - which runs later (NPE rises).</p>\n</li>\n<li><p>Imagine an add and an addAll method\nin a list class. addAll calls add\nmany times and both are virtual.\nSomebody may override them to count\nhow many items have been added at\nall. If you don't document that addAll\ncalls add, the developer may (and\nwill) override both add and addAll\n(and add some counter++ stuff to\nthem). But now, if you use addAll,\neach item is counted twice (add and\naddAll) which leads to incorrect\nresults and hard to find bugs.</p>\n</li>\n</ul>\n<p>To sum this up, if you don't design your class for being extended (provide hooks, document some of the important implementation things), you shouldn't allow inheritance at all because this can lead to mean bugs. Also it's easy to remove a final modifier (and maybe redesign it for reusability) from one of your classes if needed, but it's impossible to make a non-final class (where subclassing lead to errors) final because others may have subclassed it already.</p>\n<p>Maybe it was really about performance, then I'm at least off topic. But if it wasn't, there you have some good reasons not to make your classes extendable if you don't really need it.</p>\n<p>More information about stuff like that in Bloch's Effective Java (this particular post was written a few days after I read item 16 (&quot;prefer composition over inheritance&quot;) and 17 (&quot;design and document for inheritance or else prohibit it&quot;) - amazing book.</p>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "3051087": []
  }
}