{
  "question": {
    "tags": [
      "java",
      "constructor"
    ],
    "owner": {
      "account_id": 15102,
      "reputation": 46568,
      "user_id": 31563,
      "user_type": "registered",
      "accept_rate": 70,
      "profile_image": "https://www.gravatar.com/avatar/12c0cefb531b067d88c2fa2407981ddd?s=256&d=identicon&r=PG",
      "display_name": "Joe Daley",
      "link": "https://stackoverflow.com/users/31563/joe-daley"
    },
    "is_answered": true,
    "view_count": 359474,
    "answer_count": 23,
    "score": 747,
    "last_activity_date": 1759295939,
    "creation_date": 1248297915,
    "last_edit_date": 1655979514,
    "question_id": 1168345,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/1168345/why-do-this-and-super-have-to-be-the-first-statement-in-a-constructor",
    "title": "Why do this() and super() have to be the first statement in a constructor?",
    "body": "<p>Java requires that if you call <code>this()</code> or <code>super()</code> in a constructor, it must be the first statement. Why?</p>\n<p>For example:</p>\n<pre><code>public class MyClass {\n    public MyClass(int x) {}\n}\n\npublic class MySubClass extends MyClass {\n    public MySubClass(int a, int b) {\n        int c = a + b;\n        super(c);  // COMPILE ERROR\n    }\n}\n</code></pre>\n<p>The Sun compiler says, <code>call to super must be first statement in constructor</code>. The Eclipse compiler says, <code>Constructor call must be the first statement in a constructor</code>.</p>\n<p>However, you can get around this by re-arranging the code a little bit:</p>\n<pre><code>public class MySubClass extends MyClass {\n    public MySubClass(int a, int b) {\n        super(a + b);  // OK\n    }\n}\n</code></pre>\n<p>Here is another example:</p>\n<pre><code>public class MyClass {\n    public MyClass(List list) {}\n}\n\npublic class MySubClassA extends MyClass {\n    public MySubClassA(Object item) {\n        // Create a list that contains the item, and pass the list to super\n        List list = new ArrayList();\n        list.add(item);\n        super(list);  // COMPILE ERROR\n    }\n}\n\npublic class MySubClassB extends MyClass {\n    public MySubClassB(Object item) {\n        // Create a list that contains the item, and pass the list to super\n        super(Arrays.asList(new Object[] { item }));  // OK\n    }\n}\n</code></pre>\n<p>So, it is <strong>not stopping you from executing logic</strong> before the call to <code>super()</code>. It is just stopping you from executing logic that you can't fit into a single expression.</p>\n<p>There are similar rules for calling <code>this()</code>. The compiler says, <code>call to this must be first statement in constructor</code>.</p>\n<p>Why does the compiler have these restrictions? Can you give a code example where, if the compiler did not have this restriction, something bad would happen?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 21306087,
        "reputation": 85,
        "user_id": 15681306,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/4ba1237bacbb22e3b9fb126cceba0d09?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Eureka",
        "link": "https://stackoverflow.com/users/15681306/eureka"
      },
      "is_accepted": false,
      "score": 5,
      "last_activity_date": 1759295939,
      "last_edit_date": 1759295939,
      "creation_date": 1720732635,
      "answer_id": 78737716,
      "question_id": 1168345,
      "content_license": "CC BY-SA 4.0",
      "body": "<h2>Java 25+</h2>\n<p>Java 25 and later removes the restriction that &quot;<code>super()</code> has to be the first statement in a constructor&quot;. Now Java allows code before <code>super()</code> calls. See <a href=\"https://openjdk.org/jeps/513\" rel=\"nofollow noreferrer\"><em>JEP 513: Flexible Constructor Bodies</em></a>.</p>\n<p>Example:</p>\n<pre><code>public class PositiveBigInteger extends BigInteger {\n\n    public PositiveBigInteger(long value) {\n        if (value &lt;= 0)\n            throw new IllegalArgumentException(&quot;non-positive value&quot;);\n        super(value);\n    }\n\n}\n</code></pre>\n<p>Bad news is that <code>this()</code> is still subjected to the constraint i.e you have to declare <code>this()</code> first in constructor</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 1012,
        "reputation": 79165,
        "user_id": 1343,
        "user_type": "registered",
        "accept_rate": 53,
        "profile_image": "https://www.gravatar.com/avatar/6757caf55de0413ae0994293e001d465?s=256&d=identicon&r=PG",
        "display_name": "BCS",
        "link": "https://stackoverflow.com/users/1343/bcs"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1750450865,
      "post_id": 1168345,
      "comment_id": 140530604,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "78737716": [
      {
        "owner": {
          "account_id": 31180,
          "reputation": 29752,
          "user_id": 85421,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/kKvXH.gif?s=256",
          "display_name": "user85421",
          "link": "https://stackoverflow.com/users/85421/user85421"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1759302448,
        "post_id": 78737716,
        "comment_id": 140770378,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}