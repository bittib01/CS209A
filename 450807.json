{
  "question": {
    "tags": [
      "java",
      "generics",
      "return-value"
    ],
    "owner": {
      "account_id": 21219,
      "reputation": 21130,
      "user_id": 51402,
      "user_type": "registered",
      "accept_rate": 53,
      "profile_image": "https://www.gravatar.com/avatar/e52ecd4828323848c09d9d3772747183?s=256&d=identicon&r=PG",
      "display_name": "Sathish",
      "link": "https://stackoverflow.com/users/51402/sathish"
    },
    "is_answered": true,
    "view_count": 960432,
    "accepted_answer_id": 450874,
    "answer_count": 19,
    "score": 711,
    "last_activity_date": 1632649957,
    "creation_date": 1232120588,
    "last_edit_date": 1463391602,
    "question_id": 450807,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/450807/how-do-i-make-the-method-return-type-generic",
    "title": "How do I make the method return type generic?",
    "body": "<p>Consider this example (typical in OOP books):  </p>\n\n<p>I have an <code>Animal</code> class, where each <code>Animal</code> can have many friends.<br>\nAnd subclasses like <code>Dog</code>, <code>Duck</code>, <code>Mouse</code> etc which add specific behavior like <code>bark()</code>, <code>quack()</code> etc.</p>\n\n<p>Here's the <code>Animal</code> class:</p>\n\n<pre><code>public class Animal {\n    private Map&lt;String,Animal&gt; friends = new HashMap&lt;&gt;();\n\n    public void addFriend(String name, Animal animal){\n        friends.put(name,animal);\n    }\n\n    public Animal callFriend(String name){\n        return friends.get(name);\n    }\n}\n</code></pre>\n\n<p>And here's some code snippet with lots of typecasting:</p>\n\n<pre><code>Mouse jerry = new Mouse();\njerry.addFriend(\"spike\", new Dog());\njerry.addFriend(\"quacker\", new Duck());\n\n((Dog) jerry.callFriend(\"spike\")).bark();\n((Duck) jerry.callFriend(\"quacker\")).quack();\n</code></pre>\n\n<p>Is there any way I can use generics for the return type to get rid of the typecasting, so that I can say    </p>\n\n<pre><code>jerry.callFriend(\"spike\").bark();\njerry.callFriend(\"quacker\").quack();\n</code></pre>\n\n<p>Here's some initial code with return type conveyed to the method as a parameter that's never used. </p>\n\n<pre><code>public&lt;T extends Animal&gt; T callFriend(String name, T unusedTypeObj){\n    return (T)friends.get(name);        \n}\n</code></pre>\n\n<p>Is there a way to figure out the return type at runtime without the extra parameter using <code>instanceof</code>? Or at least by passing a class of the type instead of a dummy instance.<br>\nI understand generics are for compile time type-checking, but is there a workaround for this?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}