{
  "question": {
    "tags": [
      "java",
      "arrays",
      "java-8",
      "java-stream"
    ],
    "owner": {
      "user_type": "does_not_exist",
      "display_name": "user972946"
    },
    "is_answered": true,
    "view_count": 771362,
    "protected_date": 1552033270,
    "accepted_answer_id": 23079174,
    "answer_count": 10,
    "score": 1112,
    "last_activity_date": 1761925353,
    "creation_date": 1397552413,
    "last_edit_date": 1761920506,
    "question_id": 23079003,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/23079003/how-can-i-convert-a-java-8-stream-to-an-array",
    "title": "How can I convert a Java 8 Stream to an Array?",
    "body": "<p>What is the easiest/shortest way to convert a Java 8 <code>Stream</code> into an array?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 4852136,
        "reputation": 2683,
        "user_id": 3914166,
        "user_type": "registered",
        "accept_rate": 25,
        "profile_image": "https://i.sstatic.net/4jU6D.jpg?s=256",
        "display_name": "Bachiri Taoufiq Abderrahman",
        "link": "https://stackoverflow.com/users/3914166/bachiri-taoufiq-abderrahman"
      },
      "is_accepted": false,
      "score": 35,
      "last_activity_date": 1761925353,
      "last_edit_date": 1761925353,
      "creation_date": 1495731436,
      "answer_id": 44185928,
      "question_id": 23079003,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>You can convert a Java 8 stream to an array using this simple code block:</p>\n<pre><code> String[] myNewArray3 = myNewStream.toArray(String[]::new);\n</code></pre>\n<p>But let's explain things more. First, let's create a list of strings filled with three values:</p>\n<pre><code>String[] stringList = {&quot;Bachiri&quot;, &quot;Taoufiq&quot;, &quot;Abderrahman&quot;};\n</code></pre>\n<p>Create a stream from the given Array:</p>\n<pre><code>Stream&lt;String&gt; stringStream = Arrays.stream(stringList);\n</code></pre>\n<p>We can now perform some operations on this stream. For example:</p>\n<pre><code>Stream&lt;String&gt; myNewStream = stringStream.map(s -&gt; s.toUpperCase());\n</code></pre>\n<p>And finally convert it to a Java 8 Array using these methods:</p>\n<ol>\n<li><p>Classic method (functional interface)</p>\n<pre><code> IntFunction&lt;String[]&gt; intFunction = new IntFunction&lt;String[]&gt;() {\n     @Override\n     public String[] apply(int value) {\n         return new String[value];\n     }\n };\n\n String[] myNewArray = myNewStream.toArray(intFunction);\n</code></pre>\n</li>\n<li><p>Lambda expression</p>\n<pre><code> String[] myNewArray2 = myNewStream.toArray(value -&gt; new String[value]);\n</code></pre>\n</li>\n<li><p>Method reference</p>\n<pre><code> String[] myNewArray3 = myNewStream.toArray(String[]::new);\n</code></pre>\n</li>\n</ol>\n<p>Method reference explanation:</p>\n<p>It's another way of writing a lambda expression that it's strictly equivalent to the other.</p>\n"
    },
    {
      "owner": {
        "account_id": 5519276,
        "reputation": 47,
        "user_id": 4382828,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/bd0d529a7b3ed6c88a438ec6212cdaa7?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Sai Tata",
        "link": "https://stackoverflow.com/users/4382828/sai-tata"
      },
      "is_accepted": false,
      "score": -1,
      "last_activity_date": 1761921922,
      "last_edit_date": 1761921922,
      "creation_date": 1692817947,
      "answer_id": 76964288,
      "question_id": 23079003,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Use:</p>\n<pre><code>// Create a stream of string elements\n\nStream&lt;String&gt; stringStream = Stream.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;);\n\n\n// Convert the stream to arrays of strings\n\nString[] stringArray = stringStream.toArray(String[]::new);\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 8747724,
        "reputation": 259,
        "user_id": 6542309,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/4f69a629d56ae197cc280d903ef59b0a?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Raj N",
        "link": "https://stackoverflow.com/users/6542309/raj-n"
      },
      "is_accepted": false,
      "score": 1,
      "last_activity_date": 1761921863,
      "last_edit_date": 1761921863,
      "creation_date": 1528453345,
      "answer_id": 50758505,
      "question_id": 23079003,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Use:</p>\n<pre><code>Stream&lt;Integer&gt; stream = Stream.of(1, 2, 3, 4, 5, 6);\n\nint[] arr = stream.mapToInt(x-&gt;x.intValue()).toArray();\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 7406733,
        "reputation": 643,
        "user_id": 5635466,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/952fW.jpg?s=256",
        "display_name": "Danail Tsvetanov",
        "link": "https://stackoverflow.com/users/5635466/danail-tsvetanov"
      },
      "is_accepted": false,
      "score": 21,
      "last_activity_date": 1761921790,
      "last_edit_date": 1761921790,
      "creation_date": 1522672787,
      "answer_id": 49611485,
      "question_id": 23079003,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Convert text to a String array where each value is separated by comma, and trim every field. For example:</p>\n<pre><code>String[] stringArray = Arrays.stream(line.split(&quot;,&quot;))          \n                             .map(String::trim)\n                             .toArray(String[]::new);\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 2347441,
        "reputation": 69799,
        "user_id": 2057294,
        "user_type": "registered",
        "accept_rate": 63,
        "profile_image": "https://i.sstatic.net/7qZho.jpg?s=256",
        "display_name": "skiwi",
        "link": "https://stackoverflow.com/users/2057294/skiwi"
      },
      "is_accepted": true,
      "score": 1652,
      "last_activity_date": 1761921318,
      "last_edit_date": 1761921318,
      "creation_date": 1397552846,
      "answer_id": 23079174,
      "question_id": 23079003,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>The easiest method is to use the <code>toArray(IntFunction&lt;A[]&gt; generator)</code> method with an array constructor reference. This is suggested in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"nofollow noreferrer\">API documentation for the method</a>.</p>\n<pre><code>String[] stringArray = stringStream.toArray(String[]::new);\n</code></pre>\n<p>It finds a method that takes in an integer (the size) as argument, and returns a <code>String[]</code>, which is exactly what (one of the overloads of) <code>new String[]</code> does.</p>\n<p>You could also write your own <code>IntFunction</code>:</p>\n<pre><code>Stream&lt;String&gt; stringStream = ...;\nString[] stringArray = stringStream.toArray(size -&gt; new String[size]);\n</code></pre>\n<p>The purpose of the <code>IntFunction&lt;A[]&gt; generator</code> is to convert an integer, the size of the array, to a new array.</p>\n<p>Example code:</p>\n<pre><code>Stream&lt;String&gt; stringStream = Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\nString[] stringArray = stringStream.toArray(size -&gt; new String[size]);\nArrays.stream(stringArray).forEach(System.out::println);\n</code></pre>\n<p>Prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>a\nb\nc\n</code></pre>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 880980,
        "reputation": 1270,
        "user_id": 244365,
        "user_type": "registered",
        "accept_rate": 25,
        "profile_image": "https://www.gravatar.com/avatar/4143c51b65350247de84a33eb8a9b46c?s=256&d=identicon&r=PG",
        "display_name": "PaulMurrayCbr",
        "link": "https://stackoverflow.com/users/244365/paulmurraycbr"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1715874493,
      "post_id": 23079003,
      "comment_id": 138376903,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "44185928": [],
    "76964288": [
      {
        "owner": {
          "account_id": 1497191,
          "reputation": 10233,
          "user_id": 1402846,
          "user_type": "registered",
          "accept_rate": 90,
          "profile_image": "https://i.sstatic.net/z5AzI.png?s=256",
          "display_name": "Pang",
          "link": "https://stackoverflow.com/users/1402846/pang"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1724912665,
        "post_id": 76964288,
        "comment_id": 139157483,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 1691630,
          "reputation": 51067,
          "user_id": 1553851,
          "user_type": "registered",
          "accept_rate": 73,
          "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=256&d=identicon&r=PG",
          "display_name": "shmosel",
          "link": "https://stackoverflow.com/users/1553851/shmosel"
        },
        "edited": false,
        "score": 6,
        "creation_date": 1692818278,
        "post_id": 76964288,
        "comment_id": 135677431,
        "content_license": "CC BY-SA 4.0"
      }
    ],
    "50758505": [],
    "49611485": [],
    "23079174": [
      {
        "owner": {
          "account_id": 72430,
          "reputation": 23893,
          "user_id": 209113,
          "user_type": "registered",
          "accept_rate": 65,
          "profile_image": "https://www.gravatar.com/avatar/f57b8a6cbc5b69c8fe0d5466f6627c08?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "MegaMatt",
          "link": "https://stackoverflow.com/users/209113/megamatt"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1656438769,
        "post_id": 23079174,
        "comment_id": 128570927,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}