{
  "question": {
    "tags": [
      "java",
      "java-record"
    ],
    "owner": {
      "account_id": 3074142,
      "reputation": 1201,
      "user_id": 2603985,
      "user_type": "registered",
      "accept_rate": 41,
      "profile_image": "https://www.gravatar.com/avatar/5c8f6855ff123873ba35970c19d60900?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Gaurav",
      "link": "https://stackoverflow.com/users/2603985/gaurav"
    },
    "is_answered": true,
    "view_count": 7645,
    "accepted_answer_id": 78545317,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1764753238,
    "creation_date": 1716910493,
    "last_edit_date": 1764753238,
    "question_id": 78545142,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78545142/java-record-does-not-have-default-builder",
    "title": "Java record does not have default builder",
    "body": "<p>Java came with records which are really useful and can avoid use of library like <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\"><em>Project Lombok</em></a>. But can someone please help me understand why records does not support <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder pattern</a> by default? I understand records are immutable but the Builder pattern also gives immutability.</p>\n<p>So, basically I have to use Lombok's <code>@Builder</code> in records or implement by my own to use builder pattern, which could be avoided if records had a builder by default.</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 322981,
        "reputation": 346871,
        "user_id": 642706,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name": "Basil Bourque",
        "link": "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "is_accepted": true,
      "score": 21,
      "last_activity_date": 1751647589,
      "last_edit_date": 1751647589,
      "creation_date": 1716912621,
      "answer_id": 78545317,
      "question_id": 78545142,
      "content_license": "CC BY-SA 4.0",
      "body": "<h2>Records are not “Lombok-lite”</h2>\n<p>Recreating <a href=\"https://projectlombok.org/\" rel=\"noreferrer\">Lombok</a> is not the purpose of Java record.</p>\n<p>The purpose of Java record is to provide an explicit vehicle for <strong>transparently communicating shallowly-immutable data</strong>.</p>\n<p>Technically, records are Java’s <em>nominal tuple</em>. <a href=\"https://en.m.wikipedia.org/wiki/Tuple\" rel=\"noreferrer\"><em>Tuple</em></a> means an ordered set of fields. <em>Nominal</em> means the fields have names, as does their container.  Practically, you can think of a Java record as a <a href=\"https://en.m.wikipedia.org/wiki/Struct_(C_programming_language)\" rel=\"noreferrer\"><code>struct</code></a> <a href=\"https://en.m.wiktionary.org/wiki/on_steroids\" rel=\"noreferrer\">on steroids</a>.</p>\n<p>See the official document for scope and purpose, <a href=\"https://openjdk.org/jeps/395\" rel=\"noreferrer\"><em>JEP 395: Records</em></a>.</p>\n<p>So no <a href=\"https://en.wikipedia.org/wiki/Builder_pattern\" rel=\"noreferrer\">Builder</a> feature need be provided by default as that lies outside the scope of Java record. However, you can easily create your own Builder for any particular record class.</p>\n<h2>AI-generated</h2>\n<p>Actually, you need not write your own Builder implementation. Let a <a href=\"https://en.wikipedia.org/wiki/Generative_artificial_intelligence\" rel=\"noreferrer\">generative AI</a> draft the code on your behalf. (Be sure to review carefully as these <a href=\"https://en.m.wikipedia.org/wiki/Hallucination_(artificial_intelligence)\" rel=\"noreferrer\">AIs are imperfect</a>.)</p>\n<p>For example:</p>\n<blockquote>\n<p>write code for a Builder class for the Java record <code>record Person ( String name , LocalDate birth ){}</code></p>\n</blockquote>\n<p><a href=\"https://www.ecosia.org/chat?q=write%20code%20for%20a%20Builder%20class%20for%20the%20Java%20record%20%60record%20Person%20%28%20String%20name%20,%20LocalDate%20birth%20%29%7B%7D%60\" rel=\"noreferrer\">Ecosia</a> AI chat feature produces:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Person(String name, LocalDate birth) {\n    \n    public static class Builder {\n        private String name;\n        private LocalDate birth;\n\n        public Builder name(String name) {\n            this.name = name;\n            return this;\n        }\n\n        public Builder birth(LocalDate birth) {\n            this.birth = birth;\n            return this;\n        }\n\n        public Person build() {\n            return new Person(name, birth);\n        }\n    }\n}\n</code></pre>\n<p>That code worked for me, copy-pasted, with no edits needed.</p>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Person person = new Person.Builder()\n    .birth(LocalDate.of(2001, Month.JANUARY, 23))\n    .name(&quot;Alice&quot;)\n    .build();\n\nperson.toString() // ➡️ Person[name=Alice, birth=2001-01-23]\n</code></pre>\n<h2>Withers</h2>\n<p>By the way, work is underway to add “withers”, a feature to instantiate a new record object based on the payload values of another. See <a href=\"https://openjdk.org/jeps/468\" rel=\"noreferrer\"><em>JEP 468: Derived Record Creation (Preview)</em></a>.</p>\n<h2><em>Jakarta Validation</em></h2>\n<p>You may want to use <a href=\"https://jakarta.ee/specifications/bean-validation/\" rel=\"noreferrer\"><em>Jakarta Validation</em></a> (previously known as <em>Bean Validation</em>) to verify the validity of your new record object’s state after calling wither methods.</p>\n<p>Likewise, you might use <em>Jakarta Validation</em> in your Builder implementation.</p>\n<h2><em>RecordBuilder</em> library</h2>\n<p><a href=\"https://github.com/Randgalt/record-builder\" rel=\"noreferrer\"><em>RecordBuilder</em></a> is an interesting project that lets you mark a Java record with an annotation. Then <em>RecordBuilder</em> generates code for builders and withers.</p>\n<p>I’ve not yet tried using this library, so I cannot vouch for it.</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 265649,
        "reputation": 53782,
        "user_id": 552759,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/f8c60eb5f46783d753e86238a9c18cd9?s=256&d=identicon&r=PG",
        "display_name": "jtahlborn",
        "link": "https://stackoverflow.com/users/552759/jtahlborn"
      },
      "edited": false,
      "score": 2,
      "creation_date": 1726678483,
      "post_id": 78545142,
      "comment_id": 139291624,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 3074142,
        "reputation": 1201,
        "user_id": 2603985,
        "user_type": "registered",
        "accept_rate": 41,
        "profile_image": "https://www.gravatar.com/avatar/5c8f6855ff123873ba35970c19d60900?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Gaurav",
        "link": "https://stackoverflow.com/users/2603985/gaurav"
      },
      "reply_to_user": {
        "account_id": 45213,
        "reputation": 27280,
        "user_id": 133203,
        "user_type": "registered",
        "accept_rate": 97,
        "profile_image": "https://i.sstatic.net/Fp3hB.jpg?s=256",
        "display_name": "Federico klez Culloca",
        "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1716968618,
      "post_id": 78545142,
      "comment_id": 138476924,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 45213,
        "reputation": 27280,
        "user_id": 133203,
        "user_type": "registered",
        "accept_rate": 97,
        "profile_image": "https://i.sstatic.net/Fp3hB.jpg?s=256",
        "display_name": "Federico klez Culloca",
        "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"
      },
      "edited": false,
      "score": 3,
      "creation_date": 1716911968,
      "post_id": 78545142,
      "comment_id": 138471646,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 372682,
        "reputation": 26512,
        "user_id": 721855,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/vZiox.png?s=256",
        "display_name": "aled",
        "link": "https://stackoverflow.com/users/721855/aled"
      },
      "edited": false,
      "score": 1,
      "creation_date": 1716911867,
      "post_id": 78545142,
      "comment_id": 138471631,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 465573,
        "reputation": 200423,
        "user_id": 869736,
        "user_type": "registered",
        "accept_rate": 82,
        "profile_image": "https://www.gravatar.com/avatar/ae7bb06b9a23a4dd7eea69e853d47d12?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Louis Wasserman",
        "link": "https://stackoverflow.com/users/869736/louis-wasserman"
      },
      "edited": false,
      "score": 7,
      "creation_date": 1716910712,
      "post_id": 78545142,
      "comment_id": 138471462,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "78545317": [
      {
        "owner": {
          "account_id": 401843,
          "reputation": 107175,
          "user_id": 768644,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
          "display_name": "rzwitserloot",
          "link": "https://stackoverflow.com/users/768644/rzwitserloot"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1764713129,
        "post_id": 78545317,
        "comment_id": 140884234,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 401843,
          "reputation": 107175,
          "user_id": 768644,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/b13bedc5215730fbce5edff6c130988a?s=256&d=identicon&r=PG",
          "display_name": "rzwitserloot",
          "link": "https://stackoverflow.com/users/768644/rzwitserloot"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1764713005,
        "post_id": 78545317,
        "comment_id": 140884232,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 322981,
          "reputation": 346871,
          "user_id": 642706,
          "user_type": "registered",
          "accept_rate": 58,
          "profile_image": "https://i.sstatic.net/ZWEI3.jpg?s=256",
          "display_name": "Basil Bourque",
          "link": "https://stackoverflow.com/users/642706/basil-bourque"
        },
        "reply_to_user": {
          "account_id": 372736,
          "reputation": 2591,
          "user_id": 721956,
          "user_type": "registered",
          "accept_rate": 54,
          "profile_image": "https://www.gravatar.com/avatar/85e2218d60c2969cfade32a0c53dc4ca?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Askar Kalykov",
          "link": "https://stackoverflow.com/users/721956/askar-kalykov"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1751647365,
        "post_id": 78545317,
        "comment_id": 140565585,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 372736,
          "reputation": 2591,
          "user_id": 721956,
          "user_type": "registered",
          "accept_rate": 54,
          "profile_image": "https://www.gravatar.com/avatar/85e2218d60c2969cfade32a0c53dc4ca?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Askar Kalykov",
          "link": "https://stackoverflow.com/users/721956/askar-kalykov"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1751622204,
        "post_id": 78545317,
        "comment_id": 140564571,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 3074142,
          "reputation": 1201,
          "user_id": 2603985,
          "user_type": "registered",
          "accept_rate": 41,
          "profile_image": "https://www.gravatar.com/avatar/5c8f6855ff123873ba35970c19d60900?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Gaurav",
          "link": "https://stackoverflow.com/users/2603985/gaurav"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1717130309,
        "post_id": 78545317,
        "comment_id": 138495359,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 322981,
          "reputation": 346871,
          "user_id": 642706,
          "user_type": "registered",
          "accept_rate": 58,
          "profile_image": "https://i.sstatic.net/ZWEI3.jpg?s=256",
          "display_name": "Basil Bourque",
          "link": "https://stackoverflow.com/users/642706/basil-bourque"
        },
        "reply_to_user": {
          "account_id": 3074142,
          "reputation": 1201,
          "user_id": 2603985,
          "user_type": "registered",
          "accept_rate": 41,
          "profile_image": "https://www.gravatar.com/avatar/5c8f6855ff123873ba35970c19d60900?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Gaurav",
          "link": "https://stackoverflow.com/users/2603985/gaurav"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1716992450,
        "post_id": 78545317,
        "comment_id": 138480811,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 3074142,
          "reputation": 1201,
          "user_id": 2603985,
          "user_type": "registered",
          "accept_rate": 41,
          "profile_image": "https://www.gravatar.com/avatar/5c8f6855ff123873ba35970c19d60900?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Gaurav",
          "link": "https://stackoverflow.com/users/2603985/gaurav"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1716971061,
        "post_id": 78545317,
        "comment_id": 138477287,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}