{
  "question": {
    "tags": [
      "java",
      "eclipse",
      "code-formatting",
      "pretty-print",
      "eclipse-formatter"
    ],
    "owner": {
      "account_id": 7913,
      "reputation": 34139,
      "user_id": 13940,
      "user_type": "registered",
      "accept_rate": 58,
      "profile_image": "https://www.gravatar.com/avatar/642eea8127a7695eed5a2f3ba8360b5a?s=256&d=identicon&r=PG",
      "display_name": "Greg Mattes",
      "link": "https://stackoverflow.com/users/13940/greg-mattes"
    },
    "is_answered": true,
    "view_count": 198483,
    "accepted_answer_id": 3353765,
    "answer_count": 14,
    "score": 539,
    "last_activity_date": 1756304054,
    "creation_date": 1259599116,
    "last_edit_date": 1413732777,
    "question_id": 1820908,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/1820908/how-to-turn-off-the-eclipse-code-formatter-for-certain-sections-of-java-code",
    "title": "How to turn off the Eclipse code formatter for certain sections of Java code?",
    "body": "<p>I've got some Java code with SQL statements written as Java strings (please no OR/M flamewars, the embedded SQL is what it is - not my decision).</p>\n\n<p>I've broken the SQL statements semantically into several concatenated strings over several lines of code for ease of maintenance. So instead of something like:</p>\n\n<pre><code>String query = \"SELECT FOO, BAR, BAZ FROM ABC WHERE BAR &gt; 4\";\n</code></pre>\n\n<p>I have something like:</p>\n\n<pre><code>String query =\n    \"SELECT FOO, BAR, BAZ\" +\n    \"  FROM ABC          \" +\n    \" WHERE BAR &gt; 4      \";\n</code></pre>\n\n<p>This style makes the SQL much easier to read and maintain (IMHO), especially for larger queries. For example, I can put my editor into \"overwrite\" mode and modify the text in-place fairly easily.</p>\n\n<p><strong>Note that this issue generalizes beyond the particular example of SQL. Any code that is written with any vertical formatting, particularly tabular constructs, is susceptible to destruction by a pretty printer.</strong></p>\n\n<p>Now, some project members use the Eclipse editor and the semantic formatting is often destroyed when they format an entire source file.</p>\n\n<p><strong>Is there a way to instruct Eclipse to ignore certain lines of source with respect to formatting?</strong></p>\n\n<p>I'm looking for something like a special comment that toggles the Eclipse formatter. Ideally, such a comment could be configurable to be whatever we choose, and other formatters could be programmed to respect it as well:</p>\n\n<pre><code>// STOP-ECLIPSE-FORMATTING\nString query =\n    \"SELECT FOO, BAR, BAZ\" +\n    \"  FROM ABC          \" +\n    \" WHERE BAR &gt; 4      \";\n// START-ECLIPSE-FORMATTING\n</code></pre>\n\n<p>Obviously, one \"solution\" is to have our team members standardize on some external formatter like <a href=\"http://www.triemax.com/products/jalopy/\" rel=\"noreferrer\">Jalopy</a> or <a href=\"http://www.jindent.com/\" rel=\"noreferrer\">JIndent</a>, but that's not what this question is about (also, not my decision on this project): I'm specifically looking for a way to avoid the Eclipse formatter on an ad-hoc basis.</p>\n\n<p>Ideally, a solution will allow me to insert instructions for the Eclipse formatter <strong>without requiring team members using Eclipse to do any IDE reconfiguration</strong> (other than possibly choosing a formatter agnostic command comment: <code>STOP-ECLIPSE-FORMATTING</code> &rarr; <code>STOP-FORMATTING</code>).</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 42065,
        "reputation": 54756,
        "user_id": 122428,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/a5d95005d7531abdb874dabfd9f64294?s=256&d=identicon&r=PG",
        "display_name": "jitter",
        "link": "https://stackoverflow.com/users/122428/jitter"
      },
      "is_accepted": false,
      "score": 64,
      "last_activity_date": 1756304054,
      "last_edit_date": 1756304054,
      "creation_date": 1259599709,
      "answer_id": 1820968,
      "question_id": 1820908,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>AFAIK from Eclipse 3.5 M4 on the formatter has an option &quot;Never Join Lines&quot; which preserves user lines breaks. Maybe that does what you want.</p>\n<p>EDIT: the above is at Window &gt; Preferences &gt; Java &gt; Code Style &gt; Formatter &gt; Active profile Edit &gt; Line Wrapping &gt; ENABLE Never join already wrapped lines.</p>\n<p>Else there is this ugly hack</p>\n<pre><code>String query = //\n    &quot;SELECT FOO, BAR, BAZ&quot; + //\n    &quot;  FROM ABC&quot;           + //\n    &quot; WHERE BAR &gt; 4&quot;;\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 55041,
        "reputation": 11513,
        "user_id": 164802,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/zhc8H.jpg?s=256",
        "display_name": "xpmatteo",
        "link": "https://stackoverflow.com/users/164802/xpmatteo"
      },
      "is_accepted": true,
      "score": 940,
      "last_activity_date": 1718870009,
      "last_edit_date": 1718870009,
      "creation_date": 1280326656,
      "answer_id": 3353765,
      "question_id": 1820908,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Eclipse 3.6 allows you to turn off formatting by placing a special comment, like</p>\n<pre><code>// @formatter:off\n...\n// @formatter:on\n</code></pre>\n<p>The on/off features have to be turned &quot;on&quot; in Eclipse preferences: <kbd>Java </kbd> → <kbd>Code Style</kbd>→<kbd>Formatter</kbd>. Click on <kbd>Edit</kbd>, <kbd>Off/On Tags</kbd>, enable <kbd>Enable Off/On tags</kbd>.</p>\n<p>It's also possible to change the magic strings in the preferences — <a href=\"http://archive.eclipse.org/eclipse/downloads/drops/R-3.6-201006080911/eclipse-news-part2.html#JavaFormatter\" rel=\"noreferrer\">check out the Eclipse 3.6 docs here</a>.</p>\n<p><strong>More Information</strong></p>\n<p><kbd>Java </kbd> →\n<kbd>Code Style</kbd>\n→\n<kbd>Formatter</kbd>\n→\n<kbd>Edit</kbd>\n→\n<kbd>Off/On Tags</kbd></p>\n<p>This preference allows you to define one tag to disable and one tag to enable the formatter (see the Off/On Tags tab in your formatter profile):</p>\n<p><img src=\"https://i.sstatic.net/GwcgT.png\" alt=\"enter image description here\" /></p>\n<p>You also need to enable the flags from <kbd>Java Formatting</kbd></p>\n<p>Note: Javadoc generation will fail if these controls are placed inside a Javadoc comment.</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 24731384,
        "reputation": 103,
        "user_id": 18619318,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8137e2bf2cc391b99b3daba31390d43b?s=256&d=identicon&r=PG",
        "display_name": "user18619318",
        "link": "https://stackoverflow.com/users/18619318/user18619318"
      },
      "edited": false,
      "score": 1,
      "creation_date": 1651647545,
      "post_id": 1820908,
      "comment_id": 127409998,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 21994,
        "reputation": 75391,
        "user_id": 53897,
        "user_type": "registered",
        "accept_rate": 56,
        "profile_image": "https://i.sstatic.net/enNdg.jpg?s=256",
        "display_name": "Thorbj&#248;rn Ravn Andersen",
        "link": "https://stackoverflow.com/users/53897/thorbj%c3%b8rn-ravn-andersen"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1584121253,
      "post_id": 1820908,
      "comment_id": 107349148,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "1820968": [],
    "3353765": []
  }
}