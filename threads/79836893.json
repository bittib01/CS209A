{
  "question": {
    "tags": [
      "java",
      "spring",
      "mongodb"
    ],
    "owner": {
      "account_id": 30652349,
      "reputation": 1,
      "user_id": 23498477,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocJd-a6RfKp4SSYss-LIfbUiMgcvXquxYmtmQxb7bBtSKA=k-s256",
      "display_name": "Investia.tech",
      "link": "https://stackoverflow.com/users/23498477/investia-tech"
    },
    "is_answered": false,
    "view_count": 83,
    "closed_date": 1764765941,
    "answer_count": 1,
    "score": -4,
    "last_activity_date": 1764766161,
    "creation_date": 1764765651,
    "question_id": 79836893,
    "link": "https://stackoverflow.com/questions/79836893/spring-boot-4-0-0-with-a-mongodb-database-the-properties-in-application-propert",
    "closed_reason": "Duplicate",
    "title": "Spring Boot 4.0.0 with a MongoDB database, the properties in application.properties are not working",
    "body": "<p>The properties in the <code>application.properties</code> file are not working. The application connects to the <code>test</code> database instead of the one specified in the <code>application.properties</code> file, and it also connects without any credentials credential=null.</p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\nspring.data.mongodb.database=newsletter\nspring.data.mongodb.username=newsletter_user\nspring.data.mongodb.password=secret\nspring.data.mongodb.authentication-database=admin\n</code></pre>\n<p>I also try uri:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://newsletter_user:secret@localhost:27017/newsletter?authSource=admin\n</code></pre>\n<p>Import application.yml</p>\n<pre><code>implementation(&quot;org.springframework.boot:spring-boot-starter-data-mongodb&quot;)\n</code></pre>\n<p>The temporary workaround I managed to implement is using a configuration <code>@Bean</code>.</p>\n<pre><code>package tech.investia.newsletter.configs;\n\nimport com.mongodb.ConnectionString;\nimport com.mongodb.MongoClientSettings;\nimport com.mongodb.client.MongoClient;\nimport com.mongodb.client.MongoClients;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.mongodb.core.MongoTemplate;\n\n@Configuration\npublic class MongoConfig {\n    private static final String MONGO_URI =\n            &quot;mongodb://newsletter_user:secret@localhost:27017/newsletter?authSource=admin&quot;;\n\n    @Bean\n    public MongoClient mongoClient() {\n        ConnectionString cs = new ConnectionString(MONGO_URI);\n\n        MongoClientSettings settings = MongoClientSettings.builder()\n                .applyConnectionString(cs)\n                .build();\n\n        return MongoClients.create(settings);\n    }\n\n    @Bean\n    public MongoTemplate mongoTemplate(MongoClient mongoClient) {\n        ConnectionString cs = new ConnectionString(MONGO_URI);\n        assert cs.getDatabase() != null;\n        return new MongoTemplate(mongoClient, cs.getDatabase());\n    }\n}\n</code></pre>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 17724496,
        "reputation": 1010,
        "user_id": 12868634,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/JcQNe.png?s=256",
        "display_name": "Roland Kreuzer",
        "link": "https://stackoverflow.com/users/12868634/roland-kreuzer"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764766161,
      "last_edit_date": 1764766161,
      "creation_date": 1764765806,
      "answer_id": 79836894,
      "question_id": 79836893,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>A lot of the configuration properties changed between 3.x and 4.x.<br />\nMost of them dropped the <em>.data</em> part.</p>\n<p>For Spring Boot 4 the correct keys are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.mongodb.database\nspring.mongodb.host\nspring.mongodb.password\nspring.mongodb.port\nspring.mongodb.username\n</code></pre>\n<p>You may also want to check out the migration guide for the full list of changes:</p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-4.0-Migration-Guide#mongodb\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-4.0-Migration-Guide#mongodb</a></p>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "79836894": []
  }
}