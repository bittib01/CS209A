{
  "question": {
    "tags": [
      "java",
      "spring",
      "enums",
      "spring-jdbc",
      "jdbctemplate"
    ],
    "owner": {
      "account_id": 6022607,
      "reputation": 788,
      "user_id": 4729284,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/8302d0435eb76b14081e28bbee9107a0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Steph",
      "link": "https://stackoverflow.com/users/4729284/steph"
    },
    "is_answered": true,
    "view_count": 3638,
    "accepted_answer_id": 32821331,
    "answer_count": 1,
    "score": 3,
    "last_activity_date": 1764802221,
    "creation_date": 1443429369,
    "last_edit_date": 1764802221,
    "question_id": 32818794,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/32818794/unable-to-store-enum-in-batch-way-with-spring-jdbc-namedparameterjdbctemplate",
    "title": "Unable to store Enum in batch way with spring-jdbc NamedParameterJdbcTemplate",
    "body": "<p>I'm facing a enum problem with spring-jdbc. I have a POJO which contains an enum value. I want to store the string value in database, not the ordinal. I made a DAO and it's working well except for batch methods with a namedParameterJdbcTemplate (for jdbcTemplate and BatchPreparedStatementSetter it works but I prefer to use named parameters).</p>\n<p>For instance:</p>\n<pre><code>public int[] batchUpdate(List&lt;MyPojo&gt; pojos) throws DaoException {\n    SqlParameterSource[] parameters = new SqlParameterSource[pojos.size()];\n\n    for (int i = 0; i &lt; pojos.size(); i++) {\n        parameters[i] = new BeanPropertySqlParameterSource(pojos.get(i));\n    }\n\n    try {\n        return namedParameterJdbcTemplate.batchUpdate(SQL_UPDATE, (SqlParameterSource[]) parameters);\n    } catch (Exception ex) {\n        throw new DaoException(ex);\n    }\n}\n</code></pre>\n<p>doesn't work for enums properties.</p>\n<p>I have this error:</p>\n<blockquote>\n<p>Caused by: org.h2.jdbc.JdbcSQLException: Value too long for column\n&quot;STATUS CHARACTER VARYING(20) NOT NULL&quot;:\n&quot;'aced00057e7200466f72672e67656e792e7064702e6669726562697264732e67656e79746f74652e646f6d61696e6d6f64656c2e6265742e4265744465636f6...\n(258)&quot;; SQL statement: UPDATE ... SET ..., status = ? WHERE id = ? [22001-187]    at\norg.h2.message.DbException.getJdbcSQLException(DbException.java:345)\nat org.h2.message.DbException.get(DbException.java:179)     at\norg.h2.table.Column.validateConvertUpdateSequence(Column.java:327)    at\norg.h2.table.Table.validateConvertUpdateSequence(Table.java:737)  at\norg.h2.command.dml.Update.update(Update.java:125)     at\norg.h2.command.CommandContainer.update(CommandContainer.java:78)  at\norg.h2.command.Command.executeUpdate(Command.java:254)    at\norg.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:157)\nat\norg.h2.jdbc.JdbcPreparedStatement.executeBatch(JdbcPreparedStatement.java:1183)\nat\norg.springframework.jdbc.core.JdbcTemplate$4.doInPreparedStatement(JdbcTemplate.java:1005)\nat\norg.springframework.jdbc.core.JdbcTemplate$4.doInPreparedStatement(JdbcTemplate.java:989)\nat\norg.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:644)\n... 43 more</p>\n</blockquote>\n<p>MyPojo has an enum value (status). It's strange because the enum string I want to store is 'validated' not 'aced000...'. If I was using JPA, I would used <code>@Enumerated(EnumType.STRING)</code> for my status field but does a stuff like this exists on spring-jdbc ?</p>\n<p>Regards</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}