{
  "question": {
    "tags": [
      "java",
      "payment",
      "applepay",
      "applepayjs",
      "applepay-web"
    ],
    "owner": {
      "account_id": 923053,
      "reputation": 4039,
      "user_id": 954358,
      "user_type": "registered",
      "accept_rate": 47,
      "profile_image": "https://i.sstatic.net/1FnLOP3L.png?s=256",
      "display_name": "Ahsan Mahboob Shah",
      "link": "https://stackoverflow.com/users/954358/ahsan-mahboob-shah"
    },
    "is_answered": false,
    "view_count": 955,
    "answer_count": 1,
    "score": 5,
    "last_activity_date": 1764962060,
    "creation_date": 1638773321,
    "last_edit_date": 1640234889,
    "question_id": 70241755,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/70241755/applepay-web-sessionerror-codeunknown",
    "title": "ApplePay Web - sessionError {code:&quot;unknown&quot;}",
    "body": "<p>I am getting ApplePayCancelEvent with 'sessionError' right after successful apple pay session creation in my web app.</p>\n<p>On the browser, it shows apple pay payment dialog with 'Payment Not Completed' message and the dialog got closed.</p>\n<h2>Following are the safari console logs:</h2>\n<pre><code>[Log] getApplePaySession() for: https://apple-pay-gateway-cert.apple.com/paymentservices/startSession\n[Log] getApplePaySession().onload() status: 200\n[Log] ApplePayCancelEvent {isTrusted: true, sessionError: {code: &quot;unknown&quot;, info: {}}, type: &quot;cancel&quot;, target: ApplePaySession, currentTarget: ApplePaySession, â€¦}\n</code></pre>\n<p>any clue.. folks ??</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 3430916,
        "reputation": 3903,
        "user_id": 3059385,
        "user_type": "registered",
        "accept_rate": 40,
        "profile_image": "https://i.sstatic.net/DSuRF.png?s=256",
        "display_name": "Christopher Schneider",
        "link": "https://stackoverflow.com/users/3059385/christopher-schneider"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764962060,
      "creation_date": 1764962060,
      "answer_id": 79839237,
      "question_id": 70241755,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>So just in case anyone else finds themselves here, I was running into this issue using Safari on MacOS and found a cause.</p>\n<p>I don't know if this is the same issue from the question, but Apple Pay was failing silently with no Apple Pay window popping up in the OS at all. I couldn't find any information on why this might be happening in my case.</p>\n<p>I had never used ApplePay before and was stumped. Looking through the system logs, I found this log reported by Safari:</p>\n<pre><code>canEvaluatePolicy: Error ... &quot;Touch ID is not available in closed clamshell mode.&quot;\n</code></pre>\n<p>Opened up the laptop and it worked immediately.</p>\n<p>Turns out, it's not an &quot;unknown&quot; error at all and ApplePay will fail if the lid isn't open and no other TouchID/FaceID devices are available. So just open your laptop lid if it's closed. Would have helped tremendously if it reported this completely &quot;knowable&quot; error.</p>\n<p>I would have liked to just use a password, but it doesn't look like that's possible. Turning off TouchID for payments just makes me double tap the TouchID button. So other than buying some external peripheral with TouchID, I don't think there are any workarounds.</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 7696003,
        "reputation": 1685,
        "user_id": 5830500,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/13b0c55695baba4ae42937e307489f37?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Wael",
        "link": "https://stackoverflow.com/users/5830500/wael"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1686577459,
      "post_id": 70241755,
      "comment_id": 134813615,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 923053,
        "reputation": 4039,
        "user_id": 954358,
        "user_type": "registered",
        "accept_rate": 47,
        "profile_image": "https://i.sstatic.net/1FnLOP3L.png?s=256",
        "display_name": "Ahsan Mahboob Shah",
        "link": "https://stackoverflow.com/users/954358/ahsan-mahboob-shah"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1640235039,
      "post_id": 70241755,
      "comment_id": 124548382,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "79839237": []
  }
}