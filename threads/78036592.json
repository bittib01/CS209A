{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "hibernate",
      "spring-data-jpa"
    ],
    "owner": {
      "account_id": 10187542,
      "reputation": 2675,
      "user_id": 20692967,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/NZSXm.jpg?s=256",
      "display_name": "Sergey Zolotarev",
      "link": "https://stackoverflow.com/users/20692967/sergey-zolotarev"
    },
    "is_answered": true,
    "view_count": 104201,
    "answer_count": 11,
    "score": 30,
    "last_activity_date": 1764317268,
    "creation_date": 1708543561,
    "last_edit_date": 1708544300,
    "question_id": 78036592,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78036592/why-cant-spring-boot-deduce-hibernate-dialect",
    "title": "Why can&#39;t Spring Boot deduce Hibernate dialect?",
    "body": "<p>I can't start up my Spring Boot application</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.hibernate.service.spi.ServiceException: \nUnable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due \nto: Unable to determine Dialect without JDBC metadata \n(please set 'jakarta.persistence.jdbc.url' for common cases or 'hibernate.dialect' when a \ncustom Dialect implementation must be provided)\n</code></pre>\n<p>Here are my application properties (all of them):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    username: ${POSTGRES_USERNAME:postgres}\n    password: ${POSTGRES_PASSWORD:postgres}\n    url: ${POSTGRES_URL:jdbc:postgresql://localhost:5432/${POSTGRES_USERNAME}}\n</code></pre>\n<p>Here's my pom. I tried to trim to include only relevant parts (while ensuring it's still a valid pom you can copy and paste). Basically, to reproduce it, you only need to create a Boot project with a Data starter (maybe the driver too) so that Boot's autoconfiguration (the one with a <code>DataSource</code>) kicks in</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;token-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;token-service&lt;/name&gt;\n    &lt;description&gt;token-service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>If I explicitly set the <code>spring.jpa.database-platform</code> property, it starts up fine. However, I never did it before when I used MySQL</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n# ...\n  jpa:\n    database-platform: org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>Why can't Boot deduce the dialect?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 23052176,
        "reputation": 119,
        "user_id": 17168823,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/e298be3270ab0be0173e62db0505fed2?s=256&d=identicon&r=PG",
        "display_name": "MAGistr",
        "link": "https://stackoverflow.com/users/17168823/magistr"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764317268,
      "creation_date": 1764317268,
      "answer_id": 79832368,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>I'm facing the same problem.<br />\nThe project uses <code>Hibernate 7.1.2.Final</code>, so you don't need to specify the dialect manually, but the error persisted.<br />\n<strong>The problem was that I forgot to put a colon in front of the two slashes.</strong></p>\n<blockquote>\n<p>Thus, make sure that the JDBC_DATABASE_URL is specified correctly.</p>\n</blockquote>\n<p>If you are working with <code>PostgreSQL</code>, then the <strong>path will be as follows</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbc:postgresql://${HOSTNAME}:${DB_PORT}/${DATABASE}?password=${PASSWORD}&amp;user=${USERNAME}\n</code></pre>\n<p>The example would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>jdbc:postgresql://localhost:5432/taskdb?password=qwerty123&amp;user=sa\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 9184169,
        "reputation": 89,
        "user_id": 6827041,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/e8bd27e8630c30dc071324502c75e914?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "jascadev",
        "link": "https://stackoverflow.com/users/6827041/jascadev"
      },
      "is_accepted": false,
      "score": 6,
      "last_activity_date": 1739037756,
      "creation_date": 1739037756,
      "answer_id": 79423684,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>In my case the reason for this error was very trivial - wrong DB password for the given user.</p>\n<p>Unfortunately it was not reported as DB username/password mismatch but with that log error that could lead us to investigate in wrong directions</p>\n"
    },
    {
      "owner": {
        "account_id": 23719145,
        "reputation": 131,
        "user_id": 17739925,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/3KTzJ7bl.jpg?s=256",
        "display_name": "tdonnenfeld",
        "link": "https://stackoverflow.com/users/17739925/tdonnenfeld"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1738326005,
      "creation_date": 1738326005,
      "answer_id": 79402720,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Just resolved the same issue by figuring out that I had another alive connection to my H2 database - via IntelliJ's Database explorer.</p>\n<p>If it can help anyone.\nCheers</p>\n"
    },
    {
      "owner": {
        "account_id": 16699027,
        "reputation": 602,
        "user_id": 12069305,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wqtN2.jpg?s=256",
        "display_name": "edusanketdk",
        "link": "https://stackoverflow.com/users/12069305/edusanketdk"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1734516027,
      "creation_date": 1734516027,
      "answer_id": 79290686,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Downgrading <code>mysql-connector-java</code> version from <code>8.0.32</code> to <code>8.0.19</code> did the trick for me, where I had to keep using same connection string with <code>serverTimezone=PST</code>.</p>\n"
    },
    {
      "owner": {
        "account_id": 9733721,
        "reputation": 319,
        "user_id": 9217179,
        "user_type": "registered",
        "profile_image": "https://lh6.googleusercontent.com/--CHOq-3hgwk/AAAAAAAAAAI/AAAAAAAAF5I/xmZpo57RcgM/s256-rj/photo.jpg",
        "display_name": "Kalagala Kapunda",
        "link": "https://stackoverflow.com/users/9217179/kalagala-kapunda"
      },
      "is_accepted": false,
      "score": -1,
      "last_activity_date": 1730958678,
      "creation_date": 1730958678,
      "answer_id": 79165167,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>In my case i hadn't created the database i specified in the datasours.url</p>\n"
    },
    {
      "owner": {
        "account_id": 6561856,
        "reputation": 103,
        "user_id": 5072680,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/0251c17fe3e68277da6e7312a16ca7f3?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Vladimir",
        "link": "https://stackoverflow.com/users/5072680/vladimir"
      },
      "is_accepted": false,
      "score": 9,
      "last_activity_date": 1726150991,
      "creation_date": 1726150991,
      "answer_id": 78978623,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Two possible reasons for that error:</p>\n<ol>\n<li>Wrong hostname/database url. Check your database connection string.</li>\n<li>Missing or wrong hibernate dialect. Add the following property <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</code> for MySQL database and <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect</code> for PostgreSQL. You can check the suitable dialect for your database in the package <code>org.hibernate.dialect</code> of <code>hibernate-core</code> dependency.</li>\n</ol>\n<p>Note: For MySQL if you use <code>org.hibernate.dialect.MySQL8Dialect</code> it will tell you that it's deprecated thus use <code>org.hibernate.dialect.MySQLDialect</code></p>\n"
    },
    {
      "owner": {
        "account_id": 3158641,
        "reputation": 9,
        "user_id": 2670413,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/789d6af4da6d966dc1d2ab87c1f10a62?s=256&d=identicon&r=PG",
        "display_name": "chandra",
        "link": "https://stackoverflow.com/users/2670413/chandra"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1723796519,
      "creation_date": 1723796519,
      "answer_id": 78878237,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>The issue is due to incorrect datasource URL. when i provided the correct URL, it worked. for example:</p>\n<p>datasource:\nurl: jdbc:postgresql://localhost:5432/postgres</p>\n"
    },
    {
      "owner": {
        "account_id": 2282282,
        "reputation": 1536,
        "user_id": 2007101,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/fKdBa.jpg?s=256",
        "display_name": "Chinmoy",
        "link": "https://stackoverflow.com/users/2007101/chinmoy"
      },
      "is_accepted": false,
      "score": -1,
      "last_activity_date": 1721814763,
      "creation_date": 1721814763,
      "answer_id": 78787589,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>For Springboot and JPA, it was url issue. I was using client IP instead of pg server ip.</p>\n"
    },
    {
      "owner": {
        "account_id": 5914240,
        "reputation": 2483,
        "user_id": 4653517,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/cf72261d33ab65f0d5d0ecd8672403dd?s=256&d=identicon&r=PG",
        "display_name": "James Mudd",
        "link": "https://stackoverflow.com/users/4653517/james-mudd"
      },
      "is_accepted": false,
      "score": 5,
      "last_activity_date": 1721725225,
      "creation_date": 1721725225,
      "answer_id": 78782526,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>Confusingly this error can also be thrown when the DB is not accessible.</p>\n<p>So double check the DB is actually running correctly, and you can connect by some other means.</p>\n<p>Then double check your <code>spring.datasource.url</code> property, you shouldn't need to add others.</p>\n"
    },
    {
      "owner": {
        "account_id": 92537,
        "reputation": 7017,
        "user_id": 253575,
        "user_type": "registered",
        "accept_rate": 83,
        "profile_image": "https://www.gravatar.com/avatar/41e91e4c9bd6752c7de05055717fc0a8?s=256&d=identicon&r=PG",
        "display_name": "IcedDante",
        "link": "https://stackoverflow.com/users/253575/iceddante"
      },
      "is_accepted": false,
      "score": 18,
      "last_activity_date": 1719262133,
      "creation_date": 1719262133,
      "answer_id": 78664539,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>One reason you might see this error is if your <code>spring.datasource</code> definition is invalid. For example, I had the incorrect port in my url.</p>\n<p>Spring could not connect to the database to determine the dialect and I got this message.</p>\n"
    },
    {
      "owner": {
        "account_id": 22585945,
        "reputation": 229,
        "user_id": 16769912,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/rfaoV.jpg?s=256",
        "display_name": "rafavilomar",
        "link": "https://stackoverflow.com/users/16769912/rafavilomar"
      },
      "is_accepted": false,
      "score": 3,
      "last_activity_date": 1708652898,
      "last_edit_date": 1708652898,
      "creation_date": 1708652574,
      "answer_id": 78044805,
      "question_id": 78036592,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>I use Spring Boot with Postgres without setting the Dialect manually, but you have to keep this in mind.</p>\n<p><strong>Only Hibernate 6 or higher can do the automatic Dialect resolution based on your database library en connection. Otherwise, you have to provide it manually.</strong></p>\n<p>So, make sure you are using Hibernate v6 or higher. If not update it (be carefu, maybe you will have to update some other things in your code), or just set the dialect just like you did; it doesn't impact so much in most cases.</p>\n<p>You can see how Hibernate v6 deduces the Dialect and why this only happens after that version <a href=\"https://vladmihalcea.com/hibernate-dialect/\" rel=\"nofollow noreferrer\">HERE</a></p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 3181189,
        "reputation": 312,
        "user_id": 2687836,
        "user_type": "registered",
        "accept_rate": 47,
        "profile_image": "https://www.gravatar.com/avatar/0838cdc2d7fad3bf1b89bca775091fa2?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "spartanhooah",
        "link": "https://stackoverflow.com/users/2687836/spartanhooah"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1717856943,
      "post_id": 78036592,
      "comment_id": 138564129,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 10187542,
        "reputation": 2675,
        "user_id": 20692967,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/NZSXm.jpg?s=256",
        "display_name": "Sergey Zolotarev",
        "link": "https://stackoverflow.com/users/20692967/sergey-zolotarev"
      },
      "reply_to_user": {
        "account_id": 215690,
        "reputation": 1836,
        "user_id": 470477,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wQmWG.jpg?s=256",
        "display_name": "Bill Horvath",
        "link": "https://stackoverflow.com/users/470477/bill-horvath"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1708634062,
      "post_id": 78036592,
      "comment_id": 137586391,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 215690,
        "reputation": 1836,
        "user_id": 470477,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wQmWG.jpg?s=256",
        "display_name": "Bill Horvath",
        "link": "https://stackoverflow.com/users/470477/bill-horvath"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1708628901,
      "post_id": 78036592,
      "comment_id": 137585561,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 10187542,
        "reputation": 2675,
        "user_id": 20692967,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/NZSXm.jpg?s=256",
        "display_name": "Sergey Zolotarev",
        "link": "https://stackoverflow.com/users/20692967/sergey-zolotarev"
      },
      "reply_to_user": {
        "account_id": 215690,
        "reputation": 1836,
        "user_id": 470477,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wQmWG.jpg?s=256",
        "display_name": "Bill Horvath",
        "link": "https://stackoverflow.com/users/470477/bill-horvath"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1708549191,
      "post_id": 78036592,
      "comment_id": 137574483,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 208696,
        "reputation": 2413,
        "user_id": 459347,
        "user_type": "registered",
        "accept_rate": 100,
        "profile_image": "https://www.gravatar.com/avatar/1336d15fb8343d95ba63442e88bd1fd5?s=256&d=identicon&r=PG",
        "display_name": "lscoughlin",
        "link": "https://stackoverflow.com/users/459347/lscoughlin"
      },
      "edited": false,
      "score": 3,
      "creation_date": 1708548304,
      "post_id": 78036592,
      "comment_id": 137574373,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 215690,
        "reputation": 1836,
        "user_id": 470477,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wQmWG.jpg?s=256",
        "display_name": "Bill Horvath",
        "link": "https://stackoverflow.com/users/470477/bill-horvath"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1708545912,
      "post_id": 78036592,
      "comment_id": 137574034,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 10187542,
        "reputation": 2675,
        "user_id": 20692967,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/NZSXm.jpg?s=256",
        "display_name": "Sergey Zolotarev",
        "link": "https://stackoverflow.com/users/20692967/sergey-zolotarev"
      },
      "reply_to_user": {
        "account_id": 215690,
        "reputation": 1836,
        "user_id": 470477,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wQmWG.jpg?s=256",
        "display_name": "Bill Horvath",
        "link": "https://stackoverflow.com/users/470477/bill-horvath"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1708544422,
      "post_id": 78036592,
      "comment_id": 137573821,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 215690,
        "reputation": 1836,
        "user_id": 470477,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/wQmWG.jpg?s=256",
        "display_name": "Bill Horvath",
        "link": "https://stackoverflow.com/users/470477/bill-horvath"
      },
      "edited": false,
      "score": 1,
      "creation_date": 1708543966,
      "post_id": 78036592,
      "comment_id": 137573761,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "79832368": [],
    "79423684": [
      {
        "owner": {
          "account_id": 1743298,
          "reputation": 436,
          "user_id": 1594088,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/tJrJo.jpg?s=256",
          "display_name": "&#214;zg&#252;n",
          "link": "https://stackoverflow.com/users/1594088/%c3%96zg%c3%bcn"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1744288162,
        "post_id": 79423684,
        "comment_id": 140320346,
        "content_license": "CC BY-SA 4.0"
      }
    ],
    "79402720": [],
    "79290686": [],
    "79165167": [
      {
        "owner": {
          "account_id": 22650,
          "reputation": 3179,
          "user_id": 56074,
          "user_type": "registered",
          "accept_rate": 100,
          "profile_image": "https://www.gravatar.com/avatar/26f4767c0d3bf631718b2703b46d9aac?s=256&d=identicon&r=PG",
          "display_name": "sympatric greg",
          "link": "https://stackoverflow.com/users/56074/sympatric-greg"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1736979975,
        "post_id": 79165167,
        "comment_id": 139948846,
        "content_license": "CC BY-SA 4.0"
      }
    ],
    "78978623": [],
    "78878237": [],
    "78787589": [],
    "78782526": [
      {
        "owner": {
          "account_id": 1440390,
          "reputation": 1664,
          "user_id": 1360700,
          "user_type": "registered",
          "accept_rate": 75,
          "profile_image": "https://www.gravatar.com/avatar/e2cc14bbf41eb10c0fcd41869e5c86db?s=256&d=identicon&r=PG",
          "display_name": "Numan Karaaslan",
          "link": "https://stackoverflow.com/users/1360700/numan-karaaslan"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1742146427,
        "post_id": 78782526,
        "comment_id": 140225340,
        "content_license": "CC BY-SA 4.0"
      }
    ],
    "78664539": [],
    "78044805": [
      {
        "owner": {
          "account_id": 29268276,
          "reputation": 351,
          "user_id": 22423650,
          "user_type": "registered",
          "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtdWkHtpqqsxpNYjaRaNrP5b4RljYFrkRo8G5kCBTjsPtlE=k-s256",
          "display_name": "Hunt3r5o4",
          "link": "https://stackoverflow.com/users/22423650/hunt3r5o4"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1759854991,
        "post_id": 78044805,
        "comment_id": 140782266,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}