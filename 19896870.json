{
  "question": {
    "tags": [
      "java",
      "spring",
      "null",
      "nullpointerexception",
      "autowired"
    ],
    "owner": {
      "account_id": 1223835,
      "reputation": 77459,
      "user_id": 1189885,
      "user_type": "registered",
      "accept_rate": 43,
      "profile_image": "https://i.sstatic.net/DLHqU.png?s=256",
      "display_name": "chrylis -cautiouslyoptimistic-",
      "link": "https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic"
    },
    "is_answered": true,
    "view_count": 784226,
    "protected_date": 1399562482,
    "accepted_answer_id": 19896871,
    "answer_count": 23,
    "score": 789,
    "last_activity_date": 1745375132,
    "creation_date": 1384128303,
    "last_edit_date": 1704387685,
    "question_id": 19896870,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/19896870/why-is-my-spring-autowired-field-null",
    "title": "Why is my Spring @Autowired field null?",
    "body": "<p><em>Note: This is intended to be a canonical answer for a common problem.</em></p>\n<p>I have a Spring <code>@Service</code> class (<code>MileageFeeCalculator</code>) that has an <code>@Autowired</code> field (<code>rateService</code>), but the field is <code>null</code> when I try to use it. The logs show that both the <code>MileageFeeCalculator</code> bean and the <code>MileageRateService</code> bean are being created, but I get a <code>NullPointerException</code> whenever I try to call the <code>mileageCharge</code> method on my service bean. Why isn't Spring autowiring the field?</p>\n<p>Controller class:</p>\n<pre><code>@Controller\npublic class MileageFeeController {    \n    @RequestMapping(&quot;/mileage/{miles}&quot;)\n    @ResponseBody\n    public float mileageFee(@PathVariable int miles) {\n        MileageFeeCalculator calc = new MileageFeeCalculator();\n        return calc.mileageCharge(miles);\n    }\n}\n</code></pre>\n<p>Service class:</p>\n<pre><code>@Service\npublic class MileageFeeCalculator {\n\n    @Autowired\n    private MileageRateService rateService; // &lt;--- should be autowired, is null\n\n    public float mileageCharge(final int miles) {\n        return (miles * rateService.ratePerMile()); // &lt;--- throws NPE\n    }\n}\n</code></pre>\n<p>Service bean that should be autowired in <code>MileageFeeCalculator</code> but it isn't:</p>\n<pre><code>@Service\npublic class MileageRateService {\n    public float ratePerMile() {\n        return 0.565f;\n    }\n}\n</code></pre>\n<p>When I try to <code>GET /mileage/3</code>, I get this exception:</p>\n<pre><code>java.lang.NullPointerException: null\n    at com.chrylis.example.spring_autowired_npe.MileageFeeCalculator.mileageCharge(MileageFeeCalculator.java:13)\n    at com.chrylis.example.spring_autowired_npe.MileageFeeController.mileageFee(MileageFeeController.java:14)\n    ...\n</code></pre>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 1721196,
        "reputation": 957,
        "user_id": 1577000,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/e99f46b710e623c22a7822890d02d8e6?s=256&d=identicon&r=PG",
        "display_name": "Shirish Coolkarni",
        "link": "https://stackoverflow.com/users/1577000/shirish-coolkarni"
      },
      "is_accepted": false,
      "score": 73,
      "last_activity_date": 1745375132,
      "last_edit_date": 1745375132,
      "creation_date": 1398149246,
      "answer_id": 23212378,
      "question_id": 19896870,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>If you are not coding a web application, make sure your class in which @Autowiring is done is a spring bean. Typically, spring container won't be aware of the class which we might think of as a spring bean. We have to tell the Spring container about our spring classes.</p>\n<p>This can be achieved by configuring in appln-contxt or <strong>the better way</strong> is to annotate class as <strong>@Component</strong> and please do not create the annotated class using new operator.\nMake sure you get it from Appln-context as below.</p>\n<pre><code>@Component\npublic class MyDemo {\n\n    \n    @Autowired\n    private MyService  myService; \n    \n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n            System.out.println(&quot;test&quot;);\n            ApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;spring.xml&quot;);\n            System.out.println(&quot;ctx&gt;&gt;&quot;+ctx);\n            \n            Customer c1=null;\n            MyDemo myDemo=ctx.getBean(MyDemo.class);\n            System.out.println(myDemo);\n            myDemo.callService(ctx);\n            \n            \n    }\n\n    public void callService(ApplicationContext ctx) {\n        // TODO Auto-generated method stub\n        System.out.println(&quot;---callService---&quot;);\n        System.out.println(myService);\n        myService.callMydao();\n        \n    }\n\n}\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 15070950,
        "reputation": 108,
        "user_id": 10876451,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/TndxY.jpg?s=256",
        "display_name": "mzhehalo",
        "link": "https://stackoverflow.com/users/10876451/mzhehalo"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1738692016,
      "creation_date": 1738692016,
      "answer_id": 79412609,
      "question_id": 19896870,
      "content_license": "CC BY-SA 4.0",
      "body": "<pre><code>package com.tracker.mini_apps_tracker_spring.programs;\n\nimport com.tracker.mini_apps_tracker_spring.user.LocalUserRepository;\nimport com.tracker.mini_apps_tracker_spring.user.LocalUserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/program&quot;)\npublic class ProgramController {\n\n    @Autowired\n    private ProgramService programService;\n\n    @Autowired\n    private LocalUserRepository localUserRepository;\n\n    @Autowired\n    private LocalUserService userService;\n\n//    @PreAuthorize(&quot;hasAuthority('ROLE_USER')&quot;)\n    @GetMapping\n    public List&lt;ProgramEntity&gt; getAllPrograms() {\n        return programService.getAllPrograms();\n    }\n\n    @PostMapping\n    private ResponseEntity&lt;String&gt; saveProgram(@RequestBody ProgramEntity program) {\n        programService.saveProgram(program);\n        return ResponseEntity.ok(&quot;Program Entity successfully saved!&quot;);\n    }\n}\n</code></pre>\n<p>In my case, using <strong>@PreAuthorize(&quot;hasAuthority('ROLE_USER')&quot;)</strong> was the reason why programService was null.</p>\n"
    },
    {
      "owner": {
        "account_id": 9164585,
        "reputation": 23,
        "user_id": 6814738,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/2fd07d351a199d566d16cf022f76bf90?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Yovi",
        "link": "https://stackoverflow.com/users/6814738/yovi"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1714245241,
      "creation_date": 1714245241,
      "answer_id": 78396103,
      "question_id": 19896870,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>There was also a bug in older versions of Spring Boot - present in Spring Boot 2.2, fixed sometime before 2.7.</p>\n<p>The bug is described in details here: <a href=\"https://github.com/spring-projects/spring-framework/issues/25059\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/25059</a></p>\n<p>The bug summary: cyclic dependency detection didn't work as expected. A cyclic dependency means there are two Spring beans that both depend on each other through autowiring, either directly or transitively.</p>\n<p>The application is supposed to throw an error during the application startup if it detects a cyclic dependency. But with this bug, the application wouldn't fail. Instead it would boot and would use null for the autowired cyclic dependency.</p>\n<p>The solution is to get rid of the cyclic dependency. In my case, I was using IntelliJ Idea IDE which provides a tool that allows Spring cyclic dependency detection, which helped preserving my sanity since after a lot of time spent debugging the issue, I was starting to doubt my years long career with Spring (Boot).</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 10681429,
        "reputation": 78,
        "user_id": 7863386,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/09f3164f48c99fa03e41dde0616c5e6e?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Shahid Hussain",
        "link": "https://stackoverflow.com/users/7863386/shahid-hussain"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1737118211,
      "post_id": 19896870,
      "comment_id": 139958290,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "23212378": [],
    "79412609": [],
    "78396103": []
  }
}