{
  "question": {
    "tags": [
      "java",
      "sql",
      "prepared-statement",
      "symbols"
    ],
    "owner": {
      "account_id": 8444194,
      "reputation": 9,
      "user_id": 6342930,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/cb89d81aef8b6a81f1fcfbbe8433889b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Feenix",
      "link": "https://stackoverflow.com/users/6342930/feenix"
    },
    "is_answered": false,
    "view_count": 12240,
    "answer_count": 4,
    "score": -1,
    "last_activity_date": 1764795567,
    "creation_date": 1463646719,
    "last_edit_date": 1463650113,
    "question_id": 37317915,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/37317915/error-cannot-find-symbol-preparedstatement",
    "title": "error: cannot find symbol PreparedStatement",
    "body": "<p>I keep getting the following error:</p>\n\n<pre><code>error: cannot find symbol PreparedStatement st = conn.prepareStatement(\"SELECT * FROM table WHERE name = ?\");\nsymbol: variable conn\nlocation: class splitString\n</code></pre>\n\n<p>Here's the code I'm using</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\n\nclass splitString {\n  public static void main(String[] args) {\n\n  //Connect to database\n    try {\n       Class.forName(\"org.postgresql.Driver\"); \n       Connection con = DriverManager.getConnection(\"jdbc:postgresql://localhost/database\", \"postgres\", \"pswd\");\n       if (con != null)\n           System.out.println(\"Connection Successful!\");\n    } catch(Exception ee) {\n        ee.printStackTrace();\n    }\n\n    String word = \"Apples\";\n    PreparedStatement st = conn.prepareStatement(\"SELECT * FROM table WHERE name = ?\");\n    st.setString(1, word);\n    ResultSet rs = st.executeQuery();\n\n  }\n}\n</code></pre>\n\n<p>I want to look up the word \"Apples\" in the database using the variable named \"word\".</p>\n\n<p>Can someone tell me what I'm doing wrong?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 322981,
        "reputation": 346871,
        "user_id": 642706,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name": "Basil Bourque",
        "link": "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1764795567,
      "last_edit_date": 1764795567,
      "creation_date": 1764778077,
      "answer_id": 79837088,
      "question_id": 37317915,
      "content_license": "CC BY-SA 4.0",
      "body": "<h2>Typographical error</h2>\n<p>Your error is due to your misspelling of <code>con</code> versus <code>conn</code> as the name of your variable.</p>\n<p><code>con</code> versus <code>conn</code> is an example of why we should avoid needless abbreviations. <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>s do most of the typing for us, and check for spelling too. So just name your variable <code>connection</code>.</p>\n<h2>Modern Java</h2>\n<p>Besides fixing your typo, we can rewrite your code to benefit from modern Java.</p>\n<h3>JDBC drivers now load automatically</h3>\n<blockquote>\n<p><code>Class.forName(&quot;org.postgresql.Driver&quot;);</code></p>\n</blockquote>\n<p>No need for that code. With rare exceptions, <code>Class.forName</code> became unnecessary many years ago. In modern Java the JDBC drivers are automatically loaded and registered via <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Java Service Provider (SPI)</a>.</p>\n<h3><code>DataSource</code></h3>\n<p>The JDBC team <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html\" rel=\"nofollow noreferrer\">recommends using</a> an implementation of <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.sql/javax/sql/DataSource.html\" rel=\"nofollow noreferrer\"><code>DataSource</code></a> rather than call <code>DriverManager.getConnection</code>.</p>\n<p>Most JDBC drivers should come with at least a basic implementation of <code>DataSource</code>. Such is the case with the popular Postgres <a href=\"https://jdbc.postgresql.org/\" rel=\"nofollow noreferrer\">JDBC driver from PostgreSQL.org</a>. That driver includes a few implementations including <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"nofollow noreferrer\"><code>PGSimpleDataSource</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.postgresql.ds.PGSimpleDataSource;\nâ€¦\n</code></pre>\n<h4>Externalizing <code>DataSource</code></h4>\n<p>In the simple example code below, we configure the <code>dataSource</code> instance procedurally in our code. In real work, the configured instance is usually obtained externally via <a href=\"https://en.wikipedia.org/wiki/Java_Naming_and_Directory_Interface\" rel=\"nofollow noreferrer\">Java Naming and Directory Interface (JNDI)</a> at runtime. Externalizing the data source configuration means you need not recompile your app every time the <a href=\"https://en.wikipedia.org/wiki/Database_administrator\" rel=\"nofollow noreferrer\">DBA</a> rotates the password, or changes the database server network address.</p>\n<pre><code>    // Configure the DataSource\n    PGSimpleDataSource dataSource = new PGSimpleDataSource();\n    \n    dataSource.setServerNames( new String[] {&quot;localhost&quot;} );\n    dataSource.setPortNumbers( new int[] {5432} );\n    dataSource.setDatabaseName( &quot;mydatabase&quot; );\n    dataSource.setUser( &quot;myuser&quot; );\n    dataSource.setPassword( &quot;secret&quot; );\n    \n    // Optional settings\n    dataSource.setSsl( false );                    // or true + SSL config\n    dataSource.setApplicationName( &quot;MyApp&quot; );\n    dataSource.setLoginTimeout( 10 );            // seconds\n\n    // Use the DataSource\n    try \n    (\n        Connection connection = dataSource.getConnection();\n        Statement statement = connection.createStatement();\n        ResultSet resultSet = statement.executeQuery( &quot;SELECT version()&quot; ) \n    ) \n    {\n        if ( resultSet.next() ) \n        {\n            IO.println( &quot;PostgreSQL version: &quot; + resultSet.getString( 1 ) );  // Before Java 25, swap out `IO` for `System.out`. \n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>As another benefit of using full names with your variables, you may reasonably elect to use <code>var</code> as the return type. Java will infer the actual return type. And any modern <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> will indicate the type while editing code.</p>\n<pre><code>    try \n    (\n        var connection = dataSource.getConnection();\n        var statement = connection.createStatement();\n        var resultSet = statement.executeQuery( &quot;SELECT version()&quot; ) \n    ) \n</code></pre>\n<h3>Try-with-resources</h3>\n<p>Notice that the code example above uses try-with-resources syntax to <a href=\"https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">automatically close</a> the resources <code>connection</code>, <code>statement</code>, and <code>resultSet</code>.</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 31180,
        "reputation": 29752,
        "user_id": 85421,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/kKvXH.gif?s=256",
        "display_name": "user85421",
        "link": "https://stackoverflow.com/users/85421/user85421"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764796861,
      "post_id": 37317915,
      "comment_id": 140886215,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 231117,
        "reputation": 8997,
        "user_id": 495157,
        "user_type": "registered",
        "accept_rate": 40,
        "profile_image": "https://i.sstatic.net/UFMPn.png?s=256",
        "display_name": "JGFMK",
        "link": "https://stackoverflow.com/users/495157/jgfmk"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764778642,
      "post_id": 37317915,
      "comment_id": 140885710,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "79837088": []
  }
}