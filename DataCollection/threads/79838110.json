{
  "question": {
    "tags": [
      "java",
      "regex",
      "unit-testing"
    ],
    "owner": {
      "account_id": 27523081,
      "reputation": 37,
      "user_id": 31391455,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/JfGXLng2.jpg?s=256",
      "display_name": "holysh",
      "link": "https://stackoverflow.com/users/31391455/holysh"
    },
    "is_answered": true,
    "view_count": 87,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1764952960,
    "creation_date": 1764863480,
    "last_edit_date": 1764952960,
    "question_id": 79838110,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79838110/how-can-i-solve-this-problem-of-test-difference",
    "title": "How can I solve this problem of test difference?",
    "body": "<p>As far as I understand, the difference between expected and actual one is <strong>NBSP</strong> (<a href=\"https://en.wikipedia.org/wiki/Non-breaking_space\" rel=\"nofollow noreferrer\">Non‐Breaking Space</a>).</p>\n<p>I don’t know how to remove this. It doesn’t get highlighted and cannot be found using CTRL+H (looking for \\u00A0).</p>\n<p><em>I've already tried:</em></p>\n<ul>\n<li>searching via CTRL+H to remove or replace it</li>\n<li>deleting the entire line and rewriting it manually.</li>\n</ul>\n<p><strong>here is the code of my test:</strong></p>\n<pre><code>void shouldReturnFullReport_whenGivenSeveralDrivers() {\n\n    Map&lt;String, RacerInfo&gt; racers = new LinkedHashMap&lt;&gt;();\n    racers.put(&quot;SVF&quot;, new RacerInfo(&quot;Sebastian Vettel&quot;, &quot;FERRARI&quot;));\n    racers.put(&quot;DRR&quot;, new RacerInfo(&quot;Daniel Ricciardo&quot;, &quot;RED BULL RACING TAG HEUER&quot;));\n    racers.put(&quot;VBM&quot;, new RacerInfo(&quot;Valtteri Bottas&quot;, &quot;MERCEDES&quot;));\n    racers.put(&quot;LHM&quot;, new RacerInfo(&quot;Lewis Hamilton&quot;, &quot;MERCEDES&quot;));\n\n    Map&lt;String, Duration&gt; lapTimes = new LinkedHashMap&lt;&gt;();\n    lapTimes.put(&quot;SVF&quot;, Duration.ofMinutes(1).plusSeconds(4).plusMillis(415));\n    lapTimes.put(&quot;DRR&quot;, Duration.ofMinutes(1).plusSeconds(12).plusMillis(13));\n    lapTimes.put(&quot;VBM&quot;, Duration.ofMinutes(1).plusSeconds(12).plusMillis(434));\n    lapTimes.put(&quot;LHM&quot;, Duration.ofMinutes(1).plusSeconds(12).plusMillis(460));\n\n    String expected = &quot;&quot;&quot;\n         1. Sebastian Vettel       | FERRARI                        | 1:04.415\n         2. Daniel Ricciardo       | RED BULL RACING TAG HEUER      | 1:12.013\n         3. Valtteri Bottas        | MERCEDES                       | 1:12.434\n         4. Lewis Hamilton         | MERCEDES                       | 1:12.460\n        &quot;&quot;&quot;;\n\n    assertEquals(expected, ResultFormatter.format(lapTimes, racers));\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/Tg95nmJj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Tg95nmJj.png\" alt=\"here is the difference between expected and actual one\" /></a></p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 27523081,
        "reputation": 37,
        "user_id": 31391455,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/JfGXLng2.jpg?s=256",
        "display_name": "holysh",
        "link": "https://stackoverflow.com/users/31391455/holysh"
      },
      "is_accepted": false,
      "score": 2,
      "last_activity_date": 1764872055,
      "last_edit_date": 1764872055,
      "creation_date": 1764866890,
      "answer_id": 79838165,
      "question_id": 79838110,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>The issue was not caused by non-breaking spaces (<code>\\u00A0</code>). I chose to normalize line endings with <code>replaceAll(&quot;\\\\r\\\\n&quot;, &quot;\\n&quot;)</code> instead of <code>\\\\s</code> because using <code>\\\\s</code> would remove spaces and tabs as far as i know, destroying the table formatting.</p>\n<pre><code>String result = ResultFormatter.format(times, racers);\n\n     String cleanExpected = expected.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;\\n&quot;);\n     String cleanResult = result.replaceAll(&quot;\\\\r\\\\n&quot;, &quot;\\n&quot;);\n\n     assertEquals(cleanExpected, cleanResult);\n    }\n</code></pre>\n<p><a href=\"https://i.sstatic.net/i9krqZj8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/i9krqZj8.png\" alt=\"enter image description here\" /></a></p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 262183,
        "reputation": 14149,
        "user_id": 546871,
        "user_type": "registered",
        "accept_rate": 40,
        "profile_image": "https://i.sstatic.net/p1diY.jpg?s=256",
        "display_name": "AdrianHHH",
        "link": "https://stackoverflow.com/users/546871/adrianhhh"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764923962,
      "post_id": 79838110,
      "comment_id": 140888629,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 31180,
        "reputation": 29752,
        "user_id": 85421,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/kKvXH.gif?s=256",
        "display_name": "user85421",
        "link": "https://stackoverflow.com/users/85421/user85421"
      },
      "edited": false,
      "score": 1,
      "creation_date": 1764919920,
      "post_id": 79838110,
      "comment_id": 140888570,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 31180,
        "reputation": 29752,
        "user_id": 85421,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/kKvXH.gif?s=256",
        "display_name": "user85421",
        "link": "https://stackoverflow.com/users/85421/user85421"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1764867281,
      "post_id": 79838110,
      "comment_id": 140887686,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 22124137,
        "reputation": 4244,
        "user_id": 16376827,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/1ImPw.png?s=256",
        "display_name": "g00se",
        "link": "https://stackoverflow.com/users/16376827/g00se"
      },
      "edited": false,
      "score": 1,
      "creation_date": 1764866178,
      "post_id": 79838110,
      "comment_id": 140887654,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "79838165": [
      {
        "owner": {
          "account_id": 22124137,
          "reputation": 4244,
          "user_id": 16376827,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/1ImPw.png?s=256",
          "display_name": "g00se",
          "link": "https://stackoverflow.com/users/16376827/g00se"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764972875,
        "post_id": 79838165,
        "comment_id": 140889805,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 268704,
          "reputation": 3643,
          "user_id": 15577665,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/22b015407c4f216f37fb10bccb8debaf?s=256&d=identicon&r=PG",
          "display_name": "sln",
          "link": "https://stackoverflow.com/users/15577665/sln"
        },
        "reply_to_user": {
          "account_id": 22124137,
          "reputation": 4244,
          "user_id": 16376827,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/1ImPw.png?s=256",
          "display_name": "g00se",
          "link": "https://stackoverflow.com/users/16376827/g00se"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764962214,
        "post_id": 79838165,
        "comment_id": 140889600,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 268704,
          "reputation": 3643,
          "user_id": 15577665,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/22b015407c4f216f37fb10bccb8debaf?s=256&d=identicon&r=PG",
          "display_name": "sln",
          "link": "https://stackoverflow.com/users/15577665/sln"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764961436,
        "post_id": 79838165,
        "comment_id": 140889585,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 268704,
          "reputation": 3643,
          "user_id": 15577665,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/22b015407c4f216f37fb10bccb8debaf?s=256&d=identicon&r=PG",
          "display_name": "sln",
          "link": "https://stackoverflow.com/users/15577665/sln"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764960956,
        "post_id": 79838165,
        "comment_id": 140889574,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 268704,
          "reputation": 3643,
          "user_id": 15577665,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/22b015407c4f216f37fb10bccb8debaf?s=256&d=identicon&r=PG",
          "display_name": "sln",
          "link": "https://stackoverflow.com/users/15577665/sln"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764960888,
        "post_id": 79838165,
        "comment_id": 140889570,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 27523081,
          "reputation": 37,
          "user_id": 31391455,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/JfGXLng2.jpg?s=256",
          "display_name": "holysh",
          "link": "https://stackoverflow.com/users/31391455/holysh"
        },
        "reply_to_user": {
          "account_id": 31180,
          "reputation": 29752,
          "user_id": 85421,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/kKvXH.gif?s=256",
          "display_name": "user85421",
          "link": "https://stackoverflow.com/users/85421/user85421"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764872684,
        "post_id": 79838165,
        "comment_id": 140887852,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 22124137,
          "reputation": 4244,
          "user_id": 16376827,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/1ImPw.png?s=256",
          "display_name": "g00se",
          "link": "https://stackoverflow.com/users/16376827/g00se"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764869689,
        "post_id": 79838165,
        "comment_id": 140887758,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 31180,
          "reputation": 29752,
          "user_id": 85421,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/kKvXH.gif?s=256",
          "display_name": "user85421",
          "link": "https://stackoverflow.com/users/85421/user85421"
        },
        "edited": false,
        "score": 2,
        "creation_date": 1764868055,
        "post_id": 79838165,
        "comment_id": 140887704,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}