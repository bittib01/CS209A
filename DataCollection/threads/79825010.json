{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "tiktok"
    ],
    "owner": {
      "account_id": 19465936,
      "reputation": 176,
      "user_id": 14239204,
      "user_type": "registered",
      "profile_image": "https://lh5.googleusercontent.com/-UW-OXRXQ310/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckIexs91XijoLaoec3MmfDA9wiUfA/s256-rj/photo.jpg",
      "display_name": "Kristian Martinez",
      "link": "https://stackoverflow.com/users/14239204/kristian-martinez"
    },
    "is_answered": true,
    "view_count": 59,
    "answer_count": 1,
    "score": -4,
    "last_activity_date": 1763606580,
    "creation_date": 1763597686,
    "question_id": 79825010,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79825010/tiktok-fetch-an-access-token-using-an-authorizaiton-code-problems-in-java-spring",
    "title": "Tiktok fetch an access token using an authorizaiton code problems in java spring boot",
    "body": "<p>I am trying to exchange my authorizatoin code for an access token. I keep getting a &quot;request parameters are malformed&quot; error. I can curl the endpoint just fine but for some reason I can't get a valid response in the server.</p>\n<p>Here is the code I am using:</p>\n<pre><code> public TikTokTokenResponse getTiktokAccessToken(String code, String redirectUrl) throws Exception {\n    URI uri = new URI(String.format(&quot;https://open.tiktokapis.com/v2/oauth/token/&quot;));\n\n    MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;client_key&quot;, tiktokClientKey);\n    body.add(&quot;client_secret&quot;, tiktokClientSecret);\n    body.add(&quot;code&quot;, code);\n    body.add(&quot;grant_type&quot;, &quot;authorization_code&quot;);\n    body.add(&quot;redirect_uri&quot;, redirectUrl);\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n    headers.setCacheControl(&quot;no-cache&quot;);\n\n    HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n    log.info(&quot;Getting tiktok access token &quot; + uri.toString());\n    return restTemplate.postForObject(uri, requestEntity, TikTokTokenResponse.class);\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}