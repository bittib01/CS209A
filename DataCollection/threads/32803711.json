{
  "question": {
    "tags": [
      "javascript",
      "java",
      "browser",
      "webserver"
    ],
    "owner": {
      "account_id": 6076924,
      "reputation": 1173,
      "user_id": 4743979,
      "user_type": "registered",
      "accept_rate": 50,
      "profile_image": "https://www.gravatar.com/avatar/5b89b5dca92b0b3de6c72324524eaa25?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "DutChen18",
      "link": "https://stackoverflow.com/users/4743979/dutchen18"
    },
    "is_answered": false,
    "view_count": 885,
    "answer_count": 0,
    "score": 2,
    "last_activity_date": 1765037597,
    "creation_date": 1443317595,
    "last_edit_date": 1765037597,
    "question_id": 32803711,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/32803711/websocket-dropping-requests-freezing-intermittently",
    "title": "Websocket dropping requests / freezing intermittently",
    "body": "<ul>\n<li><a href=\"http://pastebin.com/wvQYLJrV\" rel=\"nofollow noreferrer\">start.bat</a></li>\n<li>Server.jar</li>\n<li><a href=\"http://pastebin.com/u9DU4F9a\" rel=\"nofollow noreferrer\">server/Server.java</a></li>\n<li><a href=\"http://pastebin.com/T05VBh1L\" rel=\"nofollow noreferrer\">server/HTTPServer.java</a></li>\n<li><a href=\"http://pastebin.com/u9DU4F9a\" rel=\"nofollow noreferrer\">server/WebSocket.java</a></li>\n<li><a href=\"http://pastebin.com/UpPW7uvD\" rel=\"nofollow noreferrer\">server/util/FileUtil.java</a></li>\n<li>root</li>\n<li><a href=\"http://pastebin.com/0RmzwRJp\" rel=\"nofollow noreferrer\">index.html</a></li>\n<li><a href=\"http://pastebin.com/jv2EnDz7\" rel=\"nofollow noreferrer\">script.js</a></li>\n<li><a href=\"http://pastebin.com/93CnYSsf\" rel=\"nofollow noreferrer\">style.css</a></li>\n<li>favicon.ico</li>\n<li>error</li>\n<li><a href=\"http://pastebin.com/Ns9Rnpi5\" rel=\"nofollow noreferrer\">error.html</a></li>\n<li><a href=\"http://pastebin.com/VjzuWZ0w\" rel=\"nofollow noreferrer\">script.js</a></li>\n<li><a href=\"http://pastebin.com/DSrJK4NJ\" rel=\"nofollow noreferrer\">error.js</a></li>\n<li><a href=\"http://pastebin.com/TfCs0xX2\" rel=\"nofollow noreferrer\">style.css</a></li>\n<li>favicon.ico</li>\n</ul>\n<p>There's a lot of files that can't possibly cause the problem, but I decided to include them anyway so you can try this if you want to. Also I've added a couple of <code>System.out.println(arg0);</code>'s for debugging</p>\n<p><strong>On Google Chrome:</strong> works as intended when refreshing with <kbd>ctr</kbd>+<kbd>r</kbd> or <kbd>ctr</kbd>+<kbd>shift</kbd>+<kbd>r</kbd>. But if you press the refresh button it loads everything but the WebSocket request freezes for a little while. When done freezing the server picks up a couple (2?) requests but the first lines are <code>null</code>, therefor the server stops handling the request and waits for a new request. Then the server picks up a correct WebSocket request and everything continues on as intended. But if you refresh while it is frozen, the server connects to the previous WebSocket and correctly sends <code>index.html</code> and <code>style.css</code>, but fails to send <code>script.js</code> and throws a <code>java.net.SocketException</code> and a <code>java.lang.NegativeArraySizeException</code> because it tries to read a negative number (-124?) bytes of data.</p>\n<p><strong>On Firefox:</strong> Same as Google Chrome, but it happens randomly instead of when the refresh button is pressed.</p>\n<p>I also can't connect to the server if a WebSocket is opened, which is probably because the WebSocket reads the request that the ServerSocket is supposed to read, but I'm not sure about this and I have no idea how to fix this.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}