{
  "question": {
    "tags": [
      "java",
      "hibernate",
      "jakarta-ee"
    ],
    "owner": {
      "account_id": 13779116,
      "reputation": 71,
      "user_id": 9944654,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/5aaa0c8cd8420c184196ac57beb272b0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Carol",
      "link": "https://stackoverflow.com/users/9944654/carol"
    },
    "is_answered": false,
    "view_count": 25977,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1764381615,
    "creation_date": 1584788107,
    "last_edit_date": 1584821080,
    "question_id": 60786929,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/60786929/ij031070-transaction-cannot-proceed-status-marked-rollback",
    "title": "IJ031070: Transaction cannot proceed: STATUS_MARKED_ROLLBACK",
    "body": "<p>Anyone knows what causes this error?</p>\n\n<p>Been struggling with this issue since morning. This error just started and prevents fetching from the DB. After researching i found this link but he just says it was an OPTIMISTIC_LOCK and does not specify how to fix it. When i debug, i notice that i fetch some data then the error shows. The data is in the DB and i am struggling. Please assist: The link i found on internet is below:  <a href=\"https://stackoverflow.com/questions/23399525/transaction-cannot-proceed-status-marked-rollback-when-running-on-jboss-standalo\">Transaction cannot proceed STATUS_MARKED_ROLLBACK when running on jboss standalone</a>    </p>\n\n<pre><code>11:32:39,036 WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-38) SQL Error: 0, \nSQLState: null\n11:32:39,038 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-38) IJ031070: \nTransaction cannot proceed: STATUS_MARKED_ROLLBACK\n11:32:39,043 INFO  [org.hibernate.event.internal.DefaultLoadEventListener] (default task-38) \nHHH000327: Error performing load command : org.hibernate.exception.GenericJDBCException: could not \nprepare statement\n11:32:39,046 ERROR [org.jboss.as.ejb3.invocation] (default task-38) WFLYEJB0034: EJB Invocation \nfailed on component MyClassImpl for method public abstract com.service.api.entities.ClassDto com.service.api.MyClassApi.myMethod(com.service.api.entities.Dto,java.lang.Object,com.model.user,java.lang.String) throws com.service.api.exceptions.MyException: javax.ejb.EJBTransactionRolledbackException: org.hibernate.exception.GenericJDBCException: could not prepare statement\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:159)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:256)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:329)\nat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)\n</code></pre>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 15505260,
        "reputation": 1,
        "user_id": 11185589,
        "user_type": "registered",
        "profile_image": "https://lh3.googleusercontent.com/-LQum6thQ10I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdIhrcdFuRgzBF6HUxPTu834ZgPhA/mo/s256-rj/photo.jpg",
        "display_name": "Chibuike Arnold",
        "link": "https://stackoverflow.com/users/11185589/chibuike-arnold"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1719880601,
      "last_edit_date": 1719880601,
      "creation_date": 1719880469,
      "answer_id": 78694663,
      "question_id": 60786929,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>In my Case, it was related to a setting in Microsoft Local DTC Properties.\nI had to use the value: &quot;NT AUTHORITY\\NetworkService&quot; as the DTC Logon Account,\nAnd I had check &quot;Network DTC Access&quot; and &quot;Allow Inbound&quot; and &quot;Allow Outbound&quot;\nMy own issue was because i was using XA for my transactions and the Local DTC Properties weren't setup properly.\nMicrosoft Event Viewer was also of great help. Read up how to use it to help you track exactly what the error is.\nSee useful links below:\n<a href=\"https://learn.microsoft.com/en-us/troubleshoot/windows/win32/msdtc-service-run-under-networkservice-account\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/troubleshoot/windows/win32/msdtc-service-run-under-networkservice-account</a></p>\n<p><a href=\"https://learn.microsoft.com/en-us/sql/relational-databases/performance/view-the-windows-application-log-windows-10?view=sql-server-ver16\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/relational-databases/performance/view-the-windows-application-log-windows-10?view=sql-server-ver16</a></p>\n"
    },
    {
      "owner": {
        "account_id": 3732221,
        "reputation": 566,
        "user_id": 4361933,
        "user_type": "registered",
        "accept_rate": 0,
        "profile_image": "https://i.sstatic.net/PoLhN.jpg?s=256",
        "display_name": "&#214;MER TAÅžCI",
        "link": "https://stackoverflow.com/users/4361933/%c3%96mer-ta%c5%9eci"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1676662690,
      "creation_date": 1676662690,
      "answer_id": 75488593,
      "question_id": 60786929,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>While you are debugging, transaction can lost connection because of timeout. In my situation, I removed the breakpoints before the transaction statement, the mentioned error has gone.</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 34247,
        "reputation": 1984,
        "user_id": 96617,
        "user_type": "registered",
        "accept_rate": 78,
        "profile_image": "https://www.gravatar.com/avatar/afb634f3f86c091ffb1c82001b2aff74?s=256&d=identicon&r=PG",
        "display_name": "Lluis Martinez",
        "link": "https://stackoverflow.com/users/96617/lluis-martinez"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1668714974,
      "post_id": 60786929,
      "comment_id": 131479915,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 1769203,
        "reputation": 9201,
        "user_id": 1614378,
        "user_type": "registered",
        "accept_rate": 55,
        "profile_image": "https://www.gravatar.com/avatar/5f4cb0d2f97a2f20b9e2d64996164043?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "devops",
        "link": "https://stackoverflow.com/users/1614378/devops"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1615885344,
      "post_id": 60786929,
      "comment_id": 117823420,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 13779116,
        "reputation": 71,
        "user_id": 9944654,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/5aaa0c8cd8420c184196ac57beb272b0?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Carol",
        "link": "https://stackoverflow.com/users/9944654/carol"
      },
      "reply_to_user": {
        "account_id": 2994830,
        "reputation": 73829,
        "user_id": 2541560,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/7H9TF.png?s=256",
        "display_name": "Kayaman",
        "link": "https://stackoverflow.com/users/2541560/kayaman"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1584790267,
      "post_id": 60786929,
      "comment_id": 107548006,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 2994830,
        "reputation": 73829,
        "user_id": 2541560,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/7H9TF.png?s=256",
        "display_name": "Kayaman",
        "link": "https://stackoverflow.com/users/2541560/kayaman"
      },
      "edited": false,
      "score": 1,
      "creation_date": 1584790005,
      "post_id": 60786929,
      "comment_id": 107547934,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 13779116,
        "reputation": 71,
        "user_id": 9944654,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/5aaa0c8cd8420c184196ac57beb272b0?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Carol",
        "link": "https://stackoverflow.com/users/9944654/carol"
      },
      "reply_to_user": {
        "account_id": 2994830,
        "reputation": 73829,
        "user_id": 2541560,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/7H9TF.png?s=256",
        "display_name": "Kayaman",
        "link": "https://stackoverflow.com/users/2541560/kayaman"
      },
      "edited": false,
      "score": 2,
      "creation_date": 1584789626,
      "post_id": 60786929,
      "comment_id": 107547826,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 2994830,
        "reputation": 73829,
        "user_id": 2541560,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/7H9TF.png?s=256",
        "display_name": "Kayaman",
        "link": "https://stackoverflow.com/users/2541560/kayaman"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1584788868,
      "post_id": 60786929,
      "comment_id": 107547657,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "78694663": [],
    "75488593": []
  }
}