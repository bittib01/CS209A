{
  "question": {
    "tags": [
      "java",
      "optimization",
      "collections"
    ],
    "owner": {
      "account_id": 6138,
      "reputation": 9724,
      "user_id": 10204,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/6d978c3cb52aded9f1b250cf66ca2b13?s=256&d=identicon&r=PG",
      "display_name": "gregory",
      "link": "https://stackoverflow.com/users/10204/gregory"
    },
    "is_answered": true,
    "view_count": 469973,
    "protected_date": 1668579353,
    "accepted_answer_id": 107987,
    "answer_count": 28,
    "score": 529,
    "last_activity_date": 1671438189,
    "creation_date": 1221642611,
    "last_edit_date": 1221919874,
    "question_id": 81346,
    "content_license": "CC BY-SA 2.5",
    "link": "https://stackoverflow.com/questions/81346/most-efficient-way-to-increment-a-map-value-in-java",
    "title": "Most efficient way to increment a Map value in Java",
    "body": "<p>I hope this question is not considered too basic for this forum, but we'll see. I'm wondering how to refactor some code for better performance that is getting run a bunch of times.</p>\n\n<p>Say I'm creating a word frequency list, using a Map (probably a HashMap), where each key is a String with the word that's being counted and the value is an Integer that's incremented each time a token of the word is found.</p>\n\n<p>In Perl, incrementing such a value would be trivially easy:</p>\n\n<pre><code>$map{$word}++;\n</code></pre>\n\n<p>But in Java, it's much more complicated. Here the way I'm currently doing it:</p>\n\n<pre><code>int count = map.containsKey(word) ? map.get(word) : 0;\nmap.put(word, count + 1);\n</code></pre>\n\n<p>Which of course relies on the autoboxing feature in the newer Java versions. I wonder if you can suggest a more efficient way of incrementing such a value. Are there even good performance reasons for eschewing the Collections framework and using a something else instead?</p>\n\n<p>Update: I've done a test of several of the answers. See below.</p>\n"
  },
  "answers": [],
  "question_comments": [
    {
      "owner": {
        "account_id": 1416522,
        "reputation": 96391,
        "user_id": 3553087,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/Q2cTS.gif?s=256",
        "display_name": "Brian Goetz",
        "link": "https://stackoverflow.com/users/3553087/brian-goetz"
      },
      "edited": false,
      "score": 3,
      "creation_date": 1619463710,
      "post_id": 81346,
      "comment_id": 118908793,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 1257650,
        "reputation": 24337,
        "user_id": 1216775,
        "user_type": "registered",
        "accept_rate": 54,
        "profile_image": "https://i.sstatic.net/gX53v.jpg?s=256",
        "display_name": "akhil_mittal",
        "link": "https://stackoverflow.com/users/1216775/akhil-mittal"
      },
      "edited": false,
      "score": 2,
      "creation_date": 1533961088,
      "post_id": 81346,
      "comment_id": 90549989,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {}
}