{
  "question": {
    "tags": [
      "java",
      "xml",
      "date",
      "xmlgregoriancalendar"
    ],
    "owner": {
      "account_id": 22010,
      "reputation": 10115,
      "user_id": 53943,
      "user_type": "registered",
      "accept_rate": 82,
      "profile_image": "https://www.gravatar.com/avatar/8ff89765136c38707e0f57cf48679a13?s=256&d=identicon&r=PG",
      "display_name": "mac",
      "link": "https://stackoverflow.com/users/53943/mac"
    },
    "is_answered": true,
    "view_count": 717115,
    "accepted_answer_id": 56313273,
    "answer_count": 10,
    "score": 668,
    "last_activity_date": 1748520443,
    "creation_date": 1241715903,
    "last_edit_date": 1495722314,
    "question_id": 835889,
    "content_license": "CC BY-SA 3.0",
    "link": "https://stackoverflow.com/questions/835889/java-util-date-to-xmlgregoriancalendar",
    "title": "java.util.Date to XMLGregorianCalendar",
    "body": "<p>Isn't there a convenient way of getting from a java.util.Date to a XMLGregorianCalendar?</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 7612423,
        "reputation": 87400,
        "user_id": 5772882,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
        "display_name": "Anonymous",
        "link": "https://stackoverflow.com/users/5772882/anonymous"
      },
      "is_accepted": true,
      "score": 78,
      "last_activity_date": 1748520443,
      "last_edit_date": 1748520443,
      "creation_date": 1558871840,
      "answer_id": 56313273,
      "question_id": 835889,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>I should like to take a step back and a modern look at this 10 years old question. The classes mentioned, <code>Date</code> and <code>XMLGregorianCalendar</code>, are old now. I challenge the use of them and offer alternatives.</p>\n<ul>\n<li><code>Date</code> was always poorly designed and is more than 20 years old. This is simple: don’t use it.</li>\n<li><code>XMLGregorianCalendar</code> is old too and has an old-fashioned design. As I understand it, it was used for producing dates and times in XML format for XML documents. Like <code>2009-05-07T19:05:45.678+02:00</code> or <code>2009-05-07T17:05:45.678Z</code>. These formats agree well enough with ISO 8601 that the classes of java.time, the modern Java date and time API, can produce them, which we prefer.</li>\n</ul>\n<h2>No conversion necessary</h2>\n<p>For many (most?) purposes the modern replacement for a <code>Date</code> will be an <code>Instant</code>. An <code>Instant</code> is a point in time (just as a <code>Date</code> is).</p>\n<pre><code>    Instant yourInstant = // ...\n    System.out.println(yourInstant);\n</code></pre>\n<p>An example output from this snippet:</p>\n<blockquote>\n<p>2009-05-07T17:05:45.678Z</p>\n</blockquote>\n<p>It’s the same as the latter of my example <code>XMLGregorianCalendar</code> strings above. As most of you know, it comes from <code>Instant.toString</code> being implicitly called by <code>System.out.println</code>. With java.time, in many cases we don’t need the conversions that in the old days we made between <code>Date</code>, <code>Calendar</code>, <code>XMLGregorianCalendar</code> and other classes (in some cases we do need conversions, though, I am showing you a couple in the next section).</p>\n<h2>Controlling the offset</h2>\n<p>Neither a <code>Date</code> nor in <code>Instant</code> has got a time zone nor a UTC offset. The previously accepted and still highest voted answer by Ben Noland uses the JVMs current default time zone for selecting the offset of the <code>XMLGregorianCalendar</code>. To include an offset in a modern object we use an <code>OffsetDateTime</code>. For example:</p>\n<pre><code>    ZoneId zone = ZoneId.of(&quot;America/Asuncion&quot;);\n    OffsetDateTime dateTime = yourInstant.atZone(zone).toOffsetDateTime();\n    System.out.println(dateTime);\n</code></pre>\n<blockquote>\n<p>2009-05-07T13:05:45.678-04:00</p>\n</blockquote>\n<p>Again this conforms with XML format. If you want to use the current JVM time zone setting again, set <code>zone</code> to <code>ZoneId.systemDefault()</code>.</p>\n<h2>What if I absolutely need an XMLGregorianCalendar?</h2>\n<p>There are more ways to convert <code>Instant</code> to <code>XMLGregorianCalendar</code>. I will present a couple, each with its pros and cons. First, just as an <code>XMLGregorianCalendar</code> produces a string like <code>2009-05-07T17:05:45.678Z</code>, it can also be built from such a string:</p>\n<pre><code>    String dateTimeString = yourInstant.toString();\n    XMLGregorianCalendar date2\n            = DatatypeFactory.newInstance().newXMLGregorianCalendar(dateTimeString);\n    System.out.println(date2);\n</code></pre>\n<blockquote>\n<p>2009-05-07T17:05:45.678Z</p>\n</blockquote>\n<p>Pro: it’s short and I don’t think it gives any surprises. Con: To me it feels like a waste formatting the instant into a string and parsing it back.</p>\n<pre><code>    ZonedDateTime dateTime = yourInstant.atZone(zone);\n    GregorianCalendar c = GregorianCalendar.from(dateTime);\n    XMLGregorianCalendar date2 = DatatypeFactory.newInstance().newXMLGregorianCalendar(c);\n    System.out.println(date2);\n</code></pre>\n<blockquote>\n<p>2009-05-07T13:05:45.678-04:00</p>\n</blockquote>\n<p>Pro: It’s the official conversion. Controlling the offset comes naturally. Con: It goes through more steps and is therefore longer.</p>\n<h2>What if we got a Date?</h2>\n<p>If you got an old-fashioned <code>Date</code> object from a legacy API that you cannot afford to change just now, convert it to <code>Instant</code>:</p>\n<pre><code>    Instant i = yourDate.toInstant();\n    System.out.println(i);\n</code></pre>\n<p>Output is the same as before:</p>\n<blockquote>\n<p>2009-05-07T17:05:45.678Z</p>\n</blockquote>\n<p>If you want to control the offset, convert further to an <code>OffsetDateTime</code> in the same way as above.</p>\n<p>If you’ve got an old-fashioned <code>Date</code> and absolutely need an old-fashioned <code>XMLGregorianCalendar</code>, just use the answer by Ben Noland.</p>\n<h2>Bonus tip: use java.time types with JAXB</h2>\n<p>If you were using JAXB for marshalling your XML and thought you needed an <code>XMLGregorianCalendar</code> for that, you don’t. You can directly use the modern java.time classes with JAXB. See the link to <em>Using java.time Classes with JAXB</em> below.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://www.w3schools.com/xml/schema_dtypes_date.asp\" rel=\"nofollow noreferrer\">XSD Date and Time Data Types</a> on W3Schools.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">Wikipedia article: ISO 8601</a></li>\n<li><a href=\"https://martinelli.ch/using-java-time-classes-with-jaxb/\" rel=\"nofollow noreferrer\">Using java.time Classes with JAXB</a></li>\n</ul>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 322981,
        "reputation": 346871,
        "user_id": 642706,
        "user_type": "registered",
        "accept_rate": 58,
        "profile_image": "https://i.sstatic.net/ZWEI3.jpg?s=256",
        "display_name": "Basil Bourque",
        "link": "https://stackoverflow.com/users/642706/basil-bourque"
      },
      "edited": false,
      "score": 3,
      "creation_date": 1558879873,
      "post_id": 835889,
      "comment_id": 99237691,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "56313273": [
      {
        "owner": {
          "account_id": 2179728,
          "reputation": 81031,
          "user_id": 10819573,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/MWKel.jpg?s=256",
          "display_name": "Arvind Kumar Avinash",
          "link": "https://stackoverflow.com/users/10819573/arvind-kumar-avinash"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1733231063,
        "post_id": 56313273,
        "comment_id": 139743249,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 3453445,
          "reputation": 246,
          "user_id": 2892515,
          "user_type": "registered",
          "accept_rate": 93,
          "profile_image": "https://www.gravatar.com/avatar/391491f792dede1c39a89c21139ff87b?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Enerccio",
          "link": "https://stackoverflow.com/users/2892515/enerccio"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1621240706,
        "post_id": 56313273,
        "comment_id": 119425795,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 7612423,
          "reputation": 87400,
          "user_id": 5772882,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Anonymous",
          "link": "https://stackoverflow.com/users/5772882/anonymous"
        },
        "reply_to_user": {
          "account_id": 3453445,
          "reputation": 246,
          "user_id": 2892515,
          "user_type": "registered",
          "accept_rate": 93,
          "profile_image": "https://www.gravatar.com/avatar/391491f792dede1c39a89c21139ff87b?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Enerccio",
          "link": "https://stackoverflow.com/users/2892515/enerccio"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1621227690,
        "post_id": 56313273,
        "comment_id": 119421906,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 3453445,
          "reputation": 246,
          "user_id": 2892515,
          "user_type": "registered",
          "accept_rate": 93,
          "profile_image": "https://www.gravatar.com/avatar/391491f792dede1c39a89c21139ff87b?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Enerccio",
          "link": "https://stackoverflow.com/users/2892515/enerccio"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1621142604,
        "post_id": 56313273,
        "comment_id": 119402746,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 7612423,
          "reputation": 87400,
          "user_id": 5772882,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Anonymous",
          "link": "https://stackoverflow.com/users/5772882/anonymous"
        },
        "reply_to_user": {
          "account_id": 425738,
          "reputation": 1793,
          "user_id": 806524,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/cd9f87362c668647f84689daf2df9f8b?s=256&d=identicon&r=PG",
          "display_name": "Nagh",
          "link": "https://stackoverflow.com/users/806524/nagh"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1602699105,
        "post_id": 56313273,
        "comment_id": 113806070,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 425738,
          "reputation": 1793,
          "user_id": 806524,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/cd9f87362c668647f84689daf2df9f8b?s=256&d=identicon&r=PG",
          "display_name": "Nagh",
          "link": "https://stackoverflow.com/users/806524/nagh"
        },
        "edited": false,
        "score": 2,
        "creation_date": 1602698449,
        "post_id": 56313273,
        "comment_id": 113805778,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 7612423,
          "reputation": 87400,
          "user_id": 5772882,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/8283c64511fa80afed5259d10850168f?s=256&d=identicon&r=PG&f=y&so-version=2",
          "display_name": "Anonymous",
          "link": "https://stackoverflow.com/users/5772882/anonymous"
        },
        "reply_to_user": {
          "account_id": 425738,
          "reputation": 1793,
          "user_id": 806524,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/cd9f87362c668647f84689daf2df9f8b?s=256&d=identicon&r=PG",
          "display_name": "Nagh",
          "link": "https://stackoverflow.com/users/806524/nagh"
        },
        "edited": false,
        "score": 2,
        "creation_date": 1602697492,
        "post_id": 56313273,
        "comment_id": 113805355,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 425738,
          "reputation": 1793,
          "user_id": 806524,
          "user_type": "registered",
          "profile_image": "https://www.gravatar.com/avatar/cd9f87362c668647f84689daf2df9f8b?s=256&d=identicon&r=PG",
          "display_name": "Nagh",
          "link": "https://stackoverflow.com/users/806524/nagh"
        },
        "edited": false,
        "score": 8,
        "creation_date": 1602696875,
        "post_id": 56313273,
        "comment_id": 113805110,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}