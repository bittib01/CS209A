{
  "question": {
    "tags": [
      "java",
      "jvm",
      "out-of-memory",
      "heap-memory"
    ],
    "owner": {
      "account_id": 2722,
      "reputation": 95902,
      "user_id": 3827,
      "user_type": "registered",
      "accept_rate": 94,
      "profile_image": "https://www.gravatar.com/avatar/8f41595db400be30176f6f04630c2842?s=256&d=identicon&r=PG",
      "display_name": "Eugene Yokota",
      "link": "https://stackoverflow.com/users/3827/eugene-yokota"
    },
    "is_answered": true,
    "view_count": 2547552,
    "protected_date": 1319641062,
    "accepted_answer_id": 37349,
    "answer_count": 33,
    "score": 597,
    "last_activity_date": 1756123058,
    "creation_date": 1220231403,
    "last_edit_date": 1603551495,
    "question_id": 37335,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error",
    "title": "How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?",
    "body": "<p>I am writing a client-side <strong>Swing</strong> application (graphical font designer) on <strong>Java 5</strong>. Recently, I am running into <code>java.lang.OutOfMemoryError: Java heap space</code> error because I am not being conservative on memory usage. The user can open unlimited number of files, and the program keeps the opened objects in the memory. After a quick research I found <a href=\"http://java.sun.com/docs/hotspot/gc5.0/ergo5.html\" rel=\"noreferrer\">Ergonomics in the 5.0 Java Virtual Machine</a> and others saying on Windows machine the JVM defaults max heap size as <code>64MB</code>.</p>\n\n<p>Given this situation, how should I deal with this constraint?</p>\n\n<p>I could increase the <strong>max heap size</strong> using <strong>command line</strong> option to java, but that would require figuring out available RAM and writing some launching program or script. Besides, increasing to some <strong>finite</strong> max does not <strong>ultimately</strong> get rid of the issue.</p>\n\n<p>I could rewrite some of my code to persist objects to file system frequently (using database is the same thing) to free up the memory. It could work, but it's probably a lot work too.</p>\n\n<p>If you could point me to details of above ideas or some alternatives like <strong>automatic virtual memory, extending heap size dynamically</strong>, that will be great.</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 16441029,
        "reputation": 93,
        "user_id": 11877301,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/3fkCI.jpg?s=256",
        "display_name": "pradeepo7",
        "link": "https://stackoverflow.com/users/11877301/pradeepo7"
      },
      "is_accepted": false,
      "score": 0,
      "last_activity_date": 1756123058,
      "creation_date": 1756123058,
      "answer_id": 79745725,
      "question_id": 37335,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>I faced this issue in my Flutter app and resolved it by increasing the Gradle JVM memory.</p>\n<p>In <code>android/gradle.properties</code>, update the line:</p>\n<pre><code>org.gradle.jvmargs=-Xmx512M\n</code></pre>\n<p>to:</p>\n<pre><code>org.gradle.jvmargs=-Xmx8G\n</code></pre>\n<p>Then run:</p>\n<pre><code>flutter clean\nflutter run\n</code></pre>\n<p>If 8 GB isnâ€™t enough, you can increase it further 16GB(e.g., <code>-Xmx16G</code>).</p>\n"
    },
    {
      "owner": {
        "account_id": 1922702,
        "reputation": 691,
        "user_id": 1733810,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/d9V6W.jpg?s=256",
        "display_name": "Neeraj Singh",
        "link": "https://stackoverflow.com/users/1733810/neeraj-singh"
      },
      "is_accepted": false,
      "score": 5,
      "last_activity_date": 1735263943,
      "last_edit_date": 1735263943,
      "creation_date": 1641750049,
      "answer_id": 70643906,
      "question_id": 37335,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>If you are using Android Studio just add these lines with <code>gradle.properties</code> file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n"
    },
    {
      "owner": {
        "account_id": 23875912,
        "reputation": 409,
        "user_id": 17877077,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/iimPR.jpg?s=256",
        "display_name": "Samiya Khan",
        "link": "https://stackoverflow.com/users/17877077/samiya-khan"
      },
      "is_accepted": false,
      "score": 4,
      "last_activity_date": 1710391663,
      "creation_date": 1710391663,
      "answer_id": 78158154,
      "question_id": 37335,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>To address the <strong>java.lang.OutOfMemoryError: Java heap space</strong> issue, you need to modify <strong>gradle.properties</strong> file.</p>\n<p>Add this line: <code>org.gradle.jvmargs=-Xmx2048m</code></p>\n<p>This line instructs Gradle to allocate a maximum of 2048 megabytes of memory to the JVM heap, which can help prevent out-of-memory errors during Gradle builds.</p>\n<p>You can also use: <code>org.gradle.jvmargs=-Xms1024m</code> or <code>org.gradle.jvmargs=-Xmx4096m</code>.</p>\n"
    }
  ],
  "question_comments": [
    {
      "owner": {
        "account_id": 11259570,
        "reputation": 1030,
        "user_id": 8258305,
        "user_type": "registered",
        "accept_rate": 60,
        "profile_image": "https://lh3.googleusercontent.com/-DEO2bOPhgRM/AAAAAAAAAAI/AAAAAAAAABA/2yiUiZDMnH4/s256-rj/photo.jpg",
        "display_name": "Mohd Qasim",
        "link": "https://stackoverflow.com/users/8258305/mohd-qasim"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1647243012,
      "post_id": 37335,
      "comment_id": 126312694,
      "content_license": "CC BY-SA 4.0"
    },
    {
      "owner": {
        "account_id": 21994,
        "reputation": 75391,
        "user_id": 53897,
        "user_type": "registered",
        "accept_rate": 56,
        "profile_image": "https://i.sstatic.net/enNdg.jpg?s=256",
        "display_name": "Thorbj&#248;rn Ravn Andersen",
        "link": "https://stackoverflow.com/users/53897/thorbj%c3%b8rn-ravn-andersen"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1613923966,
      "post_id": 37335,
      "comment_id": 117220130,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {
    "79745725": [],
    "70643906": [],
    "78158154": []
  }
}