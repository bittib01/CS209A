{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "logging",
      "microservices",
      "jhipster"
    ],
    "owner": {
      "account_id": 7515487,
      "reputation": 21,
      "user_id": 5709081,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/enNNF.jpg?s=256",
      "display_name": "Anshi Shrivastava",
      "link": "https://stackoverflow.com/users/5709081/anshi-shrivastava"
    },
    "is_answered": false,
    "view_count": 386,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1764999048,
    "creation_date": 1557989870,
    "last_edit_date": 1557993079,
    "question_id": 56162518,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/56162518/spring-boot-getting-illegalargumentexception-in-logback",
    "title": "Spring-boot: Getting IllegalArgumentException in Logback",
    "body": "<p>My application has a monolithic (gateway, micro-services) architecture generated by Jhipster. The micro-services are running fine individually but when i am adding other dependencies related to my project, the services are giving a Logback IllegalArgumentException.</p>\n\n<p>I tried excluding this from all my spring-boot-starter-* dependencies, still the same exception</p>\n\n<pre><code>&lt;exclusions&gt;\n  &lt;exclusion&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n  &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n</code></pre>\n\n<p>Here is the exception occurring:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: LoggerFactory is not \na Logback LoggerContext but Logback is on the classpath.\nEither remove Logback or the competing implementation (class \norg.slf4j.impl.Log4jLoggerFactory loaded from \nfile:/Users/tkma0hh/.m2/repository/org/slf4j/slf4j- \nlog4j12/1.7.25/slf4j-log4j12-1.7.25.jar). If you are using WebLogic \nyou will need to add 'org.slf4j' to prefer-application-packages in \nWEB-INF/weblogic.xml: org.slf4j.impl.Log4jLoggerFactory\n</code></pre>\n\n<p>And dependencies in the pom file:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.test&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.typesafe.akka&lt;/groupId&gt;\n        &lt;artifactId&gt;akka-http_2.11&lt;/artifactId&gt;\n        &lt;version&gt;10.0.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.heikoseeberger&lt;/groupId&gt;\n        &lt;artifactId&gt;akka-http-circe_2.11&lt;/artifactId&gt;\n        &lt;version&gt;1.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json4s&lt;/groupId&gt;\n        &lt;artifactId&gt;json4s-native_2.11&lt;/artifactId&gt;\n        &lt;version&gt;3.2.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.jhipster&lt;/groupId&gt;\n        &lt;artifactId&gt;jhipster-framework&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hibernate5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-hppc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-afterburner&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n        &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;!-- parent POM declares this dependency in default (compile) scope --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mattbertolini&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n        &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n        &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-envers&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-loader-tools&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n        &lt;artifactId&gt;problem-spring-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spring Cloud --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-ribbon&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cloud-connectors&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Security --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-data&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n        &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Cucumber --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- jhipster-needle-maven-add-dependency --&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 17012451,
        "reputation": 85,
        "user_id": 12307157,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/0AfGP.jpg?s=256",
        "display_name": "ziad-saade",
        "link": "https://stackoverflow.com/users/12307157/ziad-saade"
      },
      "is_accepted": false,
      "score": -2,
      "last_activity_date": 1764999048,
      "last_edit_date": 1764999048,
      "creation_date": 1764986795,
      "answer_id": 79839440,
      "question_id": 56162518,
      "content_license": "CC BY-SA 4.0",
      "body": "<p>You can fix the issue by adding a <code>WEB-INF/weblogic.xml</code> file to your war with the following contents:</p>\n<blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;wls:weblogic-web-app\n  xmlns:wls=&quot;http://xmlns.oracle.com/weblogic/weblogic-web-app&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee\n      https://java.sun.com/xml/ns/javaee/ejb-jar_3_0.xsd\n      http://xmlns.oracle.com/weblogic/weblogic-web-app\n      https://xmlns.oracle.com/weblogic/weblogic-web-app/1.4/weblogic-web-app.xsd&quot;&gt;\n  &lt;wls:container-descriptor&gt;\n      &lt;wls:prefer-application-packages&gt;\n          &lt;wls:package-name&gt;org.slf4j&lt;/wls:package-name&gt;\n      &lt;/wls:prefer-application-packages&gt;\n  &lt;/wls:container-descriptor&gt;\n&lt;/wls:weblogic-web-app&gt;\n</code></pre>\n</blockquote>\n<p>ref: <a href=\"https://docs.spring.io/spring-boot/how-to/deployment/traditional-deployment.html#howto.traditional-deployment.weblogic\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/how-to/deployment/traditional-deployment.html#howto.traditional-deployment.weblogic</a></p>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "79839440": [
      {
        "owner": {
          "account_id": 17012451,
          "reputation": 85,
          "user_id": 12307157,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/0AfGP.jpg?s=256",
          "display_name": "ziad-saade",
          "link": "https://stackoverflow.com/users/12307157/ziad-saade"
        },
        "reply_to_user": {
          "account_id": 7497774,
          "reputation": 875,
          "user_id": 5697347,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/kWIKwub8.png?s=256",
          "display_name": "Marsroverr",
          "link": "https://stackoverflow.com/users/5697347/marsroverr"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1764991715,
        "post_id": 79839440,
        "comment_id": 140889976,
        "content_license": "CC BY-SA 4.0"
      },
      {
        "owner": {
          "account_id": 7497774,
          "reputation": 875,
          "user_id": 5697347,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/kWIKwub8.png?s=256",
          "display_name": "Marsroverr",
          "link": "https://stackoverflow.com/users/5697347/marsroverr"
        },
        "edited": false,
        "score": 1,
        "creation_date": 1764990148,
        "post_id": 79839440,
        "comment_id": 140889963,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}