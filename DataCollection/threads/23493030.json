{
  "question": {
    "tags": [
      "java",
      "android",
      "logout"
    ],
    "owner": {
      "account_id": 3640829,
      "reputation": 1801,
      "user_id": 3034944,
      "user_type": "registered",
      "accept_rate": 44,
      "profile_image": "https://www.gravatar.com/avatar/3afc4c7fcd711f60cc5898fc8a280808?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "user3034944",
      "link": "https://stackoverflow.com/users/3034944/user3034944"
    },
    "is_answered": true,
    "view_count": 7763,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1764575400,
    "creation_date": 1399374512,
    "last_edit_date": 1548044606,
    "question_id": 23493030,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/23493030/clearing-application-data-programmatically-android",
    "title": "Clearing application data programmatically Android",
    "body": "<p>I have a app with SharedPreferences. I would like to clear the complete apps data on a button click so that the application starts fresh as it would when it is installed first.</p>\n\n<p>I have tried:</p>\n\n<p>ClearData.java</p>\n\n<pre><code>public class ClearData extends Application \n{\n    private static ClearData instance;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        instance = this;\n    }\n\n    public static ClearData getInstance() {\n        return instance;\n    }\n\n    public void clearApplicationData() {\n        File cache = getCacheDir();\n        File appDir = new File(cache.getParent());\n        if (appDir.exists()) {\n            String[] children = appDir.list();\n            for (String s : children) {\n                if (!s.equals(\"lib\")) {\n                    deleteDir(new File(appDir, s));\n                    Log.i(\"TAG\", \"**************** File /data/data/mypackage/\" + s + \" DELETED *******************\");\n                }\n            }\n        }\n    }\n\n    public static boolean deleteDir(File dir) {\n        if (dir != null &amp;&amp; dir.isDirectory()) {\n            String[] children = dir.list();\n            for (int i = 0; i &lt; children.length; i++) {\n                boolean success = deleteDir(new File(dir, children[i]));\n                if (!success) {\n                    return false;\n                }\n            }\n        }\n\n        return dir.delete();\n    }\n}\n</code></pre>\n\n<p>Main.java</p>\n\n<pre><code>btnLogout.setOnclickListener(new View.OnClickListner(\n{\n @Override\n    public void onClick(View v) \n{\n       ClearData.getInstance().clearApplicationData(); // Gettin error\n    }\n});\n</code></pre>\n\n<p>But I get a NullPointerException on the above line</p>\n"
  },
  "answers": [
    {
      "owner": {
        "account_id": 10019654,
        "reputation": 3295,
        "user_id": 7409774,
        "user_type": "registered",
        "profile_image": "https://i.sstatic.net/KLZf7.png?s=256",
        "display_name": "Milind Mevada",
        "link": "https://stackoverflow.com/users/7409774/milind-mevada"
      },
      "is_accepted": false,
      "score": 3,
      "last_activity_date": 1764575400,
      "last_edit_date": 1764575400,
      "creation_date": 1548045175,
      "answer_id": 54283550,
      "question_id": 23493030,
      "content_license": "CC BY-SA 4.0",
      "body": "<p><strong>Here is another way to clear the App data completely:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void clearAppData() {\n    try {\n        Runtime runtime = Runtime.getRuntime();\n        runtime.exec(&quot;pm clear &quot; + getApplicationContext().getPackageName());\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"
    }
  ],
  "question_comments": [],
  "answer_comments": {
    "54283550": [
      {
        "owner": {
          "account_id": 2679860,
          "reputation": 310,
          "user_id": 2315437,
          "user_type": "registered",
          "profile_image": "https://i.sstatic.net/lMCVR.jpg?s=256",
          "display_name": "Gobinath Nataraj",
          "link": "https://stackoverflow.com/users/2315437/gobinath-nataraj"
        },
        "edited": false,
        "score": 0,
        "creation_date": 1660896505,
        "post_id": 54283550,
        "comment_id": 129646490,
        "content_license": "CC BY-SA 4.0"
      }
    ]
  }
}