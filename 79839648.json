{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "hibernate"
    ],
    "owner": {
      "account_id": 44926048,
      "reputation": 1,
      "user_id": 32008361,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/1f2bec7e862380b025b319553faa8711?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Anonymous life",
      "link": "https://stackoverflow.com/users/32008361/anonymous-life"
    },
    "is_answered": false,
    "view_count": 34,
    "closed_date": 1765034699,
    "answer_count": 0,
    "score": -4,
    "last_activity_date": 1765020778,
    "creation_date": 1765020580,
    "last_edit_date": 1765020778,
    "question_id": 79839648,
    "link": "https://stackoverflow.com/questions/79839648/spring-boot-2-x%e2%86%92-3-x-migration-slowed-down-query-with-json-column-mapping-what",
    "closed_reason": "Needs details or clarity",
    "title": "Spring Boot 2.x→ 3.x migration slowed down query with JSON column mapping — what changed?",
    "body": "<p>I recently upgraded a Spring Boot application from <strong>2.x</strong> to <strong>3.x</strong> (Hibernate 5 → Hibernate 6).<br />\nAfter migration, a hibernate query that fetches rows containing a <strong>JSON column mapped to an object</strong> in the entity has become significantly slower.</p>\n<p><strong>Before migration:</strong> ~4–7 seconds<br />\n<strong>After migration:</strong> ~10–15 seconds</p>\n<h3><strong>What the code does</strong></h3>\n<ul>\n<li><p>Uses <strong>Hibernate CriteriaQuery</strong> to fetch thousands of rows.</p>\n</li>\n<li><p>One of the columns is a large JSON stored as a string, mapped to a POJO using <code>@Type</code> (Hibernate Types / Jackson-based converter).</p>\n</li>\n<li><p>No Spring Batch; plain JPA/Hibernate on PostgreSQL/MySQL.</p>\n</li>\n</ul>\n<h3><strong>What changed after migration</strong></h3>\n<p>Once the app moved to Spring Boot 3.x:</p>\n<ul>\n<li><p>Hibernate upgraded from <strong>5.x → 6.x</strong></p>\n</li>\n<li><p>Jakarta namespace (<code>javax.persistence</code> → <code>jakarta.persistence</code>)</p>\n</li>\n<li><p>no change in db</p>\n</li>\n</ul>\n<p>After the upgrade, the <strong>exact same Criteria query is consistently much slower</strong>.</p>\n<h3><strong>What I have checked</strong></h3>\n<ul>\n<li><p>Query execution time directly in DB</p>\n</li>\n<li><p>No change in indexes or schema</p>\n</li>\n<li><p>No change in entity mapping</p>\n</li>\n</ul>\n<h3><strong>My questions</strong></h3>\n<ol>\n<li><p><strong>Did Hibernate 6 introduce changes that increase the cost of mapping JSON fields or attribute converters?</strong></p>\n</li>\n<li><p><strong>Is there any known performance regression in Hibernate 6 when dealing with JSON columns or large objects?</strong></p>\n</li>\n</ol>\n<h3><strong>Any suggestions, tuning tips, or known issues about Hibernate 6 JSON performance would be helpful!</strong></h3>\n"
  },
  "answers": [],
  "question_comments": [
    {
      "owner": {
        "account_id": 213468,
        "reputation": 110279,
        "user_id": 466862,
        "user_type": "registered",
        "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=256&d=identicon&r=PG",
        "display_name": "Mark Rotteveel",
        "link": "https://stackoverflow.com/users/466862/mark-rotteveel"
      },
      "edited": false,
      "score": 0,
      "creation_date": 1765045070,
      "post_id": 79839648,
      "comment_id": 140890604,
      "content_license": "CC BY-SA 4.0"
    }
  ],
  "answer_comments": {}
}