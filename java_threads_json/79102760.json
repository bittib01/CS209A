{
  "question": {
    "tags": [
      "java",
      "mongodb"
    ],
    "owner": {
      "account_id": 5650574,
      "reputation": 50,
      "user_id": 4471348,
      "user_type": "registered",
      "profile_image": "https://graph.facebook.com/1226563330/picture?type=large",
      "display_name": "Gustavo Moreira",
      "link": "https://stackoverflow.com/users/4471348/gustavo-moreira"
    },
    "is_answered": false,
    "view_count": 135,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1730395649,
    "creation_date": 1729266165,
    "question_id": 79102760,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79102760/nosuchmethoderror-void-com-mongodb-mongoclient-init-when-migrating-to-newer-d",
    "title": "NoSuchMethodError: void com.mongodb.MongoClient.&lt;init&gt; when migrating to newer driver version",
    "body": "<p>I am migrating a jar from using the 3.0 version of mongo driver to 5.1. I am using java SE 11. In my local environment, the tests work ok, but when in the web environment, I get the following error:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: 'void com.mongodb.MongoClient.&lt; init &gt;(java.util.List, java.util.List, com.mongodb.MongoClientOptions)'\nat deployment.VUCE.war//com.genexusconsulting.mongodb.GXCMongoDBConector.createClient(GXCMongoDBConector.java:811)\nat deployment.VUCE.war//com.genexusconsulting.mongodb.GXCMongoDBConector.connect(GXCMongoDBConector.java:106)</p>\n</blockquote>\n<p>The line that is referring to has the following code:</p>\n<pre><code>    List&lt;ServerAddress&gt; seeds = new ArrayList&lt;ServerAddress&gt;();\n    seeds.add(new ServerAddress(host, port));\n    CodecRegistry codecRegistry = CodecRegistries.fromRegistries(CodecRegistries.fromProviders(new QueryResponseCodecProvider()), MongoClientSettings.getDefaultCodecRegistry());\n    ConnectionString cnn = new ConnectionString(mongoUri);\n    /* here there be error */\n    MongoClientSettings options = MongoClientSettings.builder().\n                    applyConnectionString(cnn).\n                    applyToClusterSettings(builder -&gt; builder.hosts(seeds)).\n                    codecRegistry(codecRegistry).build();\n    /* here there be error */\n</code></pre>\n<p>The pom file includes:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mongodb/bson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;bson&lt;/artifactId&gt;\n    &lt;version&gt;5.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-core --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-core&lt;/artifactId&gt;\n    &lt;version&gt;5.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongodb-driver-sync --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;5.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For which, the files that I include on my lib folder are: bson-5.1.2.jar, bson-record-codec-5.1.2, mongodb-driver-core-5.1.2.jar and mongodb-driver-sync-5.1.2.jar, while also removing all previous versions. The code works fine in my local tests, but it fails when I include it in a test environment.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}