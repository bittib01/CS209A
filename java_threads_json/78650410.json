{
  "question": {
    "tags": [
      "java",
      "jpa",
      "criteria",
      "hibernate-criteria"
    ],
    "owner": {
      "account_id": 4104486,
      "reputation": 490,
      "user_id": 3369001,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://i.sstatic.net/bj0iX.jpg?s=256",
      "display_name": "Vishal_Kotecha",
      "link": "https://stackoverflow.com/users/3369001/vishal-kotecha"
    },
    "is_answered": true,
    "view_count": 292,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1719407263,
    "creation_date": 1718944408,
    "last_edit_date": 1719303390,
    "question_id": 78650410,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78650410/criteria-api-error-operator-does-not-exist-integer-integer",
    "title": "Criteria API error: operator does not exist: integer = integer[]",
    "body": "<p>I have an entity where I have a field of type integer array.</p>\n<pre><code>class User { \n    @ElementCollection\n    @Column(name = &quot;`location_ids`&quot;, columnDefinition = &quot;int[]&quot;)\n    @Type(ListArrayType.class)\n    private List&lt;Integer&gt; locationIds;\n\n    @Column(name = &quot;`email`&quot;)\n    private String email;\n\n    @Column(name = &quot;`deletedAt`&quot;)\n    @Temporal(TIMESTAMP)\n    private LocalDateTime deletedAt;\n\n}\n</code></pre>\n<p>I want to use criteria API to compare the requested locationIds list with the existing array. For example, I want to check if the location ID 1,2 or 3 is part of the &quot;locationIds&quot; array column or not.</p>\n<pre><code>final List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\npredicates.add(criteriaBuilder.equal(root.get(&quot;email&quot;), email));\npredicates.add(criteriaBuilder.isNull(root.get(&quot;deletedAt&quot;)));\n\nList&lt;Predicate&gt; arrayPredicates = new ArrayList&lt;&gt;();\nfinal Expression&lt;List&lt;Integer&gt;&gt; exp = root.get(&quot;locationIds&quot;);\nfor (Integer id : locationIdsFromSearchModel) {\n     arrayPredicates.add(criteriaBuilder.isMember(id, exp));\n}\npredicates.add(criteriaBuilder.or(arrayPredicates.toArray(new Predicate[0])));\n\n</code></pre>\n<p>The error <em>&quot;operator does not exist: integer = integer[]&quot;</em> is thrown from the call <code>criteriaBuilder.isMember(id, exp)</code></p>\n<p>I looked up and it seems I need to do an &quot;ANY&quot; operation on the array. I didn't find any reference on how to do that with Criteria API.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}