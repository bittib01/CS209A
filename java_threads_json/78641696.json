{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot"
    ],
    "owner": {
      "account_id": 174948,
      "reputation": 15540,
      "user_id": 404615,
      "user_type": "registered",
      "accept_rate": 79,
      "profile_image": "https://www.gravatar.com/avatar/0a13543b6046d44a24ae274809e2fc85?s=256&d=identicon&r=PG",
      "display_name": "Igor Mukhin",
      "link": "https://stackoverflow.com/users/404615/igor-mukhin"
    },
    "is_answered": true,
    "view_count": 294,
    "accepted_answer_id": 78662167,
    "answer_count": 5,
    "score": -2,
    "last_activity_date": 1719582644,
    "creation_date": 1718789872,
    "last_edit_date": 1719227284,
    "question_id": 78641696,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78641696/expose-single-classpath-resource-for-web-access-in-spring-boot",
    "title": "Expose single classpath resource for web access in Spring Boot",
    "body": "<p><em>Context:</em></p>\n<ul>\n<li>Spring Boot / Java</li>\n</ul>\n<p><em>Given:</em></p>\n<ul>\n<li>class path resource like <code>/src/main/resources/source_dir/source_file.yaml</code></li>\n</ul>\n<p><em>Problem:</em></p>\n<ul>\n<li>this file should be exposed on the URL <code>http://localhost:8080/target_dir/target_file.yaml</code></li>\n</ul>\n<p>What is the idiomatic way to achieve it in Spring Boot?</p>\n<p>I know there is a way to map a classpath directory to a web path by configuring  <code>ResourceHandlerRegistry</code> but that does not work for a single resource and you can't give the resource another name:</p>\n<pre><code>    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/target_dir/**&quot;)\n                .addResourceLocations(&quot;classpath:/source_dir/&quot;);\n    }\n</code></pre>\n<p>Currently, I use a trick with forward in the controller so the file can be mapped but that is ugly:</p>\n<pre><code>    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(&quot;/target_dir/target_file.yaml&quot;)\n                .setViewName(&quot;forward:/source_dir/source_file.yaml&quot;);\n    }\n\n</code></pre>\n<p>I would expect the code like the below to work, but according to the source code of Spring, it can only handle directories:</p>\n<pre><code>    // is not working with Spring Boot\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(&quot;/target_dir/target_file.yaml&quot;)\n                .addResourceLocations(&quot;classpath:/source_dir/source_file.yaml&quot;);\n    }\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}