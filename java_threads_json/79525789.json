{
  "question": {
    "tags": [
      "java",
      "jakarta-ee",
      "ejb",
      "apache-tomee",
      "quartz"
    ],
    "owner": {
      "account_id": 8371967,
      "reputation": 159,
      "user_id": 6286793,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/756b8169fdd66036d7f0eb756df3f9b6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Calcimicium",
      "link": "https://stackoverflow.com/users/6286793/calcimicium"
    },
    "is_answered": false,
    "view_count": 43,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1742569699,
    "creation_date": 1742568325,
    "last_edit_date": 1742569699,
    "question_id": 79525789,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79525789/tomee-9-timerservice-database-storage",
    "title": "Tomee 9 TimerService database storage",
    "body": "<p>My Jakarta web application uses <code>TimerService</code> to schedule tasks in future.</p>\n<p>Everything is working fine (timer are created and timeout methods executed in time) except that timer that should be persistent are not.</p>\n<p>The reason is Tomee 9 uses Quartz with a <code>RAMJobStore</code> by default.</p>\n<p>I tried to configure it via the system.properties / application.properties but it does not find the datasource (no problem for Hibernate) :</p>\n<pre><code>org.apache.openejb.quartz.jobStore.class = org.apache.openejb.quartz.impl.jdbcjobstore.JobStoreCMT\norg.apache.openejb.quartz.jobStore.dataSource = myDataSource\norg.apache.openejb.quartz.dataSource.myDataSource.jndiURL = java:comp/env/MyDataSource\n</code></pre>\n<p>but it throws :</p>\n<pre><code>21-Mar-2025 15:55:37.286 GRAVE [main] org.apache.openejb.quartz.utils.JNDIConnectionProvider.init Error looking up datasource: Le Nom [comp/env/MyDataSource] n'est pas lié à ce Contexte\n    javax.naming.NameNotFoundException: Le Nom [comp/env/MyDataSource] n'est pas lié à ce Contexte\n</code></pre>\n<p>Is it possible to configure Quartz using resources.xml to make it use a <code>JobStoreCMT</code> instead of a <code>RAMJobStore</code> ?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}