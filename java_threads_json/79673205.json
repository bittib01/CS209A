{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "spring-mvc",
      "compatibility"
    ],
    "owner": {
      "account_id": 15796951,
      "reputation": 21,
      "user_id": 11398506,
      "user_type": "registered",
      "profile_image": "https://lh4.googleusercontent.com/-yrupkhMAd5w/AAAAAAAAAAI/AAAAAAAABxs/9BvRZ3ZLHbE/s256-rj/photo.jpg",
      "display_name": "Med Cezir",
      "link": "https://stackoverflow.com/users/11398506/med-cezir"
    },
    "is_answered": false,
    "view_count": 130,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1764664727,
    "creation_date": 1750414169,
    "last_edit_date": 1764664727,
    "question_id": 79673205,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79673205/spring-boot-3-upgrade-causes-nosuchmethoderror-for-clienthttpresponse-getstatusc",
    "title": "Spring Boot 3 upgrade causes NoSuchMethodError for ClientHttpResponse.getStatusCode() — how to support legacy Spring Boot 2 libraries?",
    "body": "<p>I'm upgrading my main application from <strong>Spring Boot 2.x to 3.x</strong>.</p>\n<p>The upgrade is mostly successful, except for a <strong>runtime compatibility issue</strong> caused by 3rd-party or legacy internal libraries that still depend on Spring Boot 2.x and the <code>RestTemplate</code> API.</p>\n<hr />\n<p>Context:</p>\n<ul>\n<li><p>My main application now uses:</p>\n<ul>\n<li>Spring Boot: <code>3.x</code></li>\n<li>Spring Framework: <code>6.x</code></li>\n<li>JDK: <code>17</code></li>\n</ul>\n</li>\n<li><p>However, I have <strong>hundreds of shared SDKs/libraries</strong> (some internal, some 3rd-party) that:</p>\n<ul>\n<li>Are compiled against <strong>Spring Boot 2.x</strong></li>\n<li>Use <code>org.springframework.web.client.RestTemplate</code></li>\n<li>Internally call:\n<pre class=\"lang-java prettyprint-override\"><code>org.springframework.http.client.ClientHttpResponse#getStatusCode()\n</code></pre>\nexpecting it to return <code>org.springframework.http.HttpStatus</code>.</li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>After upgrading, I’m getting the following error during runtime:\n<code>java.lang.NoSuchMethodError: ‘org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()</code></p>\n<p>This happens inside a <code>ClientHttpRequestInterceptor</code> in one of the legacy SDKs that I cannot modify.</p>\n<p>Here’s a snippet from the stack trace:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: ‘org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()’\nat com.legacy.sdk.interceptor.LegacyInterceptor.intercept(LegacyInterceptor.java:46)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:900)\n</code></pre>\n<p>This makes sense because Spring Framework 6.x changed the method signature:</p>\n<p>Old (Spring Boot 2.x / Framework 5.x):\nHttpStatus ClientHttpResponse.getStatusCode();</p>\n<p>New (Spring Boot 3.x / Framework 6.x):\nHttpStatusCode ClientHttpResponse.getStatusCode();</p>\n<p>The old method was removed (not deprecated), so libraries expecting the old signature will crash.</p>\n<p>Additional Details</p>\n<ul>\n<li>I cannot update these legacy libraries immediately — some are external, some very deeply integrated.</li>\n<li>I’ve already migrated my own code to use <code>RestClient</code> instead of <code>RestTemplate</code>.</li>\n<li>However, legacy dependencies still use <code>RestTemplate</code>, and I can’t change them.</li>\n</ul>\n<p>Is there any official or community-recommended strategy to run Spring Boot 2.x compiled SDKs (that rely on deprecated/removed methods like ClientHttpResponse#getStatusCode()) inside a Spring Boot 3 application?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}