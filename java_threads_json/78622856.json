{
  "question": {
    "tags": [
      "java",
      "java-8",
      "singleton",
      "classloader",
      "serviceloader"
    ],
    "owner": {
      "account_id": 21955556,
      "reputation": 187,
      "user_id": 16234174,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/acca7a10bf495dfdc389c448d2a96983?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "booyaakaashaa",
      "link": "https://stackoverflow.com/users/16234174/booyaakaashaa"
    },
    "is_answered": true,
    "view_count": 518,
    "accepted_answer_id": 78623410,
    "answer_count": 1,
    "score": 3,
    "last_activity_date": 1765341311,
    "creation_date": 1718366804,
    "last_edit_date": 1718385803,
    "question_id": 78622856,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78622856/loading-singleton-instance-of-a-class-using-java-serviceloader",
    "title": "Loading Singleton Instance of a Class using Java ServiceLoader",
    "body": "<ol>\n<li><p>I have an Interface in my project.</p>\n</li>\n<li><p>End users can implement this interface and can create their concrete implementations.</p>\n</li>\n<li><p>All the users have been advised to follow singleton design pattern while creating the implementations.</p>\n</li>\n<li><p>Users would store the implementations in a properties file.</p>\n</li>\n<li><p>I use Java Reflection to load the classes as shown below.</p>\n</li>\n<li><p>The above method has been very bad for the performance and hence I have decided to move the loading part to Java ServiceLoader instead for various reason.</p>\n</li>\n<li><p>But, ServiceLoader requires a public no-args constructor to load the classes which is quite a hurdle.</p>\n</li>\n<li><p>Is there a way to achieve the class loading using Java ServiceLoader with private constructor in place, or can I make the singleton implementations safe with a public no-args constructor.</p>\n</li>\n</ol>\n<p>I have read the documentation, and googled the probable solutions but found nothing substantial.</p>\n<p>How classes are loaded now:</p>\n<pre><code>Class klass = Class.forName(klassName);\nMethod method = klass.getDeclaredMethod(&quot;getInstance&quot;);\nObject object = method.invoke(null);\n</code></pre>\n<p>I just want to get rid of this, properties file and move on to Java ServiceLoader like I have moved for other classes which were not singletons.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}