{
  "question": {
    "tags": [
      "java",
      "maven",
      "maven-surefire-plugin"
    ],
    "owner": {
      "account_id": 3759478,
      "reputation": 121,
      "user_id": 3124944,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/BIOSz.jpg?s=256",
      "display_name": "mnlaptev",
      "link": "https://stackoverflow.com/users/3124944/mnlaptev"
    },
    "is_answered": true,
    "view_count": 2309,
    "answer_count": 5,
    "score": 0,
    "last_activity_date": 1731240411,
    "creation_date": 1720534355,
    "last_edit_date": 1720535618,
    "question_id": 78726126,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78726126/noclassdeffounderror-exception-after-updating-to-the-latest-maven-surefire-plugi",
    "title": "NoClassDefFoundError exception after updating to the latest maven-surefire-plugin and latest junit5",
    "body": "<p>I've got the following issue while I've been trying to use latest version of the JUnit5 (5.10.3) and latest version of the maven-surefire-plugin (3.3.0).</p>\n<pre><code>Caused by: org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\norg/apache/maven/surefire/report/RunModeSetter\njava.lang.NoClassDefFoundError: org/apache/maven/surefire/report/RunModeSetter\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:473)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:113)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\nCaused by: java.lang.ClassNotFoundException: org.apache.maven.surefire.report.RunModeSetter\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n        ... 17 more\n</code></pre>\n<p>I've followed most of the official instructions (both junit and maven surefire) but nothing seems helping in my case.</p>\n<p>The only difference is that the issue disappear if I go back to maven-surefire-plugin with version 3.0.0-M3</p>\n<p>Are there any ways to found is it something known and already in-fix or what would be done differently on my end?\nIt is a bit confusing that according to the maven surefire documentation everything should work.</p>\n<p>p.s. I'm using JUnit5 as a bom and tried different combination of corresponding dependencies, like both <code>engine</code> and <code>api</code> or just <code>api</code>\np.p.s. As for the maven version:</p>\n<pre><code>$ mvn -version\nApache Maven 3.9.0 (9b58d2bad23a66be161c4664ef21ce219c2c8584)\nMaven home: C:\\Users\\mlaptev\\Downloads\\apache-maven-3.9.0\nJava version: 1.8.0_412, vendor: Temurin, runtime: C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.412.8-hotspot\\jre\nDefault locale: en_GB, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}