{
  "question": {
    "tags": [
      "java",
      "multithreading",
      "microsoft-graph-api",
      "microsoft-graph-sdks"
    ],
    "owner": {
      "account_id": 3173852,
      "reputation": 3238,
      "user_id": 2682200,
      "user_type": "registered",
      "accept_rate": 83,
      "profile_image": "https://www.gravatar.com/avatar/ed294cb51de2b74f2469fc964bdd64ff?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Siddhartha Ghosh",
      "link": "https://stackoverflow.com/users/2682200/siddhartha-ghosh"
    },
    "is_answered": false,
    "view_count": 198,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1752596651,
    "creation_date": 1731589710,
    "last_edit_date": 1732524980,
    "question_id": 79188884,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79188884/is-microsoft-graph-sdk-for-java-thread-safe",
    "title": "Is Microsoft Graph sdk for java thread-safe?",
    "body": "<p>I am using msgraph sdk to get 'User' details in an application. Initialized the GraphServiceClient for app-only authentication as specified in the tutorial: <a href=\"https://learn.microsoft.com/en-us/graph/tutorials/java-app-only?tabs=aad&amp;tutorial-step=3\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/tutorials/java-app-only?tabs=aad&amp;tutorial-step=3</a>.</p>\n<pre><code>private static Properties _properties;\nprivate static ClientSecretCredential _clientSecretCredential;\nprivate static GraphServiceClient _appClient;\n\npublic static void initializeGraphForAppOnlyAuth(Properties properties) throws Exception {\n    // Ensure properties isn't null\n    if (properties == null) {\n        throw new Exception(&quot;Properties cannot be null&quot;);\n    }\n\n    _properties = properties;\n\n    if (_clientSecretCredential == null) {\n        final String clientId = _properties.getProperty(&quot;app.clientId&quot;);\n        final String tenantId = _properties.getProperty(&quot;app.tenantId&quot;);\n        final String clientSecret = _properties.getProperty(&quot;app.clientSecret&quot;);\n\n        _clientSecretCredential = new ClientSecretCredentialBuilder()\n            .clientId(clientId)\n            .tenantId(tenantId)\n            .clientSecret(clientSecret)\n            .build();\n    }\n\n    if (_appClient == null) {\n        _appClient = new GraphServiceClient(_clientSecretCredential,\n                new String[] { &quot;https://graph.microsoft.com/.default&quot; });\n    }\n}\n</code></pre>\n<p>I want to query the 'users' using certain filter and select criteria, e.g.</p>\n<pre><code>_appClient.users().get(requestConfig -&gt; {\n        requestConfig.queryParameters.filter = &quot;displayName startsWith \\'A\\'&quot;;\n        requestConfig.queryParameters.select = new String[] { &quot;displayName&quot;, &quot;id&quot;, &quot;mail&quot; };\n        requestConfig.queryParameters.top = 25;\n        requestConfig.queryParameters.orderby = new String[] { &quot;displayName&quot; };\n    });\n</code></pre>\n<p>However, in my application, this particular request may happen from the context of different threads.\nMy queries are:</p>\n<ul>\n<li>Does each thread need to instantiate GraphServiceClient separately, or, can we initialize once and share across threads?</li>\n<li>If the instance (_appClient) can be shared, is it thread-safe to do so or do we need to synchronize access to it?</li>\n</ul>\n<p>The following artifact versions are used: microsoft-graph (v 6.20.0) and azure-identity (1.14.1).</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}