{
  "question": {
    "tags": [
      "java",
      "android",
      "bluetooth",
      "hc-05"
    ],
    "owner": {
      "account_id": 44408219,
      "reputation": 1,
      "user_id": 31737120,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/65YstSoB.png?s=256",
      "display_name": "Claudiu",
      "link": "https://stackoverflow.com/users/31737120/claudiu"
    },
    "is_answered": false,
    "view_count": 106,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1765373025,
    "creation_date": 1764919909,
    "last_edit_date": 1765126188,
    "question_id": 79838627,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79838627/i-cannot-connect-to-my-hc-05-bluetooth-module-using-my-own-java-app",
    "title": "I cannot connect to my HC-05 bluetooth module using my own Java app",
    "body": "<p>I built a Java app where I implemented bluetooth functionality. Using the documentation I managed to discover devices and pair with them. I managed to get the whole device info (address, name), but it fails when I want to establish communication with the module.</p>\n<p><strong>In the ConnectThread constructor:</strong></p>\n<pre><code>if (ContextCompat.checkSelfPermission(context, Manifest.permission.BLUETOOTH_CONNECT) == PackageManager.PERMISSION_GRANTED) {\n            try {\n                tmp = device.createRfcommSocketToServiceRecord(UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;));\n            } catch (IOException e) {\n                Log.e(TAG, &quot;Socket's create() method failed&quot;, e);\n            }\n        } else {\n            Log.e(TAG, &quot;Missing BLUETOOTH_CONNECT permission&quot;);\n        }\n        targetSocket = tmp;\n</code></pre>\n<p><strong>In the ConnectThread method run():</strong></p>\n<pre><code>bluetoothAdapter.cancelDiscovery();\n\ntry {\n    targetSocket.connect();\n    Log.i(TAG, &quot;Connection successful!&quot;);\n} catch (IOException e) {\n    Log.d(TAG, Log.getStackTraceString(e));\n    Log.e(TAG, &quot;Could not connect; closing socket&quot;, e);\n    try {\n        targetSocket.close();\n    } catch (IOException e2) {\n        Log.e(TAG, &quot;Could not close the client socket&quot;, e2);\n    }\n}\n</code></pre>\n<p><strong>In the MainActivity, when I choose a device from the paired devices list:</strong></p>\n<pre><code>ConnectThread connectThread = new ConnectThread(device, mBluetoothManager, MainActivity.this);\nconnectThread.start();\n</code></pre>\n<p>**<br />\nWhat I have in my LOGCAT**</p>\n<pre><code>ConnectThread           com.example.carcontroller            D  java.io.IOException: read failed, socket might closed or timeout, read ret: -1\n                                                                                                        at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:1170)\n                                                                                                        at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:1188)\n                                                                                                        at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:566)\n                                                                                                        at com.example.carcontroller.ConnectThread.run(ConnectThread.java:50)\nConnectThread           com.example.carcontroller            E  Could not connect; closing socket\n                                                                                                    java.io.IOException: read failed, socket might closed or timeout, read ret: -1\n                                                                                                        at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:1170)\n                                                                                                        at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:1188)\n                                                                                                        at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:566)\n                                                                                                        at com.example.carcontroller.ConnectThread.run(ConnectThread.java:50)\n\n</code></pre>\n<p>Using the <strong><a href=\"https://play.google.com/store/apps/details?id=de.kai_morich.serial_bluetooth_terminal\" rel=\"nofollow noreferrer\">Serial Bluetooth Terminal</a></strong> from google play I managed to connect to my module and send data so I figure that the problem is on my end but I can't find any information about why this happens.If anyone can help me, that would be great!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}