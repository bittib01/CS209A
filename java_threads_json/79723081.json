{
  "question": {
    "tags": [
      "java",
      "telegram",
      "telegram-api"
    ],
    "owner": {
      "account_id": 2492679,
      "reputation": 23196,
      "user_id": 2169845,
      "user_type": "registered",
      "accept_rate": 91,
      "profile_image": "https://i.sstatic.net/XoDg6.gif?s=256",
      "display_name": "zappee",
      "link": "https://stackoverflow.com/users/2169845/zappee"
    },
    "is_answered": true,
    "view_count": 155,
    "accepted_answer_id": 79726228,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1754402200,
    "creation_date": 1754102599,
    "last_edit_date": 1754237224,
    "question_id": 79723081,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79723081/create-update-main-menu-based-on-users-preferred-language",
    "title": "create/update main menu based on user&#39;s preferred language",
    "body": "<p>I would like to customize the main menu texts based on the customer language preference, but I have not seen any document about  how to create / update the main menu using java.</p>\n<p>I can create Inline-Menu using the <code>InlineKeyboardButton</code> and <code>InlineKeyboardMarkup</code> classes.</p>\n<p>I can create Keyboard-Buttons using the <code>KeyboardRow</code>, <code>KeyboardButton</code> and <code>ReplyKeyboardMarkup</code> classes.</p>\n<p>But I can not see any documentation or example hot to create and configure the main Telegram menu button using Java.</p>\n<p><strong>This is how I create the inline-menu:</strong></p>\n<pre><code>private void buildInlineMenu(SendMessage.SendMessageBuilder builder, ChatResponse chatResponse) {\n    if (!chatResponse.getInlineMenus().isEmpty()) {\n        List&lt;InlineKeyboardButton&gt; inlineButtons = new ArrayList&lt;&gt;();\n        chatResponse.getInlineMenus().forEach(menu -&gt; {\n            var next = InlineKeyboardButton.builder()\n                    .text(menu.getCaption())\n                    .callbackData(menu.getCommand())\n                    .build();\n            inlineButtons.add(next);\n        });\n\n        InlineKeyboardMarkup markup = InlineKeyboardMarkup\n                .builder()\n                .keyboardRow(inlineButtons)\n                .build();\n\n        builder.replyMarkup(markup);\n    }\n}\n</code></pre>\n<p><a href=\"https://ibb.co/hbWWR4f\" rel=\"nofollow noreferrer\">link to image</a></p>\n<p><strong>My code that creates the keyboard:</strong></p>\n<pre><code>private void buildKeyboard(SendMessage.SendMessageBuilder builder, ChatResponse chatResponse) {\n    if (!chatResponse.getKeyboards().isEmpty()) {\n        List&lt;KeyboardRow&gt; keyboard = new ArrayList&lt;&gt;();\n        chatResponse.getKeyboards().forEach(b -&gt; {\n            String[] buttons = b.getCaption().split(&quot;;&quot;);\n            KeyboardRow keyboardRow = new KeyboardRow();\n            Arrays.stream(buttons).forEach(button -&gt; {\n                keyboardRow.add(new KeyboardButton(button));\n            });\n            keyboard.add(keyboardRow);\n        });\n\n        ReplyKeyboardMarkup markup = new ReplyKeyboardMarkup();\n        markup.setSelective(true);\n        markup.setResizeKeyboard(true);\n        markup.setOneTimeKeyboard(false);\n        markup.setKeyboard(keyboard);\n\n        builder.replyMarkup(markup);\n    }\n}\n</code></pre>\n<p><a href=\"https://ibb.co/wh8H8Vy9\" rel=\"nofollow noreferrer\">link to image</a></p>\n<p><strong>How I call them:</strong></p>\n<p>(1)</p>\n<pre><code>ChatResponse.builder()\n    .textMessage(&quot;Select a fruit! (inline menu)&quot;)\n    .inlineMenus(List.of(\n            ChatMenu.builder().caption(&quot;apple&quot;).command(&quot;apple&quot;).build(),\n            ChatMenu.builder().caption(&quot;kiwi&quot;).command(&quot;kiwi&quot;).build(),\n            ChatMenu.builder().caption(&quot;orange&quot;).command(&quot;orange&quot;).build()))\n    .build();\n</code></pre>\n<p>(2)</p>\n<pre><code>ChatResponse.builder()\n    .textMessage(&quot;What is your favourite color? (keyboard)&quot;)\n    .keyboards(List.of(\n            ChatMenu.builder().caption(&quot;Red;Blue&quot;).build(),\n            ChatMenu.builder().caption(&quot;Green;Purple;White&quot;).build()))\n    .build();\n</code></pre>\n<p><strong>Calling:</strong></p>\n<pre><code>SendMessage.SendMessageBuilder sendMessageBuilder = SendMessage\n        .builder()\n        .chatId(telegramId)\n        .parseMode(&quot;HTML&quot;)\n        .text(chatResponse.getTextMessage());\n\nbuildInlineMenu(sendMessageBuilder, chatResponse);\nbuildKeyboard(sendMessageBuilder, chatResponse);\n\nexecute(sendMessageBuilder.build());\n</code></pre>\n<p>The code above works like a charm but I want to create and configure  the main menu as well from Java. I know that I can add the main menu using the <code>BotFather</code> menu from the Telegram chat, but I would like to use Java for this functionality as well.</p>\n<p>Is that possible somehow?\nOr I am wrong and there is no way to configure the main menu using Java?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}