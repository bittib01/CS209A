{
  "question": {
    "tags": [
      "java",
      "android",
      "android-recyclerview",
      "android-edittext"
    ],
    "owner": {
      "account_id": 4547798,
      "reputation": 141,
      "user_id": 29038942,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/WzapC.jpg?s=256",
      "display_name": "Jawegiel",
      "link": "https://stackoverflow.com/users/29038942/jawegiel"
    },
    "is_answered": false,
    "view_count": 46,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1740156426,
    "creation_date": 1740145487,
    "last_edit_date": 1740156426,
    "question_id": 79457570,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79457570/android-recyclerview-requestfocus-when-scrolling-up-and-down-for-edittext-items",
    "title": "Android recyclerview requestFocus when scrolling up and down for edittext items only",
    "body": "<p>I have recyclerview consisting of edittexts only. Those edittexts have various length. I want to stop scrolling my recyclerview on onViewAttachedToWindow when <code>holder.getAdapterPosition() == vhIndex</code>.</p>\n<p>The problem is when edittext selection is either:</p>\n<ol>\n<li>0 and scrolling is towards down,</li>\n<li>last character and scrolling is towards up</li>\n</ol>\n<p>then recyclerview is not stopping to focus on this edittext or stopping ungracefully (both of them seem to act randomly).</p>\n<p>Here is my code:</p>\n<pre><code>@Override\npublic void onBindViewHolder(ViewHolder holder, int position) {\n    MyEditText myEt = (MyEditText) holder.itemView;\n    (...)\n    myEt.setOnFocusChangeListener(this::doOnFocus);\n    (...)\n}\n\nprivate void doOnFocus(View view, boolean hasFocus) {\n    if (hasFocus) {\n        vHIndex = bigText.getChildAdapterPosition(view);\n        selections.put(vHIndex, ((MyEditText) view).getSelectionStart());\n    }\n}\n\n@Override\npublic void onViewAttachedToWindow(@NonNull ViewHolder holder) {\n    super.onViewAttachedToWindow(holder);\n    setSelection(holder);\n}\n\nprivate void setSelection(ViewHolder holder) {\n    if (holder.getAdapterPosition() == vHIndex &amp;&amp; selections.get(vHIndex) != null) {\n        if (selections.get(vHIndex) &gt; 0) {\n            setSelection(holder, selections.get(vHIndex));\n        }\n    }\n}\n\n@Override\nprotected void onSelectionChanged(int selStart, int selEnd) {\n    super.onSelectionChanged(selStart, selEnd);\n    if (!isJustPasted &amp;&amp; (!isScrolling || selStart &gt; 0)) {\n        selections.put(vHIndex, selStart);\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}