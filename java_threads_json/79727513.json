{
  "question": {
    "tags": [
      "java",
      "android",
      "xml",
      "edge-to-edge"
    ],
    "owner": {
      "account_id": 27431,
      "reputation": 42880,
      "user_id": 72437,
      "user_type": "registered",
      "accept_rate": 86,
      "profile_image": "https://i.sstatic.net/ay0Dg.jpg?s=256",
      "display_name": "Cheok Yan Cheng",
      "link": "https://stackoverflow.com/users/72437/cheok-yan-cheng"
    },
    "is_answered": true,
    "view_count": 372,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1755253866,
    "creation_date": 1754494423,
    "last_edit_date": 1754495058,
    "question_id": 79727513,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79727513/api-35-handle-edge-to-edge-in-preferencefragmentcompat-during-landscape-mode",
    "title": "API 35 - Handle edge-to-edge in PreferenceFragmentCompat during landscape mode",
    "body": "<p>I am working on edge-to-edge, API 35, for a Material 2, Java Android project.</p>\n<p>I use the following guideline when performing edge-to-edge setup</p>\n<ol>\n<li><code>AppBarLayout</code> = <code>android:fitsSystemWindows=&quot;true&quot;</code></li>\n<li><code>DrawerLayout</code> = Not set</li>\n<li><code>NavigationView</code> = Not set</li>\n</ol>\n<p>During activity <code>onCreate</code>, I am calling this function.</p>\n<pre><code>private void edgeToEdgeIfPossible(boolean windowLightStatusBar) {\n    if (windowLightStatusBar) {\n        EdgeToEdge.enable(\n                this,\n                SystemBarStyle.light(\n                        ContextCompat.getColor(this, android.R.color.transparent),\n                        ContextCompat.getColor(this, android.R.color.transparent)\n                )\n        );\n    } else {\n        EdgeToEdge.enable(\n                this,\n                SystemBarStyle.dark(\n                        ContextCompat.getColor(this, android.R.color.transparent)\n                )\n        );\n    }\n}\n</code></pre>\n<p>To handle landscape mode in <code>PreferenceFragmentCompat</code>, we have the following code</p>\n<pre><code>private void edgeToEdgeIfPossible() {\n    final RecyclerView recyclerView = getListView();\n\n    if (recyclerView != null) {\n        // 1. Allow content to be drawn behind the navigation bar\n        recyclerView.setClipToPadding(false);\n\n        // Store the original padding of the RecyclerView. This is crucial\n        // to preserve any theme-defined padding.\n        final Rect initialPadding = new Rect(\n                recyclerView.getPaddingLeft(),\n                recyclerView.getPaddingTop(),\n                recyclerView.getPaddingRight(),\n                recyclerView.getPaddingBottom()\n        );\n\n        // 2. Apply a listener to handle window insets for all orientations\n        ViewCompat.setOnApplyWindowInsetsListener(recyclerView, (v, insets) -&gt; {\n            // Get the insets for the system bars (status bar, navigation bar)\n            Insets theInsets = insets.getInsets(\n                    WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.displayCutout()\n            );\n\n            v.setPadding(\n                    initialPadding.left + theInsets.left,\n                    initialPadding.top + 0,\n                    initialPadding.right + theInsets.right,\n                    initialPadding.bottom + theInsets.bottom\n            );\n\n            // Return the insets to allow the system to continue processing them\n            return insets;\n        });\n    }\n}\n</code></pre>\n<p><a href=\"https://i.sstatic.net/eYKPwzvI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/eYKPwzvI.png\" alt=\"enter image description here\" /></a></p>\n<p>I was wondering, should we provide left margin for the toolbar? If yes, how we should do it?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}