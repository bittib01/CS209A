{
  "question": {
    "tags": [
      "java",
      "docker",
      "elasticsearch",
      "logstash",
      "elk"
    ],
    "owner": {
      "account_id": 23129199,
      "reputation": 11,
      "user_id": 17234535,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/Z4sQnN8m.jpg?s=256",
      "display_name": "therdean",
      "link": "https://stackoverflow.com/users/17234535/therdean"
    },
    "is_answered": true,
    "view_count": 456,
    "accepted_answer_id": 78441629,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1719061879,
    "creation_date": 1714469835,
    "last_edit_date": 1715075750,
    "question_id": 78407600,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78407600/logstash-main-class-jvmoptionsparser-not-found-cannot-load",
    "title": "Logstash main class JvmOptionsParser not found / cannot load",
    "body": "<p>I've been stuck on this problem for quite some time now, any help would be gladly appreciated.</p>\n<p>So I have a docker compose containing Elastic Stack services, plus a Cassandra database.</p>\n<p>I am trying to index data from the Cassandra database to ElasticSearch via Logstash, using a CassandraJDBC42.jar driver, which I am mounting via a docker volume.</p>\n<p>Whenever I run the services <code>docker compose up</code> (Version-2 Docker Compose), everything runs smoothly except the Logstash service, it does not go up - and this is the error in the logs.</p>\n<pre><code>Using bundled JDK: /usr/share/logstash/jdk\nError: Could not find or load main class org.logstash.launchers.JvmOptionsParser \nCaused by: java.lang.ClassNotFoundException: org.logstash.launchers.JvmOptionsParser\n</code></pre>\n<p>And this is the Docker Compose Logstash service.</p>\n<pre><code> logstash:\n    image: logstash:7.17.18\n    container_name: logstash\n    # restart: always\n    volumes:\n      - logstash_data:/usr/share/logstash/data\n      - ./cassandra-driver/:/usr/share/logstash/logstash-core/lib/jars # MOUNTING OF THE DRIVER\n      - ./logstash/logstash.conf:/logstash_dir/logstash.conf\n    command: logstash -f /logstash_dir/logstash.conf\n    depends_on:\n      - elasticsearch\n    ports:\n      - &quot;9600:9600&quot;\n    environment:\n      LS_JAVA_OPTS: &quot;-Xmx256m -Xms256m&quot;\n    networks:\n      - elastic\n</code></pre>\n<p>If I remove the mounting of the driver, everything runs smoothly.</p>\n<p>Tried different versions of the images, the problem persists.</p>\n<p>Tried a different driver, the same.</p>\n<p>Tried running the container without the driver, getting inside, installing openjdk-11, mounting the driver again, still the same.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}