{
  "question": {
    "tags": [
      "java",
      "jvm-hotspot"
    ],
    "owner": {
      "account_id": 30143396,
      "reputation": 1,
      "user_id": 23100363,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocLm98gvXfznSnkPapd8-5uMS06Xtj30PRVn0rkwv8Cp=k-s256",
      "display_name": "curious_lak",
      "link": "https://stackoverflow.com/users/23100363/curious-lak"
    },
    "is_answered": false,
    "view_count": 103,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1718447982,
    "creation_date": 1716284095,
    "last_edit_date": 1718447982,
    "question_id": 78510896,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78510896/classlist-file-in-class-data-sharing-in-java-21",
    "title": "Classlist file in class data sharing in java 21",
    "body": "<p>I want to create CDS archive for my application running in Kubernetes using the classlist creation approach. But I want to save a pod restart that is required for creating classlist. Is there some method to create the classlist at build time possibly by iterating over all java files in my app?</p>\n<p>I created classlist by changing java opts. Then create archive again by changing java opts and finally deployed it with different java opts. The archive was getting used successfully and approx 60 seconds were saved. But now I want to do this classlist creation step without changing java opts   i.e. manually create classlist by parsing. Do anybody know of any method to do this?</p>\n<p>I tried iterating over all jar files present in my project. By manually reading all files, I created a classlist. But when creating an archive using this classlist, I am getting the following error:</p>\n<p><code>[error][cds,heap] Cannot archive the sub-graph referenced from [Ljava.util.concurrent.ConcurrentHashMap$Node; object (0x00000000ad07fd00) size 1048592, skipped.</code></p>\n<p><code>[error][cds] An error has occurred while writing the shared archive file.</code></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}