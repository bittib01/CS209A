{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "unit-testing",
      "gradle"
    ],
    "owner": {
      "account_id": 4277335,
      "reputation": 674,
      "user_id": 3497657,
      "user_type": "registered",
      "accept_rate": 30,
      "profile_image": "https://i.sstatic.net/b68VA.png?s=256",
      "display_name": "Subhomoy Sikdar",
      "link": "https://stackoverflow.com/users/3497657/subhomoy-sikdar"
    },
    "is_answered": false,
    "view_count": 83,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1752513414,
    "creation_date": 1752512567,
    "question_id": 79701175,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79701175/springboottest-with-usejunitplatform-not-initialising-testdispatcherservlet",
    "title": "SpringBootTest with useJUnitPlatform not initialising TestDispatcherServlet",
    "body": "<p>I am running junit test case with SpringBootTest with @AutoConfigureMockMvc. When I run a test case using IntelliJ IDEA the test is passing but failing from the command line.</p>\n<p>The build.gradle is</p>\n<pre><code>tasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>If I run this task directly from IntelliJ IDEA the test passes. The difference in the output I found was</p>\n<p>Running from command line</p>\n<pre><code>[Test worker] INFO  org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [MyTest]: MyTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n[Test worker] INFO  org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration MySpringApp for test class MyTest\n</code></pre>\n<p>From IDEA</p>\n<pre><code>org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [MyTest]: MyTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n[Test worker] INFO  org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration MySpringApp for test class MyTest\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n\n :: Spring Boot ::                (v3.3.6)\n\n[Test worker] INFO  MyTest - Starting MyTest using Java 17.0.13 with PID 92499 (started by --)\n[Test worker] INFO  MyTest - No active profile set, falling back to 1 default profile: &quot;default&quot;\n[Test worker] INFO  org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver - Exposing 0 endpoints beneath base path '/actuator'\n[Test worker] INFO  org.springframework.boot.test.mock.web.SpringBootMockServletContext - Initializing Spring TestDispatcherServlet ''\n[Test worker] INFO  org.springframework.test.web.servlet.TestDispatcherServlet - Initializing Servlet ''\n[Test worker] INFO  org.springframework.test.web.servlet.TestDispatcherServlet - Completed initialization in 1 ms\n</code></pre>\n<p>So, the difference I see is in the <code>TestDispatcherServlet</code> initialization. I am trying to figure out why this difference is happening.</p>\n<p>The <code>buildMode</code> in gradle is set to <code>local</code>.</p>\n<p>Appreciate any pointers</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}