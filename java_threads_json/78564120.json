{
  "question": {
    "tags": [
      "java",
      "build.gradle",
      "minecraft-forge"
    ],
    "owner": {
      "account_id": 26886535,
      "reputation": 1,
      "user_id": 22370879,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ALm5wu1msEVeTRx_fQu5my2Es9wfDtkaEmz4m5NI8wSxvw=k-s256",
      "display_name": "vefixx",
      "link": "https://stackoverflow.com/users/22370879/vefixx"
    },
    "is_answered": false,
    "view_count": 365,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1731191203,
    "creation_date": 1717253422,
    "last_edit_date": 1717253631,
    "question_id": 78564120,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78564120/gradle-dependencies-are-not-installed-when-building-in-jar-minecraft-forge-1",
    "title": "Gradle dependencies are not installed when building in .jar | Minecraft Forge 1.16.5",
    "body": "<p>I download MDK from <a href=\"https://files.minecraftforge.net/net/minecraftforge/forge/index_1.16.5.html\" rel=\"nofollow noreferrer\">https://files.minecraftforge.net/net/minecraftforge/forge/index_1.16.5.html</a>\nAfter building my forge mod in .jar and starting the minecraft, it gives me an error that the dependency was not found.</p>\n<p><strong>In the minecraft log the following is written:</strong></p>\n<pre><code>java.lang.NoClassDefFoundError: org/json/simple/parser/JSONParser\nat com.example.examplemod.JsonUtil.getConfig(JsonUtil.java:14)\n</code></pre>\n<p>In the <strong>build.gradlew</strong> file i have next dependecies:</p>\n<pre><code>dependencies {\n    minecraft &quot;net.minecraftforge:forge:${minecraft_version}-${forge_version}&quot;\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n}\n</code></pre>\n<p>But if I run minecraft with use runClient (from Intellij IDE), dependencies are successful installed, and my mod is work.</p>\n<p>Full <strong>build.gradlew</strong> file content:</p>\n<pre><code>plugins {\n    id 'eclipse'\n    id 'idea'\n    id 'maven-publish'\n    id 'net.minecraftforge.gradle' version '[6.0,6.2)'\n    }\n\nversion = mod_version\ngroup = mod_group_id\n\nbase {\n    archivesName = mod_id\n    }\n\n// Mojang ships Java 17 to end users in 1.18+, so your mod should target Java 17.\njava.toolchain.languageVersion = JavaLanguageVersion.of(8)\n\nprintln &quot;Java: ${System.getProperty 'java.version'}, JVM: ${System.getProperty 'java.vm.version'} (${System.getProperty 'java.vendor'}), Arch: ${System.getProperty 'os.arch'}&quot;\nminecraft {\n\n    mappings channel: mapping_channel, version: mapping_version\n\n    copyIdeResources = true\n\n    runs {\n        // applies to all the run configs below\n        configureEach {\n            workingDirectory project.file('run')\n\n\n            property 'forge.logging.markers', 'REGISTRIES'\n\n            property 'forge.logging.console.level', 'debug'\n\n            mods {\n                &quot;${mod_id}&quot; {\n                    source sourceSets.main\n                }\n            }\n        }\n\n        client {\n            // this block needs to be here for runClient to exist\n        }\n\n        server {\n            args '--nogui'\n        }\n\n        data {\n            // example of overriding the workingDirectory set in configureEach above\n            workingDirectory project.file('run-data')\n\n            // Specify the modid for data generation, where to output the resulting resource, and where to look for existing resources.\n            args '--mod', mod_id, '--all', '--output', file('src/generated/resources/'), '--existing', file('src/main/resources/')\n        }\n    }\n}\n\n// Include resources generated by data generators.\nsourceSets.main.resources { srcDir 'src/generated/resources' }\n\nrepositories {\n\n}\n\ndependencies {\n    minecraft &quot;net.minecraftforge:forge:${minecraft_version}-${forge_version}&quot;\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n}\n\ntasks.named('processResources', ProcessResources).configure {\n    var replaceProperties = [\n            minecraft_version: minecraft_version, minecraft_version_range: minecraft_version_range,\n            forge_version: forge_version, forge_version_range: forge_version_range,\n            loader_version_range: loader_version_range,\n            mod_id: mod_id, mod_name: mod_name, mod_license: mod_license, mod_version: mod_version,\n            mod_authors: mod_authors, mod_description: mod_description,\n    ]\n    inputs.properties replaceProperties\n\n    filesMatching(['META-INF/mods.toml', 'pack.mcmeta']) {\n        expand replaceProperties + [project: project]\n    }\n}\n\ntasks.named('jar', Jar).configure {\n    manifest {\n        attributes([\n                'Specification-Title'     : mod_id,\n                'Specification-Vendor'    : mod_authors,\n                'Specification-Version'   : '1', // We are version 1 of ourselves\n                'Implementation-Title'    : project.name,\n                'Implementation-Version'  : project.jar.archiveVersion,\n                'Implementation-Vendor'   : mod_authors,\n                'Implementation-Timestamp': new Date().format(&quot;yyyy-MM-dd'T'HH:mm:ssZ&quot;)\n        ])\n}\n\n    finalizedBy 'reobfJar'\n}\n\n//tasks.named('publish').configure {\n//    dependsOn 'reobfJar'\n//}\n\npublishing {\n    publications {\n        register('mavenJava', MavenPublication) {\n            artifact jar\n        }\n    }\n    repositories {\n        maven {\n            url &quot;file://${project.projectDir}/mcmodsrepo&quot;\n        }\n    }\n}\n\n\ntasks.withType(JavaCompile).configureEach {\n    options.encoding = 'UTF-8' // Use the UTF-8 charset for Java compilation\n}\n</code></pre>\n<p>I tried use shadow plugin for Gradlew, but i did not understand how to install it correctly.\nAlso, i tried change dependencies as follows: (Instead of implementation write minecraftLibrary)</p>\n<pre><code>dependencies {\n    minecraft &quot;net.minecraftforge:forge:${minecraft_version}-${forge_version}&quot;\n    minecraftLibrary 'com.googlecode.json-simple:json-simple:1.1.1'\n}\n</code></pre>\n<p>But it does not work.</p>\n<p>And i tried write\n<strong>implementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'</strong>\nBut that doesn't work.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}