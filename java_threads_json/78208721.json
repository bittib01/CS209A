{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "mockito",
      "spring-boot-test"
    ],
    "owner": {
      "account_id": 16841239,
      "reputation": 13,
      "user_id": 12176598,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0480ee913297f006dd4a212bf919a500?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Juan Pereyra",
      "link": "https://stackoverflow.com/users/12176598/juan-pereyra"
    },
    "is_answered": true,
    "view_count": 347,
    "accepted_answer_id": 78210092,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1722591108,
    "creation_date": 1711139826,
    "last_edit_date": 1722591108,
    "question_id": 78208721,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78208721/mockito-its-instantiating-with-null-the-builder-in-the-mocked-class",
    "title": "Mockito it&#39;s instantiating with null the builder in the mocked class",
    "body": "<p>After migrate from Java 11 to 17 and Springboot 2 to 3, a test start to fail with NPE.\nAfter some investigation I found this mock instance give me a NPE in the builder:</p>\n<p>Tracer interface is -&gt; import io.micrometer.tracing.Tracer;</p>\n<p>Tracer its an interface from micrometer package.</p>\n<p>@Mock\nprivate Tracer tracer;</p>\n<p>tracer.traceContextBuilder().traceId(XXX).build();</p>\n<p>In this case traceContextBuilder is null.</p>\n<p>I'm using mockito-core:5.7.0.\nAn this are my test dependencies:</p>\n<pre><code>testImplementation 'org.junit.platform:junit-platform-launcher:1.5.2'\ntestImplementation 'org.junit.platform:junit-platform-runner:1.5.2'\ntestImplementation 'org.springframework.boot:spring-boot-starter-test'\ntestImplementation group: 'junit', name: 'junit', version: '4.+'\n</code></pre>\n<p>Previously I can use this without a NPM. It's there any way to generate a mock with this traceContextBuilder not in null state?</p>\n<p>I'm preety new at Mockito. Is there any way to initialize a Mock with not null parameters (like a new object or something).\nOr maybe I need to instanciate the object and use an @Spy annotation?\nA more general question it's. Can I instantiate Mock with all the fields availables? Like a real object?</p>\n<p>Thanks in advance.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}