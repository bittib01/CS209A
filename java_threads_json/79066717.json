{
  "question": {
    "tags": [
      "java",
      "oracle-database",
      "jdbc",
      "spring-jdbc"
    ],
    "owner": {
      "account_id": 987434,
      "reputation": 12688,
      "user_id": 1005607,
      "user_type": "registered",
      "accept_rate": 64,
      "profile_image": "https://www.gravatar.com/avatar/784311347e657bc34c93a6b7cb7d3faf?s=256&d=identicon&r=PG",
      "display_name": "gene b.",
      "link": "https://stackoverflow.com/users/1005607/gene-b"
    },
    "is_answered": true,
    "view_count": 305,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1759841447,
    "creation_date": 1728401339,
    "last_edit_date": 1728405865,
    "question_id": 79066717,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79066717/insert-update-with-null-values-in-oracles-jdbc-causes-performance-issue",
    "title": "Insert/Update with NULL values in Oracle&#39;s JDBC causes performance issue",
    "body": "<p>We have a Spring application connecting to Oracle via SpringJDBC (jdbcTemplate),</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\n    &lt;version&gt;23.3.0.23.09&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In our DAO class we have an INSERT executed with <code>jdbcTemplate.update()</code>:</p>\n<pre><code>String sql = &quot;&quot;&quot;\n                INSERT INTO \n                    MY_TABLE (\n                        COL1,\n                        COL2,\n                        COL3)\n                    VALUES (?, ?, ?)\n            &quot;&quot;&quot;;\njdbcTemplate.update(sql, param1, param2, param3/* may be NULL*/);\n</code></pre>\n<p>The 3rd param may be a NULL value getting inserted. When it's not NULL, performance is fast, no issues. But when it happens to be NULL, it takes ~2 min on the first such insert, and it's still pretty slow (about 10-30 sec.) on all subsequent such Inserts.</p>\n<p><strong>This is not a DB problem:</strong> I verified in the DB (SqlDeveloper) that all INSERTs both with and without NULLs in this column are equally fast directly in the DB, so we can rule out the DB.</p>\n<p>Since Oracle treats empty strings as NULLs, we found a good solution: just pass in an empty string for a NULL:</p>\n<p><code>(param3 == null ? &quot;&quot; : param3)</code></p>\n<p>and this fixes the performance issue, and NULL gets inserted. But is this NULL issue a known problem with Oracle's JDBC driver? I don't know if this will always work, like if the NULL/empty equivalence can be turned off in the DB. Are there other workarounds?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}