{
  "question": {
    "tags": [
      "java",
      "pdfbox",
      "e-signature"
    ],
    "owner": {
      "account_id": 22714292,
      "reputation": 1,
      "user_id": 16879807,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/f673c0ce4bff9b2c035da8d6002ada93?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "manoj sridhar",
      "link": "https://stackoverflow.com/users/16879807/manoj-sridhar"
    },
    "is_answered": false,
    "view_count": 82,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1721829174,
    "creation_date": 1721334050,
    "last_edit_date": 1721828617,
    "question_id": 78766512,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78766512/is-there-a-way-to-add-image-using-saveincremental-without-invalidating-previou",
    "title": "Is there a way to add Image using &quot;saveIncremental&quot; without invalidating previous signature",
    "body": "<p>I'm currently trying to enable multiple users to sign PDF using Apache PDFBox.</p>\n<p>My goal is to add images to a PDF incrementally without invalidating previous signatures. So far, I have successfully used form fields(text fields with signature fields) with <a href=\"https://stackoverflow.com/questions/49894319/lock-dictionary-in-signature-field-is-the-reason-of-broken-signature-after-sig\">lock dictionaries</a> to continue saving using saveIncremental, which works fine. However, I want to use images instead of form fields.</p>\n<h1>I tried to insert images in following ways</h1>\n<h1></h1>\n<h1>Using Form Fields:</h1>\n<p>I used <strong>PDbutton form fields</strong> and updated their widgets to set images as appearances. This worked fine until the image size is same and fits within the button field itself. But the image width is greater than button field, In such cases, the image gets squashed into the original field size (in screenshot).\nReferenced from :  <a href=\"https://github.com/mkl-public/testarea-pdfbox2/issues/18\" rel=\"nofollow noreferrer\">https://github.com/mkl-public/testarea-pdfbox2/issues/18</a></p>\n<p><a href=\"https://i.sstatic.net/7iW3r6eK.png\" rel=\"nofollow noreferrer\">squashed image</a></p>\n<p><strong>Expectation:</strong> I was expecting to update the button field dimensions to fit the image without invalidating the previous signature. However, resizing the button field seems to invalidate the signature.</p>\n<h1>Using Annotations:</h1>\n<h1></h1>\n<p>I tried using annotations to save images (<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/annotate/AddAnnotationIncrementally.java\" rel=\"nofollow noreferrer\">reference</a>), which gives full control over the image dimensions. However, I'm not sure if these annotations are saved as part of the signature revision. Also, I'm concerned that these annotations can be edited or deleted after signing, which is not desirable.</p>\n<p><strong>Expectation:</strong> I want a way to ensure that annotations are locked and cannot be edited or deleted after signing, maintaining the integrity of the previous signatures.</p>\n<p>=====================================================================</p>\n<h2>Questions:</h2>\n<p>**Is there some other way to achieve this?\n**I'm currently using PDFBox 2.0.28, but I'm open to switching to a different library if it supports this use case.</p>\n<p>Or is the best solution to do this is to use form fields(text, checkbox, listfield ...) and use button fields when images that has fixed size?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}