{
  "question": {
    "tags": [
      "java",
      "unit-testing",
      "junit",
      "junit5",
      "parametrized-testing"
    ],
    "owner": {
      "account_id": 14429973,
      "reputation": 3626,
      "user_id": 10423604,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/W6A8i.jpg?s=256",
      "display_name": "Volodya Lombrozo",
      "link": "https://stackoverflow.com/users/10423604/volodya-lombrozo"
    },
    "is_answered": true,
    "view_count": 685,
    "answer_count": 1,
    "score": 4,
    "last_activity_date": 1742537018,
    "creation_date": 1724051652,
    "question_id": 78886706,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78886706/how-to-use-tempdir-with-junit-5-parameterizedtest-to-create-a-separate-tempora",
    "title": "How to use @TempDir with JUnit 5 @ParameterizedTest to create a separate temporary directory for each test?",
    "body": "<p>I am using JUnit 5's <code>@ParameterizedTest</code> annotation to run tests with different inputs, and I want to generate a separate temporary directory for each test. Here's how my code looks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyTestClass {\n\n    static Stream&lt;Arguments&gt; syntax() {\n        return Stream.of(\n            Arguments.of(&quot;grammars/Simple.g4&quot;, &quot;expr&quot;),\n            Arguments.of(&quot;grammars/Arithmetic.g4&quot;, &quot;prog&quot;)\n        );\n    }\n\n    @ParameterizedTest\n    @MethodSource(&quot;syntax&quot;)\n    void checksSyntax(\n        @TempDir final Path temp,  // Temporary directory created by JUnit\n        final String name,\n        final String rule\n    ) {     \n        // some testing logic   \n    }\n}\n\n</code></pre>\n<p>The method <code>syntax()</code> provides different inputs to the test, and I want to ensure that each test run has its own temporary directory.</p>\n<p>However, when I run the code, I get the following exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.junit.jupiter.api.extension.ParameterResolutionException: \nDiscovered multiple competing ParameterResolvers for parameter [java.nio.file.Path arg0] \nin method [void checksSyntax(java.nio.file.Path,java.lang.String,java.lang.String)]:\norg.junit.jupiter.engine.extension.TempDirectory@4ae3c1cd,\norg.junit.jupiter.params.ParameterizedTestParameterResolver@29f69090\n</code></pre>\n<p>I tried modifying the code by passing the temporary directory from the method source:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Stream&lt;Arguments&gt; syntax(@TempDir final Path temp) {\n    return Stream.of(\n        Arguments.of(temp, &quot;grammars/Simple.g4&quot;, &quot;expr&quot;),\n        Arguments.of(temp, &quot;grammars/Arithmetic.g4&quot;, &quot;prog&quot;)\n    );\n}\n</code></pre>\n<p>However, this results in using the same temporary directory for all test cases, which is not what I want. I need a separate temporary directory for each test case.</p>\n<p><strong>Question:</strong></p>\n<p>How can I ensure that a new temporary directory is created for each test case in a JUnit 5 <code>@ParameterizedTest</code>? What is the proper way to integrate <code>@TempDir</code> with parameterized tests without causing conflicts with JUnit's parameter resolvers?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}