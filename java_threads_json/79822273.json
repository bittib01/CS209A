{
  "question": {
    "tags": [
      "java",
      "concurrency",
      "race-condition",
      "java.util.concurrent"
    ],
    "owner": {
      "account_id": 21882864,
      "reputation": 93,
      "user_id": 16170862,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AATXAJwjXnDJbHnHX1Pc6dlGsUkm_XB3d6cwFRz5sY6i=k-s256",
      "display_name": "Xin Zhang",
      "link": "https://stackoverflow.com/users/16170862/xin-zhang"
    },
    "is_answered": true,
    "view_count": 85,
    "accepted_answer_id": 79822325,
    "answer_count": 1,
    "score": 3,
    "last_activity_date": 1763384841,
    "creation_date": 1763381070,
    "question_id": 79822273,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79822273/is-it-possible-in-java-for-a-task-scheduled-with-scheduleatfixedrate-to-start-ex",
    "title": "Is it possible in Java for a task scheduled with scheduleAtFixedRate to start executing before the returned ScheduledFuture has been assigned?",
    "body": "<p>In Java, when using <code>scheduleAtFixedRate</code>, is it possible for a task to execute before the <code>ScheduledFuture</code> returned by <code>scheduleAtFixedRate</code> has been assigned?</p>\n<p>For example, could the following code throw an NullPointerException?</p>\n<pre><code>public class RaceCondition\n{\n    private ScheduledFuture&lt;?&gt; scheduledFuture;\n    private final ScheduledExecutorService scheduledExecutorService = Executors.newScheduledThreadPool(10);\n\n    public void start()\n    {\n        scheduledFuture = scheduledExecutorService.scheduleAtFixedRate(this::doWork, 0, 1, TimeUnit.MILLISECONDS);\n    }\n\n    private void doWork()\n    {\n        scheduledFuture.cancel(false); // is it possible that scheduledFuture hasn't been assigned yet?\n    }\n\n    public void stop()\n    {\n        if (scheduledFuture != null) {\n            scheduledFuture.cancel(false);\n        }\n        scheduledExecutorService.shutdown();\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}