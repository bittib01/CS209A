{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "thymeleaf",
      "email-templates"
    ],
    "owner": {
      "account_id": 30413943,
      "reputation": 1,
      "user_id": 23307251,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/7df387e01b7d665115e517b7a38f972f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Dev6174",
      "link": "https://stackoverflow.com/users/23307251/dev6174"
    },
    "is_answered": false,
    "view_count": 334,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1711538517,
    "creation_date": 1706589739,
    "last_edit_date": 1706687808,
    "question_id": 77903936,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77903936/thymeleaf-template-is-unable-to-processed-and-throwing-nosuchmethoderror",
    "title": "Thymeleaf template is unable to processed and throwing NoSuchMethodError",
    "body": "<p>I'm encountering an issue with the <code>th:href</code> attribute in my Thymeleaf template. I'm using Thymeleaf version 3.1.2.RELEASE along with the Thymeleaf Spring5 integration. Despite setting the <code>th:href</code> attribute correctly, the link is not being generated as expected and throwing below error :</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: 'java.lang.String org.thymeleaf.util.ExpressionUtils.normalize(java.lang.String)'\n</code></pre>\n<p>Below is my setup :</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;nz.net.ultraq.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-layout-dialect&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>@Configuration\npublic class ThymeleafTemplateConfig\n{\n    @Bean\n    public SpringTemplateEngine springTemplateEngine() {\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.addTemplateResolver(htmlTemplateResolver());\n        return templateEngine;\n    }\n\n    @Bean\n    public ClassLoaderTemplateResolver htmlTemplateResolver(){\n        ClassLoaderTemplateResolver emailTemplateResolver = new ClassLoaderTemplateResolver();\n        emailTemplateResolver.setPrefix(&quot;templates/&quot;);\n        emailTemplateResolver.setSuffix(&quot;.html&quot;);\n        emailTemplateResolver.setTemplateMode(TemplateMode.HTML);\n        emailTemplateResolver.setCharacterEncoding(StandardCharsets.UTF_8.name());\n        return emailTemplateResolver;\n    }\n}\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class EmailService {\n\n    private final SpringTemplateEngine templateEngine;\n\n    protected String createSummaryEmailBody(RunEntity runEntity, String filesLink) {\n        Context context = new Context();\n        context.setVariable(&quot;year&quot;, runEntity.getFinancialYear());\n        context.setVariable(&quot;period&quot;, runEntity.getFinancialPeriod());\n        context.setVariable(&quot;filesLink&quot;, filesLink);\n        return templateEngine.process(&quot;summary-report&quot;, context);\n    }\n}\n</code></pre>\n<p>summary-report.html :</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Report Summary&lt;/title&gt;\n    &lt;style&gt;\n        body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 0;\n        }\n        table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n        }\n        th, td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: left;\n        }\n        th {\n            background-color: #f2f2f2;\n        }\n        .link {\n            color: #007bff;\n            text-decoration: none;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;h1&gt;Report Summary&lt;/h1&gt;\n    &lt;p&gt;&lt;strong&gt;Year:&lt;/strong&gt; &lt;span th:text=&quot;${year}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n    &lt;p&gt;&lt;strong&gt;Period:&lt;/strong&gt; &lt;span th:text=&quot;${period}&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n    &lt;p&gt;Files are ready to view &lt;a class=&quot;link&quot; th:href=&quot;${filesLink}&quot; target=&quot;_blank&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>In my Java code, I'm setting the filesLink variable in the Thymeleaf context.\nHowever, when the template is rendered, getting the above error. I've tried troubleshooting this issue by removing the <code>th:href</code> and then the error stopped.</p>\n<p>Could someone please advise on why the <code>th:href</code> attribute might not be working as expected? Any insights or suggestions for resolving this issue would be greatly appreciated. Thank you!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}