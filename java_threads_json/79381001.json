{
  "question": {
    "tags": [
      "java",
      "maven",
      "xwiki"
    ],
    "owner": {
      "account_id": 16423624,
      "reputation": 150,
      "user_id": 11864217,
      "user_type": "registered",
      "profile_image": "https://lh4.googleusercontent.com/-qpzb-iWWa94/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUxJbO2fxsixNgSVcKNJr-3um3SQ/s256-rj/photo.jpg",
      "display_name": "eli44",
      "link": "https://stackoverflow.com/users/11864217/eli44"
    },
    "is_answered": false,
    "view_count": 44,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1737823755,
    "creation_date": 1737634816,
    "last_edit_date": 1737823755,
    "question_id": 79381001,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79381001/opens-java-net-error-while-installing-ldapuserimport-api-spoon-maven-plugin",
    "title": "&quot;opens java.net&quot; error while installing ldapuserimport-api (spoon-maven-plugin)",
    "body": "<p><strong>Goal:</strong> installation of the application-ldapuserimport-api (to use on a server for xwiki) <a href=\"https://github.com/xwikisas/application-ldapuserimport/tree/main\" rel=\"nofollow noreferrer\">ldapuserimport-github</a></p>\n<p><strong>Error:</strong></p>\n<pre><code>...\n[INFO] --- spoon:3.5:check (spoon-main) @ application-ldapuserimport-api ---\njava.lang.reflect.InaccessibleObjectException: Unable to make protected void java.net.URLClassLoader.addURL(java.net.URL) accessible: module java.base does not &quot;opens java.net&quot; to unnamed module @3b64d50d\n        at java.base/java.lang.reflect.AccessibleObject.throwInaccessibleObjectException(AccessibleObject.java:388)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:364)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:312)\n        at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:203)\n        at java.base/java.lang.reflect.Method.setAccessible(Method.java:197)\n        at fr.inria.gforge.spoon.util.ClasspathHacker.addURL(ClasspathHacker.java:19)\n        at fr.inria.gforge.spoon.SpoonMojoGenerate.addArtifactsInClasspathOfTargetClassLoader(SpoonMojoGenerate.java:265)\n        at fr.inria.gforge.spoon.SpoonMojoGenerate.initMojo(SpoonMojoGenerate.java:199)\n        at fr.inria.gforge.spoon.SpoonMojoGenerate.execute(SpoonMojoGenerate.java:222)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:126)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:328)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:316)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:212)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:174)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.access$000(MojoExecutor.java:75)\n        at org.apache.maven.lifecycle.internal.MojoExecutor$1.run(MojoExecutor.java:162)\n        at org.apache.maven.plugin.DefaultMojosExecutionStrategy.execute(DefaultMojosExecutionStrategy.java:39)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:159)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:105)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:73)\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:53)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:118)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:261)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:173)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:101)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:906)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:283)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:206)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:255)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:201)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:361)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:314)\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for LDAP User Import Application - Parent POM 1.7.1-SNAPSHOT:\n[INFO]\n[INFO] LDAP User Import Application - Parent POM .......... SUCCESS [ 14.643 s]\n[INFO] LDAP User Import Application - API ................. FAILURE [ 36.713 s]\n[INFO] LDAP User Import Application - UI .................. SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  52.390 s\n[INFO] Finished at: 2025-01-23T12:38:42+01:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal fr.inria.gforge.spoon:spoon-maven-plugin:3.5:check (spoon-main) on project application-ldapuserimport-api\n...\n</code></pre>\n<p><strong>Process:</strong>\nI am working with</p>\n<ul>\n<li>JDK23</li>\n<li>Windows 11 Pro</li>\n<li><code>mvn install clean -U</code></li>\n</ul>\n<p><strong>Other Information:</strong>\nldapuserimport is using:</p>\n<pre><code>&lt;groupId&gt;fr.inria.gforge.spoon&lt;/groupId&gt;\n&lt;artifactId&gt;spoon-maven-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.5&lt;/version&gt;\n</code></pre>\n<p><strong>Non-working fixes:</strong></p>\n<ul>\n<li><code>mvn dependency:tree</code> -&gt; no errors or warnings left</li>\n<li>different JDK version as in <a href=\"https://stackoverflow.com/questions/72844282/java-lang-reflect-inaccessibleobjectexception-unable-to-make-protected-void-jav\">stackof-jdkversion</a>\n-&gt; I tried JDK21 and JDK 11 -&gt; same error as before</li>\n</ul>\n<p><strong>Biggest hope so far:</strong>\n<code>--add-opens java.base/java.net=ALL-UNNAMED</code>\nfrom <a href=\"https://stackoverflow.com/questions/74006627/module-java-base-does-not-opens-java-lang-java-17-0-4-1/75878055\">stackof-does-not-opens-java.lang</a></p>\n<p>I tried to add to the POM both of these (uncommented ofc :)</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;fr.inria.gforge.spoon&lt;/groupId&gt;\n                &lt;artifactId&gt;spoon-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5&lt;/version&gt;\n                &lt;configuration&gt;\n                &lt;!--\n                    &lt;jvmArgs&gt;\n                        &lt;jvmArg&gt;--add-opens&lt;/jvmArg&gt;\n                        &lt;jvmArg&gt;java.base/java.net=ALL-UNNAMED&lt;/jvmArg&gt;\n                    &lt;/jvmArgs&gt;\n                --&gt;\n                &lt;!--\n                    &lt;argLine&gt;--add-opens java.base/java.net=ALL-UNNAMED&lt;/argLine&gt;\n                --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>both times I got the response:\n<code>[WARNING] Parameter 'jvmArgs' is unknown for plugin 'spoon-maven-plugin:3.5:check (spoon-main)'</code>\n(argLine resp.)</p>\n<p>I tried to adapt to:\n<code>mvn install clean -U -DargLine=&quot;--add-opens java.base/java.util=ALL-UNNAMED&quot;</code>\nresulting in not making a difference (same error msg)</p>\n<p>and tried:\n<code>set MAVEN_OPTS=&quot;--add-opens java.base/java.util=ALL-UNNAMED&quot;</code>\nresulting in instantly aborting build process</p>\n<p>Any help appreciated!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}