{
  "question": {
    "tags": [
      "java",
      "spring-boot-actuator",
      "datadog",
      "spring-micrometer",
      "open-telemetry-datadog"
    ],
    "owner": {
      "account_id": 30697169,
      "reputation": 61,
      "user_id": 23535936,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/e90814abd39bd39c57655b18861412e2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "kafkaobservability",
      "link": "https://stackoverflow.com/users/23535936/kafkaobservability"
    },
    "is_answered": false,
    "view_count": 645,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1714062410,
    "creation_date": 1709681273,
    "question_id": 78111042,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78111042/send-metrics-to-datadog-using-micrometer-registry-otlp-instead-of-micrometer-reg",
    "title": "Send metrics to DataDog using micrometer-registry-otlp instead of micrometer-registry-datadog",
    "body": "<p>I am using a SpringBoot 3 with micrometer, actuator, in order to send metrics to Datadog.</p>\n<p>My pom contains <code>spring-boot-starter-actuator</code> <code>micrometer-registry-datadog</code>.</p>\n<p>I am able to send metrics to datadog using the datadog registry.</p>\n<p>However, I would like to send metrics to DataDog using micrometer-registry-otlp instead of micrometer-registry-datadog, and from DataDog's doc, the format should be supported</p>\n<p>With the registry datadog, I am using this:</p>\n<pre><code>@SpringBootApplication\npublic class DatadogApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DatadogApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>@RestController\npublic class TestController {\n    @Timed(value = &quot;firstApi&quot;, description = &quot;The description of the first API&quot;)\n    @GetMapping(&quot;/first&quot;)\n    public ResponseEntity getFirst() {\n        return new ResponseEntity(HttpStatus.OK);\n    }\n</code></pre>\n<pre><code>management.datadog.metrics.export.api-key=abc\nmanagement.datadog.metrics.export.application-key=dce\nmanagement.datadog.metrics.export.uri=https://us5.datadoghq.com\n</code></pre>\n<p>And again, it is working fine.</p>\n<p>With the registry OTLP, I am changing to this:</p>\n<pre><code>management.otlp.metrics.export.url=https://us5.datadoghq.com\n</code></pre>\n<p>And it is not working.</p>\n<p>May I ask what is the correct URL, what is the correct OTLP auth to send metrics to DataDog using the OTLP registry?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}