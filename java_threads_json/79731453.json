{
  "question": {
    "tags": [
      "java",
      "keycloak",
      "openid-connect",
      "token-exchange"
    ],
    "owner": {
      "account_id": 2664143,
      "reputation": 985,
      "user_id": 2303101,
      "user_type": "registered",
      "accept_rate": 84,
      "profile_image": "https://www.gravatar.com/avatar/4f1a181f746483d42b2bb27aa9c3f40b?s=256&d=identicon&r=PG",
      "display_name": "Programmer1994",
      "link": "https://stackoverflow.com/users/2303101/programmer1994"
    },
    "is_answered": false,
    "view_count": 103,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1754894524,
    "creation_date": 1754853642,
    "last_edit_date": 1754861113,
    "question_id": 79731453,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79731453/token-exchange-to-edit-existing-custom-claims",
    "title": "Token Exchange to edit existing custom claims",
    "body": "<p>I want to add a new functionality to a webapp and for that functionality, I want to edit an existing claim in my JWT when the user that interacts with the client chooses to use this feature. Now, would it be correct to do this with a token exchange and custom protocol mapper? Can this work? Or would I sort of fetch a new token after DB update of my federated users? The RFC is quite limited in functionality of the token exchange and Keycloak also has its own sort of version.\nI do not really switch client, so an internal-internal token exchange does not seem to fit my usecase.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}