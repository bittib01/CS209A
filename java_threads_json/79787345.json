{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "spring-mvc",
      "thymeleaf"
    ],
    "owner": {
      "account_id": 4317215,
      "reputation": 159,
      "user_id": 3526686,
      "user_type": "registered",
      "accept_rate": 60,
      "profile_image": "https://www.gravatar.com/avatar/471fd6ea1b9ebe5afbcd1697a4aceeb9?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "IamDMahesh",
      "link": "https://stackoverflow.com/users/3526686/iamdmahesh"
    },
    "is_answered": false,
    "view_count": 79,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1760165948,
    "creation_date": 1760099528,
    "last_edit_date": 1760165948,
    "question_id": 79787345,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79787345/thymeleaf-templateinputexception-when-injecting-dynamic-fragment-via-content",
    "title": "Thymeleaf TemplateInputException when injecting dynamic fragment via ${content} in layout.html (Spring Boot 3.5.6)",
    "body": "<p>I'm using Spring Boot 3.5.6 with Thymeleaf 3.1.3, and I'm trying to implement a dynamic layout system where I inject a fragment into layout.html using a model attribute.</p>\n<p><strong>Controller:</strong></p>\n<pre><code>@GetMapping(&quot;/home&quot;)\npublic String home(Model model) {\n    model.addAttribute(&quot;content&quot;, &quot;home :: content&quot;);\n    model.addAttribute(&quot;pageTitle&quot;, &quot;Home&quot;);\n    return &quot;layout&quot;;\n}\n</code></pre>\n<p><strong>layout.html:</strong></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title th:text=&quot;${pageTitle}&quot;&gt;Default Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;header th:replace=&quot;header :: header&quot;&gt;&lt;/header&gt;\n  &lt;main&gt;\n    &lt;div th:replace=&quot;${content}&quot;&gt;&lt;/div&gt;\n  &lt;/main&gt;\n  &lt;footer th:replace=&quot;footer :: footer&quot;&gt;&lt;/footer&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>home.html:</strong></p>\n<pre><code>&lt;div th:fragment=&quot;content&quot;&gt;\n  &lt;h1&gt;Welcome Message&lt;/h1&gt;\n&lt;/div&gt;\n</code></pre>\n<p>All templates are located in src/main/resources/templates.</p>\n<p>When I run the app and access /home, I'm experiencing the following error:</p>\n<pre><code>org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template &quot;layout&quot;: An error happened during template parsing (template: &quot;class path resource [templates/layout.html]&quot;)\n\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/layout.html]&quot;)\n        at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.3.RELEASE.jar:3.1.3.RELEASE]\n        at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1438) ~[spring-webmvc-6.2.11.jar:6.2.11]\n        at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1168) ~[spring-webmvc-6.2.11.jar:6.2.11]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.11.jar:6.2.11]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.11.jar:6.2.11]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.11.jar:6.2.11]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.11.jar:6.2.11]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.46.jar:6.0]\n\n</code></pre>\n<p>I vexed up trying all ways but didn't go through and hitting the same wall, really appreciate your help if someone would help!</p>\n<pre><code>Same error log I have provided in the question itself, I have tried all possible solutions over the internet, but none of them fixed my issue, hence, seeking assistance\nSolution1:\n&lt;div th:replace=&quot;~{__${contentFragment}__}&quot;&gt;&lt;/div&gt;\nSolution2:\n&lt;div th:replace=&quot;__${contentFragment}__&quot;&gt;&lt;/div&gt;\nSolution3:\n&lt;div th:replace=&quot;~{${contentFragment}}&quot;&gt;&lt;/div&gt;\nSolution4:\n&lt;div th:replace=&quot;${contentFragment}&quot;&gt;&lt;/div&gt;\nSolution5:\n&lt;div th:replace=&quot;~{${fragmentFile} :: ${fragmentName}}&quot;&gt;&lt;/div&gt;```\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}