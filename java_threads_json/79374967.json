{
  "question": {
    "tags": [
      "java",
      "swing",
      "awt",
      "antialiasing"
    ],
    "owner": {
      "account_id": 30014863,
      "reputation": 31,
      "user_id": 23001677,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocLpBTk5KvBBJRBUlhGw74u-kmibee5M9QbQOlMXcR2PVw=k-s256",
      "display_name": "ObSp",
      "link": "https://stackoverflow.com/users/23001677/obsp"
    },
    "is_answered": true,
    "view_count": 108,
    "accepted_answer_id": 79381648,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1737646004,
    "creation_date": 1737472760,
    "last_edit_date": 1737476241,
    "question_id": 79374967,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79374967/java-buffered-image-anti-aliasing-not-working",
    "title": "Java Buffered Image Anti Aliasing Not Working",
    "body": "<p>I'm working on a java desktop application and have noticed that when downscaling images to around 50 pixels the images tend to look very pixelated and sharp. I've tried multiple approaches to fixing this, including</p>\n<pre class=\"lang-java prettyprint-override\"><code>//I've tried every kind of interpolation, but to no avail\ng2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_NEAREST_NEIGHBOR);\ng2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n</code></pre>\n<p>These seem to have no effect on the images though. I was wondering if there's a way to make them smoother.</p>\n<p>In my application:</p>\n<p><a href=\"https://i.sstatic.net/OlcEjLz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/OlcEjLz1.png\" alt=\"a\" /></a></p>\n<p>In the vs code photo viewer at 10% scale (about same size)</p>\n<p><a href=\"https://i.sstatic.net/19pXbNQ3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/19pXbNQ3.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help is appreciated!\nNOTE: the problem only occurs when downscaling images. Displaying a 256x256 resolution image at a size of 256x256 pixels works completely fine.</p>\n<p>EDIT: Here is a minimum reproducible example to show how interpolation/anti aliasing makes no difference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JFrame frame = new JFrame();\nframe.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\nframe.setSize(400, 400);\n\nfinal BufferedImage image = ImageIO.read(new File(&quot;home.png&quot;));\n\nJPanel pane = new JPanel() {\n      @Override\n      protected void paintComponent(Graphics g) {\n          super.paintComponent(g);\n                \n           Graphics2D g2d = (Graphics2D) g;\n\n           g2d.setColor(Color.gray);\n           g2d.fillRect(0, 0, 400, 400);\n\n           //two examples, image on the left is without interpolation, image on the right is with interpolation\n           g2d.drawImage(image, 200, 200, 35, 35, null);\n\n           g2d.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n           g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n           g2d.drawImage(image, 250, 200, 35, 35, null);\n       }\n};\n\n\nframe.add(pane);\nframe.setVisible(true);\n</code></pre>\n<p>The program uses this image:\n<a href=\"https://imgur.com/6xto1o5\" rel=\"nofollow noreferrer\">https://imgur.com/6xto1o5</a></p>\n<p>The result this produces is as follows:</p>\n<p><a href=\"https://i.sstatic.net/cwytmmag.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/cwytmmag.png\" alt=\"enter image description here\" /></a></p>\n<p>The house on the left was drawn without interpolation/anti aliasing, the image on the right with both. As you can see, there is no visible difference.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}