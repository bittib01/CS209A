{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "junit"
    ],
    "owner": {
      "account_id": 987434,
      "reputation": 12688,
      "user_id": 1005607,
      "user_type": "registered",
      "accept_rate": 64,
      "profile_image": "https://www.gravatar.com/avatar/784311347e657bc34c93a6b7cb7d3faf?s=256&d=identicon&r=PG",
      "display_name": "gene b.",
      "link": "https://stackoverflow.com/users/1005607/gene-b"
    },
    "is_answered": true,
    "view_count": 139,
    "accepted_answer_id": 79701304,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1752652245,
    "creation_date": 1752517077,
    "last_edit_date": 1752652245,
    "question_id": 79701240,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79701240/disabledif-with-junit-depending-on-a-string-value-in-application-yml",
    "title": "@DisabledIf with jUnit depending on a string value in application.yml",
    "body": "<p>I need to disable some unit tests depending on a string variable defined in my <code>src/app/test/resources/application.yml</code>.</p>\n<pre><code>ENVIRONMENT: local\n</code></pre>\n<p>I'm using Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/junit/jupiter/DisabledIf.html\" rel=\"nofollow noreferrer\"><code>@DisabledIf</code></a> which takes a single <code>expression</code>. But I can't make it work when an expression is a string evaluation that I'm trying to fit into SpEL.</p>\n<pre><code>@Test\n@DisabledIf(expression=&quot;${ENVIRONMENT == 'local'}&quot;) \npublic void test1() throws Exception {\n    //..\n}\n</code></pre>\n<p>Also tried, not working (unit test still activates even with <code>ENVIRONMENT: local</code>):</p>\n<pre><code>@DisabledIf(&quot;#{ '${ENVIRONMENT}' == 'local' }&quot;) // String comparison\n</code></pre>\n<p>Their examples are</p>\n<pre><code>@DisabledIf(&quot;#{systemProperties['os.name'].toLowerCase().contains('mac')}&quot;)\n@DisabledIf(&quot;${smoke.tests.disabled}&quot;) &lt;- A boolean application.yml property\n@DisabledIf(&quot;true&quot;)\n</code></pre>\n<p>I need a Spring environment property from <code>application.yml</code> but with  string evaluation, what would work here?</p>\n<p>BTW the following doesn't work either with my <code>application.yml</code> variable, using <a href=\"https://docs.junit.org/5.2.0/api/org/junit/jupiter/api/condition/DisabledIfSystemProperty.html\" rel=\"nofollow noreferrer\">JUnit's Jupiter</a>:</p>\n<pre><code>@DisabledIfSystemProperty(named=&quot;ENVIRONMENT&quot;, matches=&quot;local&quot;)\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}