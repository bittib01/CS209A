{
  "question": {
    "tags": [
      "java",
      "ids",
      "genicam",
      "gentl"
    ],
    "owner": {
      "account_id": 23842,
      "reputation": 2431,
      "user_id": 60114,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://www.gravatar.com/avatar/0a1c865148ed2eaecb2608922df5c37e?s=256&d=identicon&r=PG",
      "display_name": "Boris Daich",
      "link": "https://stackoverflow.com/users/60114/boris-daich"
    },
    "is_answered": false,
    "view_count": 111,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1760965258,
    "creation_date": 1752486751,
    "question_id": 79700701,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79700701/acquiring-an-image-with-genicam-package-java-reference-implementation-from-ids-p",
    "title": "acquiring an image with GenICam Package Java Reference Implementation from IDS Peak Camera in JAVA SE",
    "body": "<p>I got IDS Peak (ueye) Camera connected to USB3</p>\n<p>GenICam Package Java Reference Implementation in my case 2024.04 has Java bindings.</p>\n<p>I can not find a way to acquire an image from the IDS Peak camera using GenTL java API</p>\n<p>C++ and C# API reference some RemoteDevice that I do not see in java API.</p>\n<p>I did all the steps from initializing the library</p>\n<p>getting a reference to the device</p>\n<p>opening the DataStream</p>\n<p>but I can not get pass that</p>\n<p>here is my sample test code</p>\n<p>what should i put in <code>acquireImageFromCamera()</code> and <code>changeGain()</code> ??</p>\n<p>Sorry if it looks stupid but I am lost here...</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage detector.geicam;\n\nimport java.awt.image.BufferedImage;\nimport java.lang.foreign.Arena;\nimport java.lang.foreign.MemorySegment;\nimport java.nio.ByteBuffer;\nimport java.util.List;\n\nimport org.genicam.genapi.NodeMap;\nimport org.genicam.gentl.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MainGenicamTest {\n    private static final Logger l = LoggerFactory.getLogger(MainGenicamTest.class);\n    private GenTLProducer producer;\n    private TransportLayer transportLayer;\n    private List&lt;InterfaceInfo&gt; interfaces;\n    private TLInterface tlInterface;\n    private DeviceInfo deviceInfo;\n    private Device device;\n    private DataStream openDataStream;\n    private Port dataStreamPort;\n    private Port deviceRemotePort;\n    private Port deviceLocalPort;\n\n    public MainGenicamTest() {\n\n        System.loadLibrary(&quot;GenTLJava_MD_VC141_v3_4&quot;);\n        l.info(&quot;GenTLJava_MD_VC141_v3_4 loaded&quot;);\n\n        System.loadLibrary(&quot;GenApiJava_MD_VC141_v3_4&quot;);\n        l.info(&quot;GenApiJava_MD_VC141_v3_4 loaded&quot;);\n\n        producer = GenTLProducer.load(&quot;C:\\\\Work\\\\daich.biz\\\\biz.daich.stains.detector.geicam\\\\ids_ueyegentl.cti&quot;);\n        var r = producer.isOpen();\n        l.info(&quot;GenTLProducer isOpen: {}&quot;, r);\n        r = producer.checkValid();\n        l.info(&quot;GenTLProducer isValid: {}&quot;, r);\n        var name = producer.getDisplayname();\n        l.info(&quot;GenTLProducer name: {}&quot;, name);\n        String tlType = producer.getTLType();\n        l.info(&quot;GenTLProducer TLType: {}&quot;, tlType);\n        String version = producer.getVersion();\n        String model = producer.getModel();\n        String vendor = producer.getVendor();\n        l.info(&quot;GenTLProducer version: {}, model: {}, vendor: {}&quot;, version, model, vendor);\n        transportLayer = producer.openTransportLayer();\n        var res = transportLayer.updateInterfaceList(1000);\n        l.info(&quot;TransportLayer updateInterfaceList result: {}&quot;, res);\n        interfaces = transportLayer.getInterfaces();\n        l.info(&quot;TransportLayer interfaces: {}&quot;, interfaces.size());\n        for (InterfaceInfo interfaceInfo : interfaces) {\n            l.info(&quot;Interface: TransportLayerType: {}, display name: {}, id: {} &quot;, interfaceInfo.getTransportLayerType(), interfaceInfo.getDisplayName(), interfaceInfo.getID());\n            TLInterface tlInterface = interfaceInfo.open();\n            boolean updateDeviceList = tlInterface.updateDeviceList(1000);\n            l.info(&quot;TLInterface updateDeviceList result: {}&quot;, updateDeviceList);\n            List&lt;DeviceInfo&gt; deviceList = tlInterface.getDeviceList();\n            deviceList.stream().forEach(x -&gt; l.info(&quot;DeviceInfo: {}, display name: {}, id: {}&quot;, x.getTransportLayerType(), x.getDisplayName(), x.getID()));\n            tlInterface.close();\n        }\n        tlInterface = interfaces.get(0).open();\n        boolean updateDeviceList = tlInterface.updateDeviceList(1000);\n        l.info(&quot;TLInterface updateDeviceList result: {}&quot;, updateDeviceList);\n        deviceInfo = tlInterface.getDeviceList().get(0);\n        l.info(&quot;DeviceInfo: TransportLayerType: {}, display name: {}, id: {}&quot;, deviceInfo.getTransportLayerType(), deviceInfo.getDisplayName(), deviceInfo.getID());\n        device = deviceInfo.open(DeviceAccessFlags.DEVICE_ACCESS_EXCLUSIVE);\n        l.info(&quot;Device opened: TransportLayerType: {}, display name: {}, id: {}&quot;, device.getTransportLayerType(), device.getDisplayName(), device.getID());\n        List&lt;String&gt; dataStreamIDs = device.getDataStreamIDs();\n        dataStreamIDs.stream().forEach(x -&gt; l.info(&quot;DataStream ID: {}&quot;, x));\n        String dataStreamId = dataStreamIDs.get(0);\n        openDataStream = device.openDataStream(dataStreamId);\n        if (openDataStream.definesPayloadSize()) {\n            long payloadSize = openDataStream.getPayloadSize();\n            l.info(&quot;DataStream payload size: {}&quot;, payloadSize);\n        } else {\n            l.info(&quot;DataStream does not define payload size&quot;);\n        }\n        dataStreamPort = openDataStream.getPort();\n        l.info(&quot;port properties: id={} name={} model={} TLType={} Vendor={}&quot;, dataStreamPort.getID(), dataStreamPort.getName(), dataStreamPort.getModel(), dataStreamPort.getTLType(), dataStreamPort.getVendor());\n        deviceRemotePort = device.getRemotePort();\n        l.info(&quot;Remote port properties: id={} name={} model={} TLType={} Vendor={}&quot;, deviceRemotePort.getID(), deviceRemotePort.getName(), deviceRemotePort.getModel(), deviceRemotePort.getTLType(),\n                deviceRemotePort.getVendor());\n        deviceLocalPort = device.getLocalPort();\n        l.info(&quot;Remote port properties: id={} name={} model={} TLType={} Vendor={}&quot;, deviceLocalPort.getID(), deviceLocalPort.getName(), deviceLocalPort.getModel(), deviceLocalPort.getTLType(),\n                deviceLocalPort.getVendor());\n    }\n\n    public BufferedImage acquireImageFromCamera() {\n\n        // HOW!???\n        throw new RuntimeException(&quot;Not implemented yet&quot;);\n    }\n\n    public void changeGain() {\n        // TODO: how to get reference to the GenApiNodeMap?\n        // how to do FindNode &quot;TLParamsLocked&quot;  &quot;AcquisitionStart&quot; &quot;AcquisitionStart&quot; ???\n    }\n    \n    \n    public static void main(String[] args) {\n        MainGenicamTest x = new MainGenicamTest();\n        x.changeGain();\n        BufferedImage img = x.acquireImageFromCamera();\n    }\n\n}\n\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}