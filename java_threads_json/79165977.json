{
  "question": {
    "tags": [
      "java",
      "intellij-idea",
      "minecraft-fabric"
    ],
    "owner": {
      "account_id": 37302554,
      "reputation": 1,
      "user_id": 28175778,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/e2b9bab2462fd74d38d70782d7f6d523?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "user28175778",
      "link": "https://stackoverflow.com/users/28175778/user28175778"
    },
    "is_answered": true,
    "view_count": 348,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1743213697,
    "creation_date": 1730974714,
    "question_id": 79165977,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79165977/minecraft-fabric-1-21-3-adding-experiencedroppingblock",
    "title": "Minecraft Fabric 1.21.3 adding ExperienceDroppingBlock",
    "body": "<p>I am new to Minecraft modding and still trying to learn. I am currently following tutorials and I get on fine understanding the concepts as I have programmed plenty in C and C# in the past. My problem however is that there is no tutorial or much of any documentation on 1.21.3, which I am trying to learn. I go step by step in the tutorial, first making the mod run in 1.21.1 and then see how to alter the code to work for 1.21.3. I have been stopped entirely by trying to add a simple block with ExperienceDroppingBlock(UniformIntProvider). I essentially want to be able to set a range of items that can be dropped by breaking the block and also make it drop xp.</p>\n<p>Here is the original method for registering a block:</p>\n<pre><code>private static Block registerBlock(String name, Block block) {\n        registerBlockItem(name, block);\n        return Registry.register(Registries.BLOCK, Identifier.of(FirstMod.MOD_ID, name), block);\n    }\n\n    private static void registerBlockItem(String name, Block block) {\n        Registry.register(Registries.ITEM, Identifier.of(FirstMod.MOD_ID, name), new BlockItem(block, new Item.Settings()));\n    }\n</code></pre>\n<p>And here is how it is supposed to look in 1.21.3:</p>\n<pre><code>private static Block registerBlock(String name, Function&lt;AbstractBlock.Settings, Block&gt; factory, AbstractBlock.Settings settings) {\n        final Identifier identifier = Identifier.of(TutorialMod.MOD_ID, name);\n        final RegistryKey&lt;Block&gt; registryKey = RegistryKey.of(RegistryKeys.BLOCK, identifier);\n\n        final Block block = Blocks.register(registryKey, factory, settings);\n        Items.register(block);\n        return block;\n    }\n</code></pre>\n<p>It seems to me that Blocks.register won't allow you to add that property anymore/I don't know how to.</p>\n<p>The orignal way to add the block was as follows:</p>\n<pre><code>public static final Block BLOCK_NAME = registerBlock(&quot;block_name&quot;,\n            new ExperienceDroppingBlock(UniformIntProvider.create(2, 5),\n                    AbstractBlock.Settings.create().strength(3f).requiresTool()));\n</code></pre>\n<p>Now it's like this:</p>\n<pre><code>public static final Block BLOCK_NAME = registerBlock(&quot;block_name&quot;, Block::new,\n            Block.Settings.create().strength(3f).requiresTool());\n</code></pre>\n<p>I tried for a long time, to conclude that Block::new is necessary and you cannot have ExperienceDroppingBlock(UniformIntProvider) in the same Blocks.register as Block::new ('factory' in the method).</p>\n<p>I apologise if this is a very simple answer and I've missed something obvious. Like I said, I am new to this and am still trying to learn java as I go.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}