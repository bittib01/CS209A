{
  "question": {
    "tags": [
      "java",
      "spring",
      "mongodb",
      "spring-boot"
    ],
    "owner": {
      "account_id": 295139,
      "reputation": 640,
      "user_id": 599393,
      "user_type": "registered",
      "accept_rate": 52,
      "profile_image": "https://www.gravatar.com/avatar/2e4f4c2346945ed88ee08a9c9d772e02?s=256&d=identicon&r=PG",
      "display_name": "rainydaymatt",
      "link": "https://stackoverflow.com/users/599393/rainydaymatt"
    },
    "is_answered": false,
    "view_count": 140,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1718811400,
    "creation_date": 1714858817,
    "last_edit_date": 1714859598,
    "question_id": 78430461,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78430461/whats-the-proper-string-to-provide-a-mongo-serveraddress-for-an-atlas-database",
    "title": "What&#39;s the proper string to provide a Mongo ServerAddress for an Atlas database?",
    "body": "<p>I'm trying to connect my Spring Boot API to a Mongo database in Atlas, and configuring the Client like so:</p>\n<pre><code>@Override\n    public void configureClientSettings(MongoClientSettings.Builder builder) {\n        builder\n                .credential(MongoCredential.createCredential(&quot;matt&quot;, &quot;mydb&quot;, &quot;p@ssw0rd&quot;.toCharArray()))\n                .applyToClusterSettings(settings -&gt; {\n                    settings.hosts(Collections.singletonList(new ServerAddress(&quot;ab-cdefg-shard-00-00.hijklmn.mongodb.net&quot;, 27017)));\n                });\n    }\n</code></pre>\n<p>But I absolutely cannot get past these errors:</p>\n<pre><code>com.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.lambda$open$0(SocketStream.java:84)\n    at java.base/java.util.Optional.orElseThrow(Optional.java:403)\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:84)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:211)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:153)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: java.net.ConnectException: Connection refused: getsockopt\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:751)\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:76)\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:104)\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:78)\n    ... 4 common frames omitted\n</code></pre>\n<p>Am I using an improper string? That's one of the example strings I found, but others used <code>mongo</code> or <code>mongo-srv</code>. I've used them, but I don't know what changes are (and are not) required to accomodate each string format.</p>\n<p>I understand and appreciate this configuration, but all the examples I can find use localhost, and I am trying to work with a live Atlas database. My only problem seems to be the specifics of connection parameters (I <strong>think</strong>).</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}