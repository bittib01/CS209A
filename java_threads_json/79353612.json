{
  "question": {
    "tags": [
      "java",
      "lua",
      "neovim",
      "eclipse-jdt",
      "nvim-lspconfig"
    ],
    "owner": {
      "account_id": 39257574,
      "reputation": 21,
      "user_id": 29184706,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/cb78a6de724545440f0ca44ce072e949?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "hhopec",
      "link": "https://stackoverflow.com/users/29184706/hhopec"
    },
    "is_answered": true,
    "view_count": 1642,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1743504063,
    "creation_date": 1736808438,
    "last_edit_date": 1736849965,
    "question_id": 79353612,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79353612/how-to-stop-jdtls-quitting-exit-code-13-and-signal-0-every-time-i-open-a-jav",
    "title": "How to stop JDTLS quitting (&quot;Exit code 13 and signal 0&quot;) every time I open a java file in neovim?",
    "body": "<p>I am fairly new to using neovim and set things up with <a href=\"https://github.com/nvim-lua/kickstart.nvim\" rel=\"nofollow noreferrer\">kickstart.nvim</a>. I tried to setup jdtls to run with mason. It was working fine until today, when it has been quitting immediately upon opening of a java file with the message &quot;Exit code 13 and signal 0&quot;.</p>\n<p>Here's were I've got to with my mason stuff (please see my full <a href=\"https://github.com/helboi4/mykickstart.nvim/blob/current-config/init.lua\" rel=\"nofollow noreferrer\">init.lua</a> and <a href=\"https://github.com/helboi4/mykickstart.nvim/tree/current-config\" rel=\"nofollow noreferrer\">config</a> for context):</p>\n<pre><code>      local servers = {\n        lua_ls = {\n          settings = {\n            Lua = {\n              runtime = { version = 'LuaJIT' },\n              workspace = {\n                checkThirdParty = false,\n                library = {\n                  '${3rd}/luv/library',\n                  unpack(vim.api.nvim_get_runtime_file('', true)),\n                },\n              },\n              completion = {\n                callSnippet = 'Replace',\n              },\n            },\n          },\n        },\n        jdtls = {\n          root_dir = vim.fs.dirname(vim.fs.find({ 'gradlew', '.git', 'mvnw' }, { upward = true })[1]),\n        },\n        angularls = {},\n        html = {},\n        ts_ls = {},\n      }\n\n      vim.list_extend(ensure_installed, {\n        'stylua', -- Used to format Lua code\n      })\n      require('mason-tool-installer').setup { ensure_installed = ensure_installed }\n\n      require('java').setup {}\n\n      require('mason-lspconfig').setup {\n        handlers = {\n          function(server_name)\n            local server = servers[server_name] or {}\n            server.capabilities = vim.tbl_deep_extend('force', {}, capabilities, server.capabilities or {})\n            require('lspconfig')[server_name].setup(server)\n          end,\n        },\n        ensure_installed = ensure_installed,\n        automatic_installation = true,\n      }\n    end,\n  },\n\n</code></pre>\n<p>Here is the output in the lsp log file:</p>\n<pre><code>[START][2025-01-13 22:21:45] LSP logging initiated\n[ERROR][2025-01-13 22:21:45] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.local/share/nvim/mason/bin/java&quot;   &quot;stderr&quot;    &quot;WARNING: Using incubator modules: jdk.incubator.vector, jdk.incubator.foreign\\n&quot;\n[ERROR][2025-01-13 22:21:45] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.jenv/versions/21.0.3/bin/java&quot; &quot;stderr&quot;    &quot;Disabling server log output. No more output will be sent after this.\\n&quot;\n[ERROR][2025-01-13 22:21:46] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.local/share/nvim/mason/bin/java&quot;   &quot;stderr&quot;    &quot;Jan 13, 2025 10:21:46 PM org.apache.aries.spifly.BaseActivator log\\nINFO: Registered provider ch.qos.logback.classic.servlet.LogbackServletContainerInitializer of service jakarta.servlet.ServletContainerInitializer in bundle ch.qos.logback.classic\\n&quot;\n[ERROR][2025-01-13 22:21:46] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.local/share/nvim/mason/bin/java&quot;   &quot;stderr&quot;    &quot;Jan 13, 2025 10:21:46 PM org.apache.aries.spifly.BaseActivator log\\nINFO: Registered provider ch.qos.logback.classic.spi.LogbackServiceProvider of service org.slf4j.spi.SLF4JServiceProvider in bundle ch.qos.logback.classic\\n&quot;\n[WARN][2025-01-13 22:27:15] ...lsp/handlers.lua:135 &quot;The language server spring-boot triggers a registerCapability handler for workspace/didChangeWorkspaceFolders despite dynamicRegistration set to false. Report upstream, this warning is harmless&quot;\n[WARN][2025-01-13 22:27:15] ...lsp/handlers.lua:135 &quot;The language server spring-boot triggers a registerCapability handler for textDocument/semanticTokens despite dynamicRegistration set to false. Report upstream, this warning is harmless&quot;\n[START][2025-01-13 22:28:14] LSP logging initiated\n[ERROR][2025-01-13 22:28:14] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.local/share/nvim/mason/bin/java&quot;   &quot;stderr&quot;    &quot;WARNING: Using incubator modules: jdk.incubator.vector, jdk.incubator.foreign\\n&quot;\n[ERROR][2025-01-13 22:28:15] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.jenv/versions/21.0.3/bin/java&quot; &quot;stderr&quot;    &quot;Disabling server log output. No more output will be sent after this.\\n&quot;\n[ERROR][2025-01-13 22:28:15] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.local/share/nvim/mason/bin/java&quot;   &quot;stderr&quot;    &quot;Jan 13, 2025 10:28:15 PM org.apache.aries.spifly.BaseActivator log\\nINFO: Registered provider ch.qos.logback.classic.servlet.LogbackServletContainerInitializer of service jakarta.servlet.ServletContainerInitializer in bundle ch.qos.logback.classic\\n&quot;\n[ERROR][2025-01-13 22:28:15] .../vim/lsp/rpc.lua:770    &quot;rpc&quot;   &quot;/Users/hopecah/.local/share/nvim/mason/bin/java&quot;   &quot;stderr&quot;    &quot;Jan 13, 2025 10:28:15 PM org.apache.aries.spifly.BaseActivator log\\nINFO: Registered provider ch.qos.logback.classic.spi.LogbackServiceProvider of service org.slf4j.spi.SLF4JServiceProvider in bundle ch.qos.logback.classic\\n&quot;\n\n</code></pre>\n<p>When I have had problems with it before it was usually because I needed to clean install my java project I'm working on but this is not the case this time. I've done that like 10 times.</p>\n<p>Extra info: I'm using jenv and its running java version 21.0.3</p>\n<p>I have tried every answer I've found on github, stackoverflow and reddit, including trying to just use nvim-jdtls with a ftplugin/java.lua file instead of my kickstart generated init.lua, deleting all the jdtls files in the mason folder and making it remake them etc. But nothing is helping.</p>\n<p>I did see someone suggest clearing eclipse cache but I don't know where that exists or how to identify it.</p>\n<p>I've been working on this for about 12 hours and I've tried a ridiculous amount of setups, please can someone explain what I'm doing wrong here?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}