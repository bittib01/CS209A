{
  "question": {
    "tags": [
      "java",
      "generics",
      "inheritance",
      "types",
      "invariance"
    ],
    "owner": {
      "account_id": 31226066,
      "reputation": 21,
      "user_id": 24030568,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/06c1c815c0b17e18d82c8345791c33cb?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "user24030568",
      "link": "https://stackoverflow.com/users/24030568/user24030568"
    },
    "is_answered": true,
    "view_count": 105,
    "closed_date": 1747943814,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1747926797,
    "creation_date": 1747920819,
    "question_id": 79633869,
    "link": "https://stackoverflow.com/questions/79633869/why-are-are-java-generics-different-in-invariance-between-classes-and-methods",
    "closed_reason": "Duplicate",
    "title": "Why are are Java generics different in invariance between classes and methods?",
    "body": "<p>Let's assume we have following 2 classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Handler&lt;S extends Something&gt; {\n    \n    void registerHandler(Class&lt;S&gt; someClass) {\n        // do something    \n    }\n}\n\n--And--\n\npublic class Shoe implements Something {\n}\n</code></pre>\n<p>Those are later used as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    \n    Handler&lt;? extends Something&gt; handler = new Handler&lt;&gt;();\n\n    void doStuff() {\n        handler.registerHandler(Shoe.class); //Compile error: Required type and provided type mismatch\n    }\n    \n}\n</code></pre>\n<p>This will result in an error saying that the required type (<em>Class&lt;capture of ? extends Something&gt;</em>)for the method <em>registerHandler()</em> doesn't match with the type that's provided (<em>Class&lt;Shoe</em>&gt;).</p>\n<p>The only way to make it work is to remove the typed class and instead make the method typed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Handler {\n    \n    &lt;S extends Something&gt; void registerHandler(Class&lt;S&gt; someClass) {\n        // do something    \n    }\n}\n</code></pre>\n<p>Along with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n   \n   Handler handler = new Handler();\n\n   void doStuff() {\n       handler.registerHandler(Shoe.class); //Compile error: Required type and provided type mismatch\n   }\n   \n}\n</code></pre>\n<p>I want to understand why Java compiles this way, they shouldn't be different in my eyes but apparently they are. The method should know that the generic <em>S</em> is extended from <em>Something</em>, no matter if it's specified in the method or the class.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}