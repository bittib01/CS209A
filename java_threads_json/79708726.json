{
  "question": {
    "tags": [
      "java",
      "pdfbox"
    ],
    "owner": {
      "account_id": 21131086,
      "reputation": 45,
      "user_id": 15536335,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/d6e65a42c48370f90430bb5785c6887b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Serendipity",
      "link": "https://stackoverflow.com/users/15536335/serendipity"
    },
    "is_answered": true,
    "view_count": 79,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1753240566,
    "creation_date": 1753084214,
    "last_edit_date": 1753240566,
    "question_id": 79708726,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79708726/how-to-get-the-real-coordinates-of-the-gradient-graphics-in-pdf",
    "title": "How to get the real coordinates of the gradient graphics in PDF",
    "body": "<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PDColorSpace colorSpace = getGraphicsState().getNonStrokingColorSpace();\nif (colorSpace instanceof PDPattern) {\n    PDPattern patternSpace = (PDPattern) colorSpace;\n    try {\n        PDAbstractPattern basePattern = patternSpace.getPattern(getGraphicsState().getNonStrokingColor());\n    \n        if (basePattern instanceof PDShadingPattern) {\n            PDShadingPattern shadingPattern = (PDShadingPattern) basePattern;\n            PDShading shading = shadingPattern.getShading();\n    \n            int shadingType = shading.getShadingType();\n            if (shadingType == PDShading.SHADING_TYPE2) { // Axial shading\n    \n                if (shading instanceof PDShadingType2) {\n    \n                    COSArray extendArray = (COSArray) shading.getCOSObject().getDictionaryObject(COSName.EXTEND);\n                    path.setExtend(String.valueOf(extendArray.size()));\n    \n                    PDShadingType2 axial = (PDShadingType2) shading;\n                    COSArray coords = axial.getCoords();\n    \n                    if (coords != null &amp;&amp; coords.size() &gt;= 4) {\n                        float x0 = ((COSNumber) coords.get(0)).floatValue();\n                        float y0 = ((COSNumber) coords.get(1)).floatValue();\n                        float x1 = ((COSNumber) coords.get(2)).floatValue();\n                        float y1 = ((COSNumber) coords.get(3)).floatValue();\n</code></pre>\n<p>The obtained x0, x1, y0, y1 do not seem to be the real first and last coordinates of the gradient shape in PDF. How can I calculate to get the real coordinates?</p>\n<p>My gradient shape is a vertical gradient, but the two x values I get are the different. Shouldn't the x value remain unchanged while the y value changes?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}