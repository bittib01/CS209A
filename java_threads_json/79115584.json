{
  "question": {
    "tags": [
      "java",
      "debugging",
      "editor",
      "neovim"
    ],
    "owner": {
      "account_id": 11051976,
      "reputation": 471,
      "user_id": 8116088,
      "user_type": "registered",
      "accept_rate": 25,
      "profile_image": "https://www.gravatar.com/avatar/36724518fea7f8a114e4bf507e57de0d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Andrew",
      "link": "https://stackoverflow.com/users/8116088/andrew"
    },
    "is_answered": true,
    "view_count": 542,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1730133044,
    "creation_date": 1729627443,
    "last_edit_date": 1729706666,
    "question_id": 79115584,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79115584/debugging-java-in-vim-nvim",
    "title": "Debugging java in vim/nvim",
    "body": "<p>I'm working up a Neovim-based <a href=\"https://spacevim.org/layers/lang/java/\" rel=\"nofollow noreferrer\">IDE for Java</a> anchored around a <a href=\"https://spacevim.org/use-vim-as-ide/\" rel=\"nofollow noreferrer\">SpaceVim</a> installation. It's taken quite a journey to get everything configured appropriately but I'm almost there. The JDTLS language server is configured and working. When I open a java file, I get all the expected goodies including live autocomplete and syntax checking.</p>\n<p>My current problem has to do with the debugger. SpaceVim has the &quot;debug&quot; layer enabled and I'd like to use &quot;vimspector&quot; as the debug plugin so that's been configured in <strong>~/.SpaceVim.d/init.toml</strong>. I've run <code>:VimspectorInstall vscode-java-debug</code> from within Neovim and it appears to have installed the specified gadget correctly. I have a Java application I'm using for testing created with <a href=\"https://maven.apache.org\" rel=\"nofollow noreferrer\">Apache Maven</a> as follows:</p>\n<pre><code>mvn archetype:generate  -DgroupId=my.test.app \\\n -DartifactId=hello \\\n -DarchetypeArtifactId=maven-archetype-quickstart \\\n -DinteractiveMode=false\n</code></pre>\n<p>In the root of that application directory I have the following <strong>.vimspector.json</strong> file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;configurations&quot;: {\n    &quot;Java Attach&quot;: {\n      &quot;adapter&quot;: &quot;vscode-java&quot;,\n      &quot;filetypes&quot;: [ &quot;java&quot; ],\n      &quot;configuration&quot;: {\n        &quot;request&quot;: &quot;attach&quot;,\n        &quot;hostName&quot;: &quot;localhost&quot;,\n        &quot;port&quot;: &quot;${port}&quot;,\n        &quot;sourcePaths&quot;: [\n          &quot;${workspaceRoot}/src/main/java&quot;,\n          &quot;${workspaceRoot}/src/test/java&quot;\n        ]\n      }\n    }\n  }\n}\n</code></pre>\n<p>With a java source file open, trying to launch the debugger ([SPC] d c), I'm prompted for a port number. This is logical since I didn't specify one in the config file above. And here is where I'm stuck. Somehow, based on my configuration, nvim &quot;knows&quot; how to communicate with the jdtls server whenever a java file is loaded, for the purposes of syntax and formatting. I know that's working because if it weren't I wouldn't get the live syntax checking etc. But Vimspector doesn't seem to be able to do the same natively. I suspect it has something to do with the .vimspector.json file above, which is probably not quite right for my installation. Assuming it's a port issue, I can see what port it's listening on with a <code>netstat -lnt</code>. But the port number changes every time. Furthermore, while looking it up and keying it in does allow the debugger to launch, there are errors. So I'm missing something somewhere. Any direction toward a working solution is much appreciated.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}