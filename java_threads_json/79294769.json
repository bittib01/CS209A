{
  "question": {
    "tags": [
      "java",
      "dll",
      "java-native-interface"
    ],
    "owner": {
      "account_id": 38592704,
      "reputation": 1,
      "user_id": 28853269,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/1399087d217b85aaf771da7da16c4fbe?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "aniceempanada",
      "link": "https://stackoverflow.com/users/28853269/aniceempanada"
    },
    "is_answered": false,
    "view_count": 79,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1738716781,
    "creation_date": 1734621605,
    "last_edit_date": 1738716781,
    "question_id": 79294769,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79294769/is-there-a-way-to-ensure-system-loadlibrary-loads-dependent-dlls-from-the-same-d",
    "title": "Is there a way to ensure System.loadLibrary loads dependent DLLs from the same directory as the primary loaded DLL",
    "body": "<p>I am working in Java on Windows OS. I’m using System.loadLibrary to load called A.dll, which exposes some JNI functions. A.dll depends on B.dll. I put A.dll and B.dll on a repo, told my colleague to pull the repo, then add the directory of the checked out repo to their PATH environment variable. The setup I have works on my machine, but my colleague gets <code>UnsatisfiedLinkError: The OS cannot run %1. </code></p>\n<p>My colleague resolved the issue by putting the directory they checked out first in their PATH environment variable, which implies they had a n incompatible version of B.dll elsewhere on their PATH environment variable. Not entirely thrilled by this solution and would like to remove the dependence of the ordering of the path environment variable. Can I ensure that Java will load B.dll from the checked out directory, as opposed to elsewhere. I’m aware you can use System.load() as well and specify a directory, but was wondering if there was another way, since afaik you would have to individually load all dependent libraries this way.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}