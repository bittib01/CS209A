{
  "question": {
    "tags": [
      "java",
      "avro"
    ],
    "owner": {
      "account_id": 35620455,
      "reputation": 23,
      "user_id": 27310840,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/29d835a74dcd5192976712a6320d1877?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "John Bubbles",
      "link": "https://stackoverflow.com/users/27310840/john-bubbles"
    },
    "is_answered": false,
    "view_count": 634,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1735800551,
    "creation_date": 1726301090,
    "last_edit_date": 1735800551,
    "question_id": 78984601,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78984601/avro-1-12-0-no-longer-allows-nested-record-redefining",
    "title": "Avro 1.12.0 no longer allows nested record redefining",
    "body": "<p>If I have two avsc files the plugin would create different objects for records until 1.12.0. But since this version avro plugin throws Can't redefine error in ParseContext.java.</p>\n<p>1st schema:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;MessageKey&quot;,\n  &quot;namespace&quot;: &quot;com.example.domain&quot;,\n  &quot;doc&quot;: &quot;Kafka message key.&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;id&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;string&quot;,\n        &quot;avro.java.string&quot;: &quot;String&quot;\n      },\n      &quot;doc&quot;: &quot;The ID.&quot;\n    },\n    {\n      &quot;name&quot;: &quot;provenance&quot;,\n      &quot;type&quot;: {\n        &quot;name&quot;: &quot;Provenance&quot;,\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;orderId&quot;,\n            &quot;type&quot;: &quot;boolean&quot;\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>2nd schema:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Programme&quot;,\n  &quot;namespace&quot;: &quot;com.example.domain&quot;,\n  &quot;doc&quot;: &quot;A Programme.&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;id&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;string&quot;,\n        &quot;avro.java.string&quot;: &quot;String&quot;\n      },\n      &quot;doc&quot;: &quot;The id of the programme.&quot;\n    },\n    {\n      &quot;name&quot;: &quot;provenance&quot;,\n      &quot;type&quot;: {\n        &quot;name&quot;: &quot;Provenance&quot;,\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;orderId&quot;,\n            &quot;type&quot;: &quot;boolean&quot;\n          }\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Tried debugging, found that ParseContext throws &quot;Can't redefine: &quot; error in line 219. It checks visited objects, whether the same named schema's structure is the same.</p>\n<p>Already visited and expected object that it's comparing is\n<code>{&quot;name&quot;:&quot;Provenance&quot;,&quot;type&quot;:&quot;record&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;orderId&quot;,&quot;type&quot;:&quot;boolean&quot;}]}</code>,\nbut then the same object is found a second time and it differs for some reason:\n<code>{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;Provenance&quot;,&quot;namespace&quot;:&quot;com.example.domain&quot;}</code></p>\n<p>EDIT: Looks to be a known issue and I found it among the backlog - <a href=\"https://issues.apache.org/jira/plugins/servlet/mobile#issue/AVRO-4076\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/plugins/servlet/mobile#issue/AVRO-4076</a></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}