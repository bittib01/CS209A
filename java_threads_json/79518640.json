{
  "question": {
    "tags": [
      "java",
      "javafx",
      "java-module",
      "jlink",
      "jdeps"
    ],
    "owner": {
      "account_id": 29979554,
      "reputation": 79,
      "user_id": 22974866,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/vllUn.jpg?s=256",
      "display_name": "Dimnik",
      "link": "https://stackoverflow.com/users/22974866/dimnik"
    },
    "is_answered": true,
    "view_count": 305,
    "accepted_answer_id": 79524842,
    "answer_count": 3,
    "score": 0,
    "last_activity_date": 1742544264,
    "creation_date": 1742331787,
    "question_id": 79518640,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79518640/problems-with-jlinking-javafx-modules-to-make-stand-alone-aplication",
    "title": "Problems with jlinking javafx modules to make stand alone aplication",
    "body": "<p>You can checkout my whole project on <a href=\"https://github.com/hampter-o7/match_three_solver\" rel=\"nofollow noreferrer\">github</a>. I currently don't use any dependency managers in my projects and I would like to keep it that way. I am using a <a href=\"https://github.com/hampter-o7/match-three-image-grid-detection\" rel=\"nofollow noreferrer\">library</a> that I made in java and I am using javaFX for GUI. As the title states I want to make my app a standalone app so someone can run it without having java installed.</p>\n<p>I make my jar file like this in VSCode:\n<a href=\"https://i.sstatic.net/Jpzddw82.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Jpzddw82.png\" alt=\"enter image description here\" /></a></p>\n<p>And after this I can run my application with .jar file with this command:</p>\n<pre><code>java --module-path %JAVAFX% --add-modules=javafx.controls,javafx.fxml -jar match_three_solver.jar\n</code></pre>\n<p>So I try to run this command <code>jdeps -s --module-path %JAVAFX% match_three_solver.jar</code> to check which packages I have to include in my jlink command and it returns me this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.module.FindException: Error reading module: match_three_solver.jar\n        at java.base/jdk.internal.module.ModulePath.readModule(ModulePath.java:351)\n        at java.base/jdk.internal.module.ModulePath.scan(ModulePath.java:238)\n        at java.base/jdk.internal.module.ModulePath.scanNextEntry(ModulePath.java:191)\n        at java.base/jdk.internal.module.ModulePath.findAll(ModulePath.java:167)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:521)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:607)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:561)\n        at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:537)\n        at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:50)\nCaused by: java.lang.module.InvalidModuleDescriptorException: Main.class found in top-level directory (unnamed package not allowed in module)\n        at java.base/jdk.internal.module.ModulePath.toPackageName(ModulePath.java:720)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n        at java.base/java.util.zip.ZipFile$EntrySpliterator.tryAdvance(ZipFile.java:573)\n        at java.base/java.util.Spliterator.forEachRemaining(Spliterator.java:332)\n        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n        at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n        at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n        at java.base/jdk.internal.module.ModulePath.jarPackages(ModulePath.java:621)\n        at java.base/jdk.internal.module.ModulePath.lambda$readJar$6(ModulePath.java:653)\n        at java.base/jdk.internal.module.ModuleInfo.doRead(ModuleInfo.java:311)\n        at java.base/jdk.internal.module.ModuleInfo.read(ModuleInfo.java:129)\n        at java.base/jdk.internal.module.ModulePath.readJar(ModulePath.java:652)\n        at java.base/jdk.internal.module.ModulePath.readModule(ModulePath.java:332)\n        ... 8 more\n</code></pre>\n<p>If I understand this correctly (I don't know really what I am doing cuz I'm doing this for the first time)... I have a non-modular <code>.jar</code> file so I can't use <code>jdeps</code>. If I want to use <code>jdeps</code> command I have to have <code>module-info.java</code> in my project. My issue is that wherever I create <code>module-info.java</code> file... the compiler starts screaming errors and it also doesn't recognize <code>javafx</code> modules:\n<a href=\"https://i.sstatic.net/j0hGSwFd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/j0hGSwFd.png\" alt=\"enter image description here\" /></a></p>\n<p>So if you have any idea how to fix this (if I have to completely restructure the current folder to make it work) please let me know. Also what is the point that I can't use <code>jdeps</code> without my <code>.jar</code> file being a modular.</p>\n<p>Also I tired to just make my standalone app with this command</p>\n<pre><code>jlink --module-path ../jmods;lib/javaFX/lib \n--add-modules javafx.base,javafx.controls,javafx.fxml,javafx.graphics,javafx.media,javafx.web \n--output jreFX2\n</code></pre>\n<p>and run it like this (in its standalone environment) <code>jreFX2\\bin\\java -jar match_three_solver.jar</code>... And it gives me this error:</p>\n<pre><code>Graphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@21.0.2/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(QuantumRenderer.java:283)\n        at javafx.graphics@21.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.init(QuantumToolkit.java:253)\n        at javafx.graphics@21.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:263)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@21.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(QuantumRenderer.java:95)\n        at javafx.graphics@21.0.2/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(QuantumRenderer.java:125)\n        at java.base/java.lang.Thread.run(Thread.java:1583)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:580)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1135)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics@21.0.2/com.sun.javafx.tk.Toolkit.getToolkit(Toolkit.java:275)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:290)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:162)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:651)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:409)\n        at javafx.graphics@21.0.2/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)\n        ... 2 more\n</code></pre>\n<p>Any help would be greatly appreciated. Thanks in advance.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}