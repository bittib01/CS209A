{
  "question": {
    "tags": [
      "java",
      "maven",
      "exec-maven-plugin",
      "pkl"
    ],
    "owner": {
      "account_id": 14308933,
      "reputation": 157,
      "user_id": 10335908,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/e1de53f5a4a0825a2054f5477280571d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Ot&#225;vio Vasques",
      "link": "https://stackoverflow.com/users/10335908/ot%c3%a1vio-vasques"
    },
    "is_answered": false,
    "view_count": 134,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1739304785,
    "creation_date": 1730905410,
    "question_id": 79163171,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79163171/how-to-use-pkl-configuration-and-maven",
    "title": "How to use Pkl configuration and Maven?",
    "body": "<p>I am building a Java project and would like to use the <a href=\"https://pkl-lang.org/index.html\" rel=\"nofollow noreferrer\">Pkl</a> configuration tool. I planned to use the generated Java code from Pkl and use it inside my project as regular classes. Also, I am using Maven. I came across the exec-maven-plugin to run the Pkl jar and generate Java code for me but I can't configure it properly.</p>\n<p>My plugin configuration from my pom.xml file looks like this:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;org.pkl.codegen.java.Main&lt;/mainClass&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-o&lt;/argument&gt;\n                        &lt;argument&gt;generated&lt;/argument&gt;\n                        &lt;argument&gt;src/main/resources/config/ApplicationConfig.pkl&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.pkl-lang&lt;/groupId&gt;\n                        &lt;artifactId&gt;pkl-tools&lt;/artifactId&gt;\n                        &lt;version&gt;0.27.0&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n\n            &lt;/plugin&gt;\n</code></pre>\n<p>But when I run my tests they throw this error:</p>\n<pre><code>Caused by: org.apache.maven.plugin.MojoExecutionException: An exception occurred while executing the Java class. org.pkl.codegen.java.Main\n</code></pre>\n<p>Interestingly using Java on the command line works fine:</p>\n<pre><code>$ java -cp ~/.m2/repository/org/pkl-lang/pkl-tools/0.27.0/pkl-tools-0.27.0.jar org.pkl.codegen.java.Main -o generated src/main/resources/config/ApplicationConfig.pkl\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}