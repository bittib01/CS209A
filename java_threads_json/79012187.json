{
  "question": {
    "tags": [
      "java",
      "multithreading",
      "collections"
    ],
    "owner": {
      "account_id": 11459789,
      "reputation": 53,
      "user_id": 8399763,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/9961b7053ce9a357c1fb48b472873b13?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Meriem",
      "link": "https://stackoverflow.com/users/8399763/meriem"
    },
    "is_answered": true,
    "view_count": 124,
    "accepted_answer_id": 79013089,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1727062995,
    "creation_date": 1727025891,
    "last_edit_date": 1727026534,
    "question_id": 79012187,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79012187/how-to-find-a-thread-safe-collection-in-java-that-enforces-both-uniqueness-and-s",
    "title": "How to find a thread-safe collection in Java that enforces both uniqueness and size limits on insertion?",
    "body": "<p>I’m looking for a thread-safe collection in Java that:</p>\n<ol>\n<li>Enforces uniqueness of elements (like a Set).</li>\n<li>Limits the size of the collection (rejects further insertions once the limit is reached).</li>\n<li>Does this natively by default (without needing custom logic or wrapping another collection).</li>\n</ol>\n<p>So far, I’ve considered:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListSet</code></a> for uniqueness, but it doesn’t have a size limit.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a> for size control, but it doesn’t enforce uniqueness.</li>\n<li>Custom implementations using ConcurrentHashMap.newKeySet() for uniqueness and manually managing size.</li>\n</ol>\n<p>Is there a standard Java <strong>thread-safe</strong> collection that provides both features (uniqueness and size limitation) without needing custom handling? Or do I need to implement my own solution?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}