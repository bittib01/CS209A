{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "model-context-protocol"
    ],
    "owner": {
      "account_id": 7169608,
      "reputation": 345,
      "user_id": 5477548,
      "user_type": "registered",
      "accept_rate": 75,
      "profile_image": "https://lh3.googleusercontent.com/-u_GWgGl3A68/AAAAAAAAAAI/AAAAAAAAAF4/GqN9bcsoapY/s256-rj/photo.jpg",
      "display_name": "yoad w",
      "link": "https://stackoverflow.com/users/5477548/yoad-w"
    },
    "is_answered": true,
    "view_count": 1112,
    "answer_count": 3,
    "score": 1,
    "last_activity_date": 1747185689,
    "creation_date": 1745229596,
    "last_edit_date": 1745250381,
    "question_id": 79584390,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79584390/debugging-mcp-server",
    "title": "Debugging MCP server",
    "body": "<p>This seems pretty straight-forward: How do I debug an MCP server created via Spring AI's framework? I've seen several getting started tutorials, but none of them shows this part.</p>\n<p>What I want to achieve is to invoke a tool on my MCP server (either via @mcp/inspector or vscode agent mode) and be able to attach to the session.</p>\n<h2>Solution</h2>\n<p>Both answers below were helpful, but not as-is.</p>\n<h4>What Did Work</h4>\n<ol>\n<li>Applying the debug flags to vscode mcp server config:</li>\n</ol>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;mcp&quot;: { \n  &quot;servers&quot;: { \n    &quot;my-server&quot;: {\n      &quot;command&quot;: &quot;java&quot;,\n      &quot;args&quot;: [&quot;-jar&quot;, &quot;&lt;path/to/jar&gt;&quot;],\n      &quot;env&quot;: { &quot;JAVA_TOOL_OPTIONS&quot;:&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\n    }\n  }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Creating a Remote JVM Debug configuration on IntelliJ with port 5005</li>\n<li>Run via vscode agent</li>\n</ol>\n<ul>\n<li>For some reason, repeating this on <code>@mcp/inspector</code> with the same debug flags set as environment variables in the UI didn't hit the breakpoints (even though the tools themselves worked and responded properly)</li>\n</ul>\n<h4>What didn't Work</h4>\n<ol>\n<li>I could not find the proposed packages for <code>@McpInspector</code> or <code>@McpTool</code> (Did you mean <code>spring.ai.tool.annotation.Tool</code>?)</li>\n<li>The suggestion to run my application did not help - in its most default setup, with property <code>spring.main.web-application-type=none</code>, no breakpoint is hit when using either vscode agent mode or <code>npx @mcp/inspector</code></li>\n</ol>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}