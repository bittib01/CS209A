{
  "question": {
    "tags": [
      "javascript",
      "java",
      "vaadin"
    ],
    "owner": {
      "account_id": 30573283,
      "reputation": 133,
      "user_id": 23434446,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/zE0vv.jpg?s=256",
      "display_name": "dragoness",
      "link": "https://stackoverflow.com/users/23434446/dragoness"
    },
    "is_answered": true,
    "view_count": 466,
    "answer_count": 2,
    "score": 3,
    "last_activity_date": 1750282430,
    "creation_date": 1748728225,
    "last_edit_date": 1750282430,
    "question_id": 79647021,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79647021/how-to-use-javascript-to-build-a-simple-new-component-in-java-for-vaadin",
    "title": "How to use JavaScript to build a simple new Component in Java for Vaadin",
    "body": "<p>I worked with Vaadin before but could not figure out how to build my own Vaadin components with JavaScript from scratch. Then I did some work with Perl, Mojolicious, JavaScript, HTML and building my HTML+JavaScript components worked like a charm.</p>\n<p>Now I am back to Vaadin 24.7.6, Java 21, Maven, and JavaScript.</p>\n<p>I downloaded a Vaadin+Springboot example project an am trying to add JavaScript to it. I followed a Vaadin tutorial but I keep getting an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.vaadin.flow.component.Component;\nimport com.vaadin.flow.component.Tag;\nimport com.vaadin.flow.component.dependency.JavaScript;\nimport com.vaadin.flow.component.dependency.JsModule;\nimport com.vaadin.flow.dom.Element;\n\n//@JavaScript(&quot;keyboard-german.js&quot;)\n//@Tag(&quot;cerebrummi_keyboard&quot;)\n//@JsModule(&quot;keyboard-german.js&quot;)\npublic abstract class Keyboard extends Component {\n   private static final long serialVersionUID = -4476014165075742457L;\n\n   public Keyboard() {}\n\n   public Keyboard(Element element) {\n      super(element);\n   }\n}\n</code></pre>\n<p>Each of the tags results in the same error:</p>\n<blockquote>\n<p>error during build: [31m[vite]: Rollup failed to resolve import\n&quot;keyboard-german.js&quot; from\n&quot;C:/Users/.../generated-flow-imports.js&quot;.\nThis is most likely unintended because it can break your application\nat runtime. If you do want to externalize this module explicitly add\nit to 'build.rollupOptions.external'</p>\n</blockquote>\n<p>Where do I find 'build.rollupOptions.external'? I searched the web, but could not find an answer.</p>\n<p>The JavaScript file is just simple right now:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script type=&quot;module&quot;&gt;\nexport var cerebrummi_keyboard = &quot;This will become the keyboard&quot;;\n&lt;/script&gt;\n</code></pre>\n<p>The .js file was at first next to the Keyboard.java file. Later I moved it to the root of the project. I also changed <code>vite.config.ts</code> but could not find a solution, though reading in the vite handbook online.</p>\n<hr />\n<h2>Update</h2>\n<p>How to make Vaadin and JavaScript, HTML interact? It is not just about where to place the JavaScript file. How must the JavaScript file look like, which tags to use in Vaadin?</p>\n<h2>Update 2</h2>\n<p>The reason I am asking this question is that I would like to create new Vaadin components for others and me to use, like a keyboard with Hebrew characters.</p>\n<p>I did so in Java Swing to create the vocabulary trainer &quot;Cerebrummi&quot; (freeware) and am thinking about coding a web app with a similar design. You can see screenshots of Cerebrummi including the keyboard at:</p>\n<p><a href=\"https://www.heise.de/download/product/cerebrummi5_0\" rel=\"nofollow noreferrer\">screenshots of what I want to create</a></p>\n<h2>Update 3</h2>\n<p>Thank you, I got it right now, where to place the JavaScript file and use a tag to include it.</p>\n<p>Also, I have been looking at the link to GitHub with the examples and picked the spinwheel example. Unfortunately the example uses a library and is quite complex. Would it be possible to add an example without using a library and just creating a simple HTML button with JS click handler as a new Vaadin component. (I know there are buttons in Vaadin, but I want to learn how to do one myself.)</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}