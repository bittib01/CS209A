{
  "question": {
    "tags": [
      "java",
      "android",
      "firebase",
      "firebase-realtime-database",
      "android-recyclerview"
    ],
    "owner": {
      "account_id": 13493328,
      "reputation": 23,
      "user_id": 9734870,
      "user_type": "registered",
      "profile_image": "https://lh5.googleusercontent.com/-9kkOT3I6VII/AAAAAAAAAAI/AAAAAAAAE5o/0x0D3o8OX4w/s256-rj/photo.jpg",
      "display_name": "Safiyulla Mona",
      "link": "https://stackoverflow.com/users/9734870/safiyulla-mona"
    },
    "is_answered": true,
    "view_count": 112,
    "accepted_answer_id": 79453632,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1740080602,
    "creation_date": 1739961679,
    "last_edit_date": 1740041153,
    "question_id": 79451035,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79451035/firebase-database-user-submitted-posts-retrieve-to-android-recycler-view-in-date",
    "title": "firebase database user submitted posts retrieve to android recycler view in date wise",
    "body": "<p>This is my <code>HomeView</code> Fragment Activity</p>\n<pre><code>public class HomeView extends Fragment {\n\nprivate View view;\nprivate RecyclerView recentPosts;\n\nprivate DatabaseReference donor_ref;\nFirebaseAuth mAuth;\nprivate BloodRequestAdapter restAdapter;\nprivate List&lt;CustomUserData&gt; postLists;\nprivate ProgressDialog pd;\n\npublic HomeView() {\n\n}\n\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n\n\n\n    view = inflater.inflate(R.layout.home_view_fragment, container, false);\n    recentPosts = (RecyclerView) view.findViewById(R.id.recyleposts);\n\n    recentPosts.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    donor_ref = FirebaseDatabase.getInstance().getReference();\n    postLists = new ArrayList&lt;&gt;();\n\n\n\n\n    pd = new ProgressDialog(getActivity());\n    pd.setMessage(&quot;Loading...&quot;);\n    pd.setCancelable(true);\n    pd.setCanceledOnTouchOutside(false);\n\n    mAuth = FirebaseAuth.getInstance();\n    getActivity().setTitle(&quot;Blood Lak&quot;);\n    restAdapter = new BloodRequestAdapter(postLists);\n    RecyclerView.LayoutManager pmLayout = new LinearLayoutManager(getContext());\n    recentPosts.setLayoutManager(pmLayout);\n    recentPosts.setItemAnimator(new DefaultItemAnimator());\n    recentPosts.addItemDecoration(new DividerItemDecoration(getActivity(), LinearLayoutManager.VERTICAL));\n    recentPosts.setAdapter(restAdapter);\n\n    LinearLayoutManager mLayoutManager = new LinearLayoutManager(getContext());\n    mLayoutManager.setReverseLayout(true);\n    mLayoutManager.setStackFromEnd(true);\n    recentPosts.setLayoutManager(mLayoutManager);\n\n\n    AddPosts();\n    return view;\n\n\n}\nprivate void AddPosts()\n{\n    Query allposts = donor_ref.child(&quot;posts&quot;);\n    \n    pd.show();\n    allposts.addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n            if(dataSnapshot.exists()) {\n\n                for (DataSnapshot singlepost : dataSnapshot.getChildren()) {\n                    CustomUserData customUserData = singlepost.getValue(CustomUserData.class);\n                    postLists.add(customUserData);\n                    restAdapter.notifyDataSetChanged();\n                }\n                pd.dismiss();\n            }\n            else\n            {\n                Toast.makeText(getActivity(), &quot;No Blood Request Found!&quot;,\n                        Toast.LENGTH_LONG).show();\n            }\n            pd.dismiss();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            Log.d(&quot;User&quot;, databaseError.getMessage());\n\n        }\n    });\n\n}\n\n\n\n@Override\npublic void onResume() {\n    super.onResume();\n}\n\n@Override\npublic void onStop() {\n    super.onStop();\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n}\n</code></pre>\n<p>}</p>\n<p>This is my <code>RecyclerView</code> Adapter. I need to sort user posts into date-wise in recycler view in Android Studio, which means newest to oldest based on date and time. I created a database using Firebase. My present problem is I sorted posts using the ReverseLayout(true) function but some posts are not sorted from newest to oldest because of user submitted a post to the Firebase database posts nodes are shuffled when the user submits a new post, not the newest to oldest this issue still in firebase database.</p>\n<pre><code>public class BloodRequestAdapter extends RecyclerView.Adapter&lt;BloodRequestAdapter.PostHolder&gt; {\n\n\nprivate List&lt;CustomUserData&gt; postLists;\n\npublic class PostHolder extends RecyclerView.ViewHolder {\n    TextView Name, bloodgroup, Address, contact, posted;\n\n\n    public PostHolder(@NonNull View itemView) {\n        super(itemView);\n\n        Name = itemView.findViewById(R.id.reqstUser);\n        contact = itemView.findViewById(R.id.targetCN);\n        bloodgroup = itemView.findViewById(R.id.targetBG);\n        Address = itemView.findViewById(R.id.reqstLocation);\n        posted = itemView.findViewById(R.id.posted);\n\n    }\n}\n\npublic BloodRequestAdapter(List&lt;CustomUserData&gt; postLists)\n{\n    this.postLists = postLists;\n}\n\n@Override\npublic PostHolder onCreateViewHolder(ViewGroup viewGroup, int i) {\n\n    View listitem = LayoutInflater.from(viewGroup.getContext())\n            .inflate(R.layout.request_list_item, viewGroup, false);\n\n    return new PostHolder(listitem);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull PostHolder postHolder, final int i ) {\n\n\n    if(i%2==0)\n    {\n        postHolder.itemView.setBackgroundColor(Color.parseColor(&quot;#C13F31&quot;));\n    }\n    else\n    {\n        postHolder.itemView.setBackgroundColor(Color.parseColor(&quot;#FFFFFF&quot;));\n    }\n    /***postHolder.delete.setOnClickListener(new View.OnClickListener() {\n\n        String uid;\n        FirebaseAuth mAuth;\n        @Override\n        public void onClick(View v) {\n            mAuth = FirebaseAuth.getInstance();\n            FirebaseUser cur_user = FirebaseAuth.getInstance().getCurrentUser();\n            uid = cur_user.getUid();\n\n            FirebaseDatabase.getInstance().getReference()\n                    .child(&quot;posts&quot;)\n                    .child(mAuth.getCurrentUser().getUid())\n                    .removeValue()\n                    .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n\n                        }\n                    });\n        }\n    }); ***/\n\n    CustomUserData customUserData = postLists.get(i);\n    postHolder.Name.setText(&quot;Posted by: &quot;+customUserData.getName());\n    postHolder.Address.setText(&quot;To: &quot;+customUserData.getAddress()+&quot;, &quot;+customUserData.getDivision());\n    postHolder.bloodgroup.setText(&quot;Needs &quot;+customUserData.getBloodGroup());\n    postHolder.posted.setText(&quot;Posted on:&quot;+customUserData.getTime()+&quot;, &quot;+customUserData.getDate());\n    postHolder.contact.setText(customUserData.getContact());\n\n}\n\n@Override\npublic int getItemCount() {\n    return postLists.size();\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.sstatic.net/z1wtMO65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/z1wtMO65.png\" alt=\"This is my firebase database\" /></a></p>\n<p>This is my CustomeUserData Class</p>\n<pre><code>public class CustomUserData implements Serializable {\n\nprivate String Address, Division, Contact;\n\nprivate String Name, BloodGroup;\nprivate String Time, Date;\npublic CustomUserData() {\n\n}\npublic CustomUserData(String address, String division, String contact, String name, String bloodGroup, String time, String date) {\n    Address = address;\n    Division = division;\n    Contact = contact;\n    Name = name;\n    BloodGroup = bloodGroup;\n    Time = time;\n    Date = date;\n}\npublic String getAddress() {\n    return Address;\n}\n\npublic void setAddress(String address) {\n    this.Address = address;\n}\n\npublic String getDivision() {\n    return Division;\n}\n\npublic void setDivision(String division) {\n    this.Division = division;\n}\n\npublic String getContact() {\n    return Contact;\n}\n\npublic void setContact(String contact) {\n    this.Contact = contact;\n}\n\npublic String getName() {\n    return Name;\n}\n\npublic void setName(String name) {\n   this.Name = name;\n}\n\npublic String getBloodGroup() {\n    return BloodGroup;\n}\n\npublic void setBloodGroup(String bloodGroup) {\n    this.BloodGroup = bloodGroup;\n}\n\npublic String getTime() {\n    return Time;\n}\n\npublic void setTime(String time) {\n    this.Time = time;\n}\n\npublic String getDate() {\n    return Date;\n}\n\npublic void setDate(String date) {\n    this.Date = date;\n}\n</code></pre>\n<p>}</p>\n<p>This is my App side, i have used this methord called <code>.setReverseLayout(true);         mLayoutManager.setStackFromEnd(true);</code> not working\nCheck my app side and firebase database\n<a href=\"https://i.sstatic.net/8MvKOsTK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/8MvKOsTK.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.sstatic.net/jtiRUG6F.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/jtiRUG6F.jpg\" alt=\"enter image description here\" /></a></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}