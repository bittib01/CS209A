{
  "question": {
    "tags": [
      "java",
      "animation",
      "javafx"
    ],
    "owner": {
      "account_id": 38270054,
      "reputation": 11,
      "user_id": 28686133,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/2d0b18dda7ff8b68a9854af04b5b4e22?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Tim Weiss",
      "link": "https://stackoverflow.com/users/28686133/tim-weiss"
    },
    "is_answered": true,
    "view_count": 77,
    "closed_date": 1747929328,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1747926555,
    "creation_date": 1747835953,
    "last_edit_date": 1747926036,
    "question_id": 79632152,
    "link": "https://stackoverflow.com/questions/79632152/how-can-i-fix-my-loading-animation-in-javafx",
    "closed_reason": "Not suitable for this site",
    "title": "How can I fix my loading Animation in JavaFX?",
    "body": "<p>How can I fix my loading Animation in Java FX that goes up to a certain point but then suddenly refreshes mid-way. Below is my code:</p>\n<pre><code>package com.example.messengerappfx.util;\n\nimport javafx.animation.AnimationTimer;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\n\npublic class LoadingAnimation {\n\n    private final HBox container = new HBox(5);\n    private final Circle[] dots = new Circle[3];\n    private AnimationTimer timer;\n    private long animationDuration;\n    private long pauseDuration;\n    private double amplitude = 10;\n    private long startTime;\n\n    public LoadingAnimation(long animationDuration, long pauseDuration) {\n        this.animationDuration = animationDuration;\n        this.pauseDuration = pauseDuration;\n\n        initializeDots();\n        createAnimationTimer();\n    }\n\n    private void initializeDots() {\n        for (int i = 0; i &lt; dots.length; i++) {\n            Circle dot = new Circle(4, Color.LIGHTGRAY);\n            dots[i] = dot;\n            container.getChildren().add(dot);\n        }\n    }\n\n    private void createAnimationTimer() {\n        timer = new AnimationTimer() {\n            @Override\n            public void handle(long now) {\n                if (startTime == 0) startTime = System.nanoTime();\n\n                long elapsed = (now - startTime) / 1_000_000;\n                long totalCycleDuration = animationDuration + pauseDuration;\n                long currentCycleTime = elapsed % totalCycleDuration;\n\n                animateDots(currentCycleTime);\n            }\n        };\n    }\n\n    private void animateDots(long currentCycleTime) {\n        if (currentCycleTime &lt; animationDuration) {\n            for (int i = 0; i &lt; dots.length; i++) {\n                double delay = i * (animationDuration / 3.0);\n                double phase = Math.max(0, Math.min(1, (currentCycleTime - delay) / (double)animationDuration));\n                dots[i].setTranslateY(-amplitude * Math.sin(phase * Math.PI));\n            }\n        } else {\n            resetDots();\n        }\n    }\n\n    private void resetDots() {\n        for (Circle dot : dots) {\n            dot.setTranslateY(0);\n        }\n    }\n\n    public void start() {\n        startTime = 0;\n        timer.start();\n    }\n\n    public void stop() {\n        timer.stop();\n    }\n\n    public HBox getNode() {\n        return container;\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}