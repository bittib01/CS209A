{
  "question": {
    "tags": [
      "java",
      "mocking",
      "jetty"
    ],
    "owner": {
      "account_id": 184786,
      "reputation": 22284,
      "user_id": 421049,
      "user_type": "registered",
      "accept_rate": 50,
      "profile_image": "https://www.gravatar.com/avatar/4b9b843fe8e233b2f70e0f2a8e7db4e8?s=256&d=identicon&r=PG",
      "display_name": "Garret Wilson",
      "link": "https://stackoverflow.com/users/421049/garret-wilson"
    },
    "is_answered": false,
    "view_count": 115,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1746159571,
    "creation_date": 1744815119,
    "last_edit_date": 1745107983,
    "question_id": 79577469,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79577469/mocking-an-embedded-jetty-server-request-with-test-body-content",
    "title": "Mocking an embedded Jetty server request with test body content",
    "body": "<p>I'm using the delightful Jetty <code>org.eclipse.jetty:jetty-server:12.0.18</code> for an embedded HTTP server (not using Java EE servlets). Jetty passes an <code>org.eclipse.jetty.server.Request</code> to a custom handler, and I want to test a handler by passing a mock request to itâ€”in particular a request that sends test data in the request content body.</p>\n<p>Jetty requests pass content using <code>Content.Chunk</code>, as a <code>Request</code> interface extends <code>Content.Source</code>. <code>Request.read()</code>, for example, would send back another chunk. You can see the pattern for reading from a <code>Content.Source</code> such as a <code>Request</code> at the <a href=\"https://jetty.org/docs/jetty/12/programming-guide/arch/io.html#content-source\" rel=\"nofollow noreferrer\"><code>Content.Source</code> documentation</a>.</p>\n<p><code>Content.Source</code> provides convenient factory methods for reading from a source, e.g. <code>Content.Source.asInputStream(request)</code>. And <code>Content.Source</code> has convenient factory methods for creating a <code>Content.Source</code> from e.g. a <code>ByteBuffer</code>, but that creates just a <code>Content.Source</code>, not a <code>Request</code>.</p>\n<p>Does Jetty provide some convenient way to create a <code>Request</code> that passes back some preconfigured data for testing a handler? Or is there some easy way to mock <code>Request</code> e.g. using Mockito, using e.g. bytes or an existing stream, without going down to the low level of mocking <code>Request.read()</code> and providing test data in <code>Chunk</code> instances?</p>\n<p>Specifically I would like to create a unit test of a strategy method that extracts body content from the <code>Request</code>, not necessarily create an integration test of an entire handler. Thus I'd like to mock just the request body content.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}