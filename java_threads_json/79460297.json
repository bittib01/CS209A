{
  "question": {
    "tags": [
      "java",
      "initialization",
      "minecraft",
      "bukkit",
      "spigot"
    ],
    "owner": {
      "account_id": 40370096,
      "reputation": 1,
      "user_id": 29746584,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/7twvUueK.png?s=256",
      "display_name": "Andysepp",
      "link": "https://stackoverflow.com/users/29746584/andysepp"
    },
    "is_answered": true,
    "view_count": 70,
    "accepted_answer_id": 79471929,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1740642880,
    "creation_date": 1740257472,
    "last_edit_date": 1740557527,
    "question_id": 79460297,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79460297/why-does-a-local-test-server-initialize-my-plugin-twice",
    "title": "Why does a local test server initialize my plugin twice?",
    "body": "<p>I am developing a minecraft bukkit plugin. Whenever I want to test the plugin by starting a server, the following error appears:</p>\n<pre><code>[11:05:09 ERROR]: Error occurred while enabling JizzpowerpluginByAndysepp v0.1.1-indev (Is it up to date?)\njava.lang.IllegalArgumentException: Plugin already initialized!\n        at org.bukkit.plugin.java.PluginClassLoader.initialize(PluginClassLoader.java:281) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.PluginClassLoader.init(PluginClassLoader.java:153) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.JavaPlugin.&lt;init&gt;(JavaPlugin.java:57) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at jizzpowerpluginbyandysepp-0.1.1-indev.jar/ch.ksrminecraft.jizzpowerpluginByAndysepp.listeners.SilenceWarden.&lt;init&gt;(SilenceWarden.java:18) ~[jizzpowerpluginbyandysepp-0.1.1-indev.jar:?]\n        at jizzpowerpluginbyandysepp-0.1.1-indev.jar/ch.ksrminecraft.jizzpowerpluginByAndysepp.JizzpowerpluginByAndysepp.registerListeners(JizzpowerpluginByAndysepp.java:34) ~[jizzpowerpluginbyandysepp-0.1.1-indev.jar:?]\n        at jizzpowerpluginbyandysepp-0.1.1-indev.jar/ch.ksrminecraft.jizzpowerpluginByAndysepp.JizzpowerpluginByAndysepp.onEnable(JizzpowerpluginByAndysepp.java:18) ~[jizzpowerpluginbyandysepp-0.1.1-indev.jar:?]\n        at org.bukkit.plugin.java.JavaPlugin.setEnabled(JavaPlugin.java:284) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at io.papermc.paper.plugin.manager.PaperPluginInstanceManager.enablePlugin(PaperPluginInstanceManager.java:202) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at io.papermc.paper.plugin.manager.PaperPluginManagerImpl.enablePlugin(PaperPluginManagerImpl.java:109) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at org.bukkit.plugin.SimplePluginManager.enablePlugin(SimplePluginManager.java:520) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.craftbukkit.CraftServer.enablePlugin(CraftServer.java:657) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at org.bukkit.craftbukkit.CraftServer.enablePlugins(CraftServer.java:606) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at net.minecraft.server.MinecraftServer.loadWorld0(MinecraftServer.java:743) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at net.minecraft.server.MinecraftServer.loadLevel(MinecraftServer.java:488) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:322) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1163) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at net.minecraft.server.MinecraftServer.lambda$spin$2(MinecraftServer.java:310) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at java.base/java.lang.Thread.run(Thread.java:1583) ~[?:?]\nCaused by: java.lang.IllegalStateException: Initial initialization\n        at org.bukkit.plugin.java.PluginClassLoader.initialize(PluginClassLoader.java:284) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.PluginClassLoader.init(PluginClassLoader.java:153) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at org.bukkit.plugin.java.JavaPlugin.&lt;init&gt;(JavaPlugin.java:57) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at jizzpowerpluginbyandysepp-0.1.1-indev.jar/ch.ksrminecraft.jizzpowerpluginByAndysepp.JizzpowerpluginByAndysepp.&lt;init&gt;(JizzpowerpluginByAndysepp.java:12) ~[jizzpowerpluginbyandysepp-0.1.1-indev.jar:?]\n        at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[?:?]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[?:?]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[?:?]\n        at org.bukkit.plugin.java.PluginClassLoader.&lt;init&gt;(PluginClassLoader.java:98) ~[paper-api-1.21.4-R0.1-SNAPSHOT.jar:?]\n        at io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProvider.createInstance(SpigotPluginProvider.java:125) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProvider.createInstance(SpigotPluginProvider.java:35) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at io.papermc.paper.plugin.entrypoint.strategy.modern.ModernPluginLoadingStrategy.loadProviders(ModernPluginLoadingStrategy.java:116) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at io.papermc.paper.plugin.storage.SimpleProviderStorage.enter(SimpleProviderStorage.java:38) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at io.papermc.paper.plugin.entrypoint.LaunchEntryPointHandler.enter(LaunchEntryPointHandler.java:39) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at org.bukkit.craftbukkit.CraftServer.loadPlugins(CraftServer.java:563) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        at net.minecraft.server.dedicated.DedicatedServer.initServer(DedicatedServer.java:277) ~[paper-1.21.4.jar:1.21.4-164-8eb8e44]\n        ... 3 more\n</code></pre>\n<p>This means that my plugin is getting initialized twice, for whatever reason.</p>\n<p>I tried with both plugins which were packaged by maven (<em>original-jizzpowerpluginbyandysepp-0.1.1-indev.jar</em> and <em>jizzpowerpluginbyandysepp-0.1.1-indev.jar</em>) one at a time and made sure there were no duplicate plugins inside the plugin folder. Still, the problem persisted.</p>\n<p>I googled the problem and saw that someone had shown how to see where the problem occurred. The error caused by my plugin is like so:</p>\n<pre><code>java.lang.IllegalArgumentException: Plugin already initialized!\n</code></pre>\n<p>...</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Initial initialization\n</code></pre>\n<p>...</p>\n<pre><code>at jizzpowerpluginbyandysepp-0.1.1-indev.jar/ch.ksrminecraft.jizzpowerpluginByAndysepp.JizzpowerpluginByAndysepp.&lt;init&gt;(JizzpowerpluginByAndysepp.java:12) ~[jizzpowerpluginbyandysepp-0.1.1-indev.jar:?]\n</code></pre>\n<p>This means that the error comes from line 12 of my main class (JizzpowerpluginByAndysepp)\nMy main class looks like this:</p>\n<pre><code>package ch.ksrminecraft.jizzpowerpluginByAndysepp;\n\nimport org.bukkit.plugin.java.JavaPlugin;\nimport ch.ksrminecraft.jizzpowerpluginByAndysepp.commands.GUICommand;\nimport ch.ksrminecraft.jizzpowerpluginByAndysepp.commands.PlayerTroll;\nimport ch.ksrminecraft.jizzpowerpluginByAndysepp.listeners.SilenceWarden;\nimport ch.ksrminecraft.jizzpowerpluginByAndysepp.listeners.InventoryListener;\nimport ch.ksrminecraft.jizzpowerpluginByAndysepp.utils.TrollTabCompleter;\nimport ch.ksrminecraft.jizzpowerpluginByAndysepp.utils.ItemBuilder;\n\n\npublic final class JizzpowerpluginByAndysepp extends JavaPlugin { // &lt;-- line 12\n    @Override\n    public void onEnable() {\n        // Plugin startup logic\n        registerCommands();\n        registerListeners();\n\n    }\n\n    @Override\n    public void onDisable() {\n        // Plugin shutdown logic\n    }\n\n    private void registerCommands() { // registerCommands() is called in onEnable() to register the commands\n        getCommand(&quot;troll&quot;).setExecutor(new PlayerTroll(this));\n        getCommand(&quot;troll&quot;).setTabCompleter(new TrollTabCompleter(this));\n        getCommand(&quot;trollgui&quot;).setExecutor(new GUICommand(this));\n    }\n\n    private void registerListeners( ) { // registerListeners() is called in onEnable() to register the listeners\n        getServer().getPluginManager().registerEvents(new SilenceWarden(this), this);\n        getServer().getPluginManager().registerEvents(new InventoryListener(this), this);\n    }\n}\n</code></pre>\n<p>My interpretation is that something is wrong with the main class, but I can't see what.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}