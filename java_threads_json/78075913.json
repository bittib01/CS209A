{
  "question": {
    "tags": [
      "java",
      "maven",
      "log4j",
      "maven-dependency-plugin"
    ],
    "owner": {
      "account_id": 30650997,
      "reputation": 41,
      "user_id": 23497397,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/451b1f2bd25453324c438dc8e967bffe?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Nth Dimension",
      "link": "https://stackoverflow.com/users/23497397/nth-dimension"
    },
    "is_answered": true,
    "view_count": 942,
    "answer_count": 1,
    "score": 4,
    "last_activity_date": 1720532561,
    "creation_date": 1709136253,
    "last_edit_date": 1709136408,
    "question_id": 78075913,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78075913/how-to-prevent-maven-dependency-plugin-from-downloading-log4j",
    "title": "How to prevent maven-dependency-plugin from downloading log4j?",
    "body": "<p>This question is current at least as of version 3.6.1 of the plugin.</p>\n<p>When using the maven-dependency-plugin, it downloads log4j 1.2.12. It happens when the analyze-dep-mgt goal is run, that's the goal we use, I imagine it happens with or some or all the other goals of the plugin.  Running <code>mvn dependency:tree</code> from the command line also causes it to be downloaded.</p>\n<p>I recognize that just having the log4j jar in the local repository is not a security risk but we have an IT department threatening to shutdown our servers if the jar appears anywhere on our filesystem.  If it comes down to it we'll make some kind of script to constantly look for it and delete it when it shows up but I'm hoping there is some way to prevent it directly through some configuration change in the pom.xml.</p>\n<p>I also see that there an open issue in the plugin's issue tracker for this problem: <a href=\"https://issues.apache.org/jira/browse/MDEP-902\" rel=\"nofollow noreferrer\">MDEP-902</a></p>\n<p>log4j doesn't seem to be a dependency or transitive dependency of the plugin itself.  I've tried adding the plugin as a dependency and running the dependency plugin tree goal and it doesn't show up as a dependency of the plugin. I've also run dependency:tree on the latest version of the plugin in it's code repository and it doesn't show up as a dependency.  Is the plugin doing it's own manipulation on the local repository somehow and causing it to be downloaded?</p>\n<p>Here are the debug log lines when it downloads the jar:</p>\n<pre><code>[DEBUG] Resolving artifact log4j:log4j:pom:1.2.12 from [apache.snapshots (https://repository.apache.org/snapshots, default, snapshots), central (https://repo.maven.apache.org/maven2, default, releases)]\n[DEBUG] Using transporter HttpTransporter with priority 5.0 for https://repo.maven.apache.org/maven2\n[DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for https://repo.maven.apache.org/maven2\nDownloading from central: https://repo.maven.apache.org/maven2/log4j/log4j/1.2.12/log4j-1.2.12.pom\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}