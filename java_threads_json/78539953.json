{
  "question": {
    "tags": [
      "java"
    ],
    "owner": {
      "account_id": 3106126,
      "reputation": 40919,
      "user_id": 2628868,
      "user_type": "registered",
      "accept_rate": 84,
      "profile_image": "https://i.sstatic.net/IcdU7.jpg?s=256",
      "display_name": "Dolphin",
      "link": "https://stackoverflow.com/users/2628868/dolphin"
    },
    "is_answered": true,
    "view_count": 118,
    "answer_count": 3,
    "score": 2,
    "last_activity_date": 1721097605,
    "creation_date": 1716823743,
    "last_edit_date": 1719002702,
    "question_id": 78539953,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78539953/how-to-make-the-test-wait-the-thread-pool-task-complete",
    "title": "How to make the test wait the thread pool task complete",
    "body": "<p>When I using this Java code method to do a unit test:</p>\n<pre><code>package com.dolphin.client;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.junit.Test;\n\nimport java.time.Duration;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n@Slf4j\npublic class FeignClientApplication {\n    @Test\n    public void test() {\n        ExecutorService executor = Executors.newFixedThreadPool(5);\n\n        for (int i = 0; i &lt; 10; i++) {\n            executor.submit(new MyTask(i));\n        }\n    }\n\n    static class MyTask implements Runnable {\n        private final int taskId;\n\n        public MyTask(int taskId) {\n            this.taskId = taskId;\n        }\n\n        @Override\n        public void run() {\n            try {\n                Thread.sleep(Duration.ofHours(1));\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n            System.out.println(&quot;Task ID : &quot; + taskId + &quot; performed by &quot; + Thread.currentThread().getName());\n        }\n    }\n}\n</code></pre>\n<p>The test will automatically exit before the thread task complete. How to make the unit test wait the thread pool's task complete before exit?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}