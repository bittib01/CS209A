{
  "question": {
    "tags": [
      "java",
      "docker",
      "webhooks",
      "pact"
    ],
    "owner": {
      "account_id": 954786,
      "reputation": 1260,
      "user_id": 980296,
      "user_type": "registered",
      "accept_rate": 66,
      "profile_image": "https://www.gravatar.com/avatar/b76d6ebca860afd2e0ad46a17448c6a5?s=256&d=identicon&r=PG",
      "display_name": "Diferdin",
      "link": "https://stackoverflow.com/users/980296/diferdin"
    },
    "is_answered": false,
    "view_count": 399,
    "answer_count": 3,
    "score": 0,
    "last_activity_date": 1729084695,
    "creation_date": 1718009525,
    "question_id": 78601317,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78601317/how-to-create-a-webhook-using-pact-cli",
    "title": "How to create a webhook using PACT CLI?",
    "body": "<p>I am preparing a demo on the PACT workflo, and as part of it I would like to demonstrate the concept of webhooks.</p>\n<p>To this extent I created a container with the pact-broker running, I can use the CLI to publish and verify a PACT successfully. Then I can make verification fail introducing a breaking change in the API spec, regenerating objects and re-running the provider app with the breaking changes. Everything works well up to that point.</p>\n<p>In the last part I would like to enrich the demo showing how to create webhooks yo notify a recipient about contract content changed. To this extend I created a small SpringBoot app that exposes a <code>/notifications</code> endpoint that I want to use as recipient for the webhook. My current issue is with creation of the webhook, and specifically that attempts at creating the webhook return 401 with the execution line below:</p>\n<pre><code>docker run --rm --network=&quot;host&quot; pactfoundation/pact-cli:latest pact-broker create_webhook http://localhost:8080/notifications -X POST -b http://localhost:9292/webhooks -u pactBrokerUsername -p pactBrokerUserPassword -d &quot;{\\&quot;events\\&quot;:[{\\&quot;name\\&quot;:\\&quot;contract_content_changed\\&quot;}],\\&quot;request\\&quot;:{\\&quot;method\\&quot;:\\&quot;POST\\&quot;,\\&quot;url\\&quot;:\\&quot;http:/localhost:8080/notifications\\&quot;,\\&quot;headers\\&quot;:{\\&quot;Content-Type\\&quot;:\\&quot;application/json\\&quot;},\\&quot;body\\&quot;:{\\&quot;some\\&quot;:\\&quot;json\\&quot;}}}&quot; --contract-published\n</code></pre>\n<p>In the line above:</p>\n<ul>\n<li>http://localhost:9292 is the URL for the PACT broker</li>\n<li>http://localhost:8080 is the URL for the recipient of the webhook, the simple app that I want to receive notifications.</li>\n</ul>\n<p>I formed this line looking at the PACT documentation, however I find quite a lot of what is being said there confusing so evidently something is misplaced or missing. I would appreciate some help with this from whoever has created webhooks before.</p>\n<p>Thanks in advance.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}