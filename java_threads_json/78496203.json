{
  "question": {
    "tags": [
      "java",
      "quarkus",
      "resteasy"
    ],
    "owner": {
      "account_id": 945358,
      "reputation": 3294,
      "user_id": 972706,
      "user_type": "registered",
      "accept_rate": 67,
      "profile_image": "https://www.gravatar.com/avatar/36aa63dc2ca14c794fd9b1f94cc6d4e3?s=256&d=identicon&r=PG",
      "display_name": "ShadowFlame",
      "link": "https://stackoverflow.com/users/972706/shadowflame"
    },
    "is_answered": false,
    "view_count": 277,
    "answer_count": 1,
    "score": -2,
    "last_activity_date": 1717356435,
    "creation_date": 1715955045,
    "question_id": 78496203,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78496203/quarkus-3-9-return-object-with-response-code",
    "title": "Quarkus 3.9 return object with response code",
    "body": "<p>I'm developing an application with a Contract First approach.\none of my paths:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  /game/init:\n    post:\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/initGame'\n      tags:\n        - Game\n      summary: Initialize a game\n      description: Initialize a game\n      operationId: initializeGame\n      responses:\n        '201':\n          description: Game was created\n          content:\n            text/plain:\n              schema:\n                $ref: '#/components/schemas/gameIdentifier'\n</code></pre>\n<p>As you can see I want to return an HTTP 201 here to indicate that the Game has been initialized.</p>\n<p>This gets generated to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/game/init&quot;)\n\n@jakarta.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaJAXRSSpecServerCodegen&quot;, date = &quot;2024-05-17T14:16:48.789874400+02:00[Europe/Brussels]&quot;)\npublic interface GameApi {\n        /**\n    * Initialize a game\n    *\n    * @param initGame \n    * @return Game was created - 201\n\n    */\n\n    @ResponseStatus(201)\n    @POST\n    @Consumes({ &quot;application/json&quot; })\n    @Produces({ &quot;text/plain&quot; })\n    Long initializeGame(@Valid @NotNull InitGame initGame);\n}\n</code></pre>\n<p>which is an interface I'm implementing elsewhere.\ndue to an issue with RestEasy (<a href=\"https://github.com/quarkusio/quarkus/issues/30170\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/30170</a>) I've tried to adapt the mustache templates to include the @ResponseStatus(201), since by default there was no code generated for it.</p>\n<p>This has no effect on my application, and still returns a 200.</p>\n<p>I've additionally tried with RestResponse and Response, which gives <code>ResteasyProviderFactoryImpl cannot be cast to class org.jboss.resteasy.reactive.common.jaxrs.RuntimeDelegateImpl </code>\nWhich I haven't been able to resolve.</p>\n<p>It seems that I'm doing something terribly wrong, since such a central functionality shouldn't be this hard.</p>\n<p>for completeness sake, I'll include my pom here as well:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;company&lt;/groupId&gt;\n    &lt;artifactId&gt;battleship&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;compiler-plugin.version&gt;3.12.1&lt;/compiler-plugin.version&gt;\n        &lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n        &lt;quarkus.platform.version&gt;3.9.5&lt;/quarkus.platform.version&gt;\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;surefire-plugin.version&gt;3.2.5&lt;/surefire-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.parser.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-parser&lt;/artifactId&gt;\n            &lt;version&gt;2.1.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n            &lt;version&gt;0.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus.resteasy.reactive&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-reactive-common&lt;/artifactId&gt;\n            &lt;version&gt;3.9.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus.resteasy.reactive&lt;/groupId&gt;\n            &lt;artifactId&gt;resteasy-reactive&lt;/artifactId&gt;\n            &lt;version&gt;3.9.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Flyway specific dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-flyway&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JDBC driver dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-jdbc-postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.mkammerer.snowflake-id&lt;/groupId&gt;\n            &lt;artifactId&gt;snowflake-id&lt;/artifactId&gt;\n            &lt;version&gt;0.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.assertj/assertj-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.25.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                        &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;7.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/openapi/battleship.yml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;jaxrs-spec&lt;/generatorName&gt;\n&lt;!--                            &lt;verbose&gt;true&lt;/verbose&gt;--&gt;\n                            &lt;templateResourcePath&gt;${project.basedir}/src/main/resources/openapi-templates&lt;/templateResourcePath&gt;\n\n                            &lt;configOptions&gt;\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                                &lt;useSwaggerAnnotations&gt;false&lt;/useSwaggerAnnotations&gt;\n                                &lt;!--ensure we only generate java interfaces and no implementation skeleton--&gt;\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                                &lt;useTags&gt;true&lt;/useTags&gt;\n                                &lt;useJakartaEe&gt;true&lt;/useJakartaEe&gt;\n                            &lt;/configOptions&gt;\n                            &lt;apiPackage&gt;company.api&lt;/apiPackage&gt;\n                            &lt;modelPackage&gt;company.beans&lt;/modelPackage&gt;\n                            &lt;generateModelTests&gt;false&lt;/generateModelTests&gt;\n                            &lt;generateModelDocumentation&gt;false&lt;/generateModelDocumentation&gt;\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                            &lt;generateApiTests&gt;false&lt;/generateApiTests&gt;\n                            &lt;generateApiDocumentation&gt;false&lt;/generateApiDocumentation&gt;\n                            &lt;auth&gt;false&lt;/auth&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n&lt;!--            maven helper plugin to add generated sources to maven project--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;${project.build.directory}/generated-sources/openapi/src/gen/java&lt;/source&gt;\n                            &lt;/sources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;native&lt;/name&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}