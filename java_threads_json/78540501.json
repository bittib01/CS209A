{
  "question": {
    "tags": [
      "java",
      "maven",
      "javafx",
      "jpackage"
    ],
    "owner": {
      "account_id": 224452,
      "reputation": 20256,
      "user_id": 484290,
      "user_type": "registered",
      "accept_rate": 59,
      "profile_image": "https://www.gravatar.com/avatar/74f421193f9d9c060354b688f90fa2cc?s=256&d=identicon&r=PG",
      "display_name": "Noor",
      "link": "https://stackoverflow.com/users/484290/noor"
    },
    "is_answered": true,
    "view_count": 667,
    "answer_count": 3,
    "score": 3,
    "last_activity_date": 1738528814,
    "creation_date": 1716832556,
    "last_edit_date": 1716918394,
    "question_id": 78540501,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78540501/jpackage-executable-fails-to-run",
    "title": "jpackage executable fails to run",
    "body": "<p>I am trying to package the default HelloApplication (<a href=\"https://github.com/noorbakerally/JavaFXPackage/tree/master\" rel=\"nofollow noreferrer\">full app</a>) that intellij community edition creates for a javafx application. The HelloApplication does not contain much dependencies besides JavaFX, but the intention is to package a bigger app with more dependencies. The aim is to create an independent executable that contains all required dependencies such that the executable can be installed even if the client does not have java, javafx, etc. already installed</p>\n<p>Below are the information I provide in this question:</p>\n<ol>\n<li>Part of the pom.xml containing definition for the shaded plugin</li>\n<li>Execution of the shaded jar</li>\n<li>Content of the shaded jar</li>\n<li>Generation of rpm using <code>jpackage</code></li>\n<li>Error when installating app from rpm</li>\n<li>Content of the generated rpm</li>\n</ol>\n<p><strong>1. Part of the pom.xml containing definition for the shaded plugin</strong></p>\n<p>For this, from what I read, I am first creating a shaded jar then using jpackage to create an independent executable. The definition for the shaded plugin in the pom.xml(<a href=\"https://github.com/noorbakerally/JavaFXPackage/blob/master/pom.xml\" rel=\"nofollow noreferrer\">full pom.xml</a>) is:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                &lt;transformers&gt;\n                    &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                        &lt;mainClass&gt;com.intelidia.simplejavafxapp.simplejavafxapp.HelloApplication&lt;/mainClass&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>2. Execution of the shaded jar</strong>\nThe jar runs perfectly with this command: <code>java --module-path /home/noor/Documents/Apps/javafx-sdk-22.0.1/lib --add-modules javafx.controls,javafx.fxml -jar SimpleJavaFXApp-1.0-SNAPSHOT-shaded.jar</code></p>\n<p><strong>3. Content of the shaded jar</strong>\nOutput of <code>jar tf SimpleJavaFXApp-1.0-SNAPSHOT-shaded.jar</code> can be found <a href=\"https://github.com/noorbakerally/JavaFXPackage/blob/master/README.md\" rel=\"nofollow noreferrer\">here</a>. Sorry for not providing it here, if I do so, the limit of characters allowed exceed.</p>\n<p><strong>4. Generation of rpm using <code>jpackage</code></strong></p>\n<p><code>jpackage</code> is generating an rpm with the command:</p>\n<p><code>jpackage --name SimpleJavaFXApp --input ./target --main-jar ./target/SimpleJavaFXApp-1.0-SNAPSHOT-shaded.jar --main-class com.intelidia.simplejavafxapp.simplejavafxapp.HelloApplication --module-path /home/noor/Documents/Apps/javafx-sdk-22.0.1/lib --add-modules javafx.controls,javafx.fxml</code></p>\n<p><strong>5. Error when installating app from rpm</strong>\n<code>jpackage</code> is generating an rpm with the command:</p>\n<p>Running the installed application generates the following error:</p>\n<pre><code>Graphics Device initialization failed for :  es2, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@22.0.1/com.sun.javafx.tk.quantum.QuantumRenderer.getInstance(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.init(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.tk.Toolkit.getToolkit(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.PlatformImpl.startup(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.PlatformImpl.startup(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.LauncherImpl.startToolkit(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(Unknown Source)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found\n        at javafx.graphics@22.0.1/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.init(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.tk.quantum.QuantumRenderer$PipelineRunnable.run(Unknown Source)\n        at java.base/java.lang.Thread.run(Unknown Source)\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source)\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n        at java.base/sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.RuntimeException: No toolkit found\n        at javafx.graphics@22.0.1/com.sun.javafx.tk.Toolkit.getToolkit(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.PlatformImpl.startup(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.PlatformImpl.startup(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.LauncherImpl.startToolkit(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(Unknown Source)\n        at javafx.graphics@22.0.1/com.sun.javafx.application.LauncherImpl.launchApplication(Unknown Source)\n        ... 3 more\n</code></pre>\n<p><strong>6. Content of the generated rpm</strong> shown below:</p>\n<pre><code>/opt/simplejavafxapp\n/opt/simplejavafxapp/bin\n/opt/simplejavafxapp/bin/SimpleJavaFXApp\n/opt/simplejavafxapp/lib\n/opt/simplejavafxapp/lib/SimpleJavaFXApp.png\n/opt/simplejavafxapp/lib/app\n/opt/simplejavafxapp/lib/app/SimpleJavaFXApp-1.0-SNAPSHOT-shaded.jar\n/opt/simplejavafxapp/lib/app/SimpleJavaFXApp-1.0-SNAPSHOT.jar\n/opt/simplejavafxapp/lib/app/SimpleJavaFXApp.cfg\n/opt/simplejavafxapp/lib/app/classes\n/opt/simplejavafxapp/lib/app/classes/com\n/opt/simplejavafxapp/lib/app/classes/com/intelidia\n/opt/simplejavafxapp/lib/app/classes/com/intelidia/simplejavafxapp\n/opt/simplejavafxapp/lib/app/classes/com/intelidia/simplejavafxapp/simplejavafxapp\n/opt/simplejavafxapp/lib/app/classes/com/intelidia/simplejavafxapp/simplejavafxapp/HelloApplication.class\n/opt/simplejavafxapp/lib/app/classes/com/intelidia/simplejavafxapp/simplejavafxapp/HelloController.class\n/opt/simplejavafxapp/lib/app/classes/com/intelidia/simplejavafxapp/simplejavafxapp/hello-view.fxml\n/opt/simplejavafxapp/lib/app/classes/module-info.class\n/opt/simplejavafxapp/lib/app/generated-sources\n/opt/simplejavafxapp/lib/app/generated-sources/annotations\n/opt/simplejavafxapp/lib/app/maven-archiver\n/opt/simplejavafxapp/lib/app/maven-archiver/pom.properties\n/opt/simplejavafxapp/lib/app/maven-status\n/opt/simplejavafxapp/lib/app/maven-status/maven-compiler-plugin\n/opt/simplejavafxapp/lib/app/maven-status/maven-compiler-plugin/compile\n/opt/simplejavafxapp/lib/app/maven-status/maven-compiler-plugin/compile/default-compile\n/opt/simplejavafxapp/lib/app/maven-status/maven-compiler-plugin/compile/default-compile/createdFiles.lst\n/opt/simplejavafxapp/lib/app/maven-status/maven-compiler-plugin/compile/default-compile/inputFiles.lst\n/opt/simplejavafxapp/lib/libapplauncher.so\n/opt/simplejavafxapp/lib/runtime\n/opt/simplejavafxapp/lib/runtime/conf\n/opt/simplejavafxapp/lib/runtime/conf/jaxp.properties\n/opt/simplejavafxapp/lib/runtime/conf/net.properties\n/opt/simplejavafxapp/lib/runtime/conf/sdp\n/opt/simplejavafxapp/lib/runtime/conf/sdp/sdp.conf.template\n/opt/simplejavafxapp/lib/runtime/conf/security\n/opt/simplejavafxapp/lib/runtime/conf/security/java.policy\n/opt/simplejavafxapp/lib/runtime/conf/security/java.security\n/opt/simplejavafxapp/lib/runtime/conf/security/policy\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/README.txt\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/limited\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/limited/default_US_export.policy\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/limited/default_local.policy\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/limited/exempt_local.policy\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/unlimited\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/unlimited/default_US_export.policy\n/opt/simplejavafxapp/lib/runtime/conf/security/policy/unlimited/default_local.policy\n/opt/simplejavafxapp/lib/runtime/conf/sound.properties\n/opt/simplejavafxapp/lib/runtime/legal\n/opt/simplejavafxapp/lib/runtime/legal/java.base\n/opt/simplejavafxapp/lib/runtime/legal/java.base/COPYRIGHT\n/opt/simplejavafxapp/lib/runtime/legal/java.base/LICENSE\n/opt/simplejavafxapp/lib/runtime/legal/java.base/aes.md\n/opt/simplejavafxapp/lib/runtime/legal/java.base/asm.md\n/opt/simplejavafxapp/lib/runtime/legal/java.base/c-libutl.md\n/opt/simplejavafxapp/lib/runtime/legal/java.base/cldr.md\n/opt/simplejavafxapp/lib/runtime/legal/java.base/icu.md\n/opt/simplejavafxapp/lib/runtime/legal/java.base/public_suffix.md\n/opt/simplejavafxapp/lib/runtime/legal/java.base/unicode.md\n/opt/simplejavafxapp/lib/runtime/legal/java.datatransfer\n/opt/simplejavafxapp/lib/runtime/legal/java.datatransfer/COPYRIGHT\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/colorimaging.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/giflib.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/harfbuzz.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/jpeg.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/lcms.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/libpng.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/mesa3d.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/pipewire.md\n/opt/simplejavafxapp/lib/runtime/legal/java.desktop/xwd.md\n/opt/simplejavafxapp/lib/runtime/legal/java.prefs\n/opt/simplejavafxapp/lib/runtime/legal/java.prefs/LICENSE\n/opt/simplejavafxapp/lib/runtime/legal/java.scripting\n/opt/simplejavafxapp/lib/runtime/legal/java.scripting/LICENSE\n/opt/simplejavafxapp/lib/runtime/legal/java.xml\n/opt/simplejavafxapp/lib/runtime/legal/java.xml/bcel.md\n/opt/simplejavafxapp/lib/runtime/legal/java.xml/dom.md\n/opt/simplejavafxapp/lib/runtime/legal/java.xml/jcup.md\n/opt/simplejavafxapp/lib/runtime/legal/java.xml/xalan.md\n/opt/simplejavafxapp/lib/runtime/legal/java.xml/xerces.md\n/opt/simplejavafxapp/lib/runtime/legal/jdk.unsupported\n/opt/simplejavafxapp/lib/runtime/lib\n/opt/simplejavafxapp/lib/runtime/lib/classlist\n/opt/simplejavafxapp/lib/runtime/lib/jexec\n/opt/simplejavafxapp/lib/runtime/lib/jrt-fs.jar\n/opt/simplejavafxapp/lib/runtime/lib/jspawnhelper\n/opt/simplejavafxapp/lib/runtime/lib/jvm.cfg\n/opt/simplejavafxapp/lib/runtime/lib/libawt.so\n/opt/simplejavafxapp/lib/runtime/lib/libawt_headless.so\n/opt/simplejavafxapp/lib/runtime/lib/libawt_xawt.so\n/opt/simplejavafxapp/lib/runtime/lib/libfontmanager.so\n/opt/simplejavafxapp/lib/runtime/lib/libjava.so\n/opt/simplejavafxapp/lib/runtime/lib/libjavajpeg.so\n/opt/simplejavafxapp/lib/runtime/lib/libjawt.so\n/opt/simplejavafxapp/lib/runtime/lib/libjimage.so\n/opt/simplejavafxapp/lib/runtime/lib/libjli.so\n/opt/simplejavafxapp/lib/runtime/lib/libjsig.so\n/opt/simplejavafxapp/lib/runtime/lib/libjsound.so\n/opt/simplejavafxapp/lib/runtime/lib/liblcms.so\n/opt/simplejavafxapp/lib/runtime/lib/libmlib_image.so\n/opt/simplejavafxapp/lib/runtime/lib/libnet.so\n/opt/simplejavafxapp/lib/runtime/lib/libnio.so\n/opt/simplejavafxapp/lib/runtime/lib/libprefs.so\n/opt/simplejavafxapp/lib/runtime/lib/libsimdsort.so\n/opt/simplejavafxapp/lib/runtime/lib/libsplashscreen.so\n/opt/simplejavafxapp/lib/runtime/lib/libsyslookup.so\n/opt/simplejavafxapp/lib/runtime/lib/libverify.so\n/opt/simplejavafxapp/lib/runtime/lib/libzip.so\n/opt/simplejavafxapp/lib/runtime/lib/modules\n/opt/simplejavafxapp/lib/runtime/lib/psfont.properties.ja\n/opt/simplejavafxapp/lib/runtime/lib/psfontj2d.properties\n/opt/simplejavafxapp/lib/runtime/lib/security\n/opt/simplejavafxapp/lib/runtime/lib/security/blocked.certs\n/opt/simplejavafxapp/lib/runtime/lib/security/cacerts\n/opt/simplejavafxapp/lib/runtime/lib/security/default.policy\n/opt/simplejavafxapp/lib/runtime/lib/security/public_suffix_list.dat\n/opt/simplejavafxapp/lib/runtime/lib/server\n/opt/simplejavafxapp/lib/runtime/lib/server/libjsig.so\n/opt/simplejavafxapp/lib/runtime/lib/server/libjvm.so\n/opt/simplejavafxapp/lib/runtime/lib/tzdb.dat\n/opt/simplejavafxapp/lib/runtime/release\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}