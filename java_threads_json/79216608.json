{
  "question": {
    "tags": [
      "java",
      "algorithm"
    ],
    "owner": {
      "account_id": 31187804,
      "reputation": 794,
      "user_id": 23993901,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/7417aaad0c8ece3fac44f06d05a8ba8b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "CodeCrusader",
      "link": "https://stackoverflow.com/users/23993901/codecrusader"
    },
    "is_answered": true,
    "view_count": 203,
    "accepted_answer_id": 79218393,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1732634675,
    "creation_date": 1732310612,
    "last_edit_date": 1732634675,
    "question_id": 79216608,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79216608/find-unique-pairs",
    "title": "Find unique pairs",
    "body": "<blockquote>\n<p>There is a list of numbers of size n, find the maximum count of the number of pairs such that it follows the below pattern:</p>\n<pre><code>2 * minimum(arr[i],arr[j]) &lt;= maximum (arr[i], arr[j]), where [i,j] in range (0 to n)\n</code></pre>\n<p>The selected indices should be unique, it means if an index say 2 is used to form a pair say (2,5), we should not use the same index 2 to form another pair (2,7).</p>\n<h5>Example:</h5>\n<pre><code>arr = [2, 5, 7, 6, 9, 8 , 4 , 2]\nresult = 3\n</code></pre>\n<h5>Explanation:</h5>\n<p>Sort input = [2,2,4,5,6,7,8,9]<br />\nAll possible pairs that can be formed are:<br />\n2 can form pairs with [4,5,6,7,8,9]<br />\n4 can form pairs with [8,9]<br />\nFor 5, there is no matching pair that satisfies the condition.</p>\n<p>We cannot pick the pair (2,4) because if 4 is already used we cannot form new pairs like (4,8) or (4,9)</p>\n<p>Finally, we can form 3 maximum counts of pairs using distinct indices, One such possible pairs are  (2,5), (7, 2), and (9, 4), so the answer is 3</p>\n<h5>Example:</h5>\n<pre><code>arr = [2,1,2,4,1,4,1]\nresult = 3\n</code></pre>\n<h5>Explanation:</h5>\n<p>Pairs are  (2,1), (4,1), and (2,4), so the answer is 3</p>\n<h5>Constraints:</h5>\n<ul>\n<li>n is in the range 1 to n^5</li>\n<li>each input item,is in range 1 to 10^9</li>\n</ul>\n</blockquote>\n<p>I tried solving this using a TreeMap:</p>\n<pre><code>import java.util.*;\npublic class Main\n{\n    public static void main(String[] args) {\n        System.out.println(solve(Arrays.asList(2, 5, 7, 6, 9, 8 , 4 , 2)));//3\n        System.out.println(solve(Arrays.asList(2,1,2,4,1,4,1)));//3\n    }\n    \n    static int solve(List&lt;Integer&gt; arr) {\n        arr.sort(Comparator.reverseOrder());\n        TreeMap&lt;Integer, Integer&gt; map = new TreeMap&lt;&gt;();\n        for(int e : arr) map.put(e, map.getOrDefault(e,0)+1);\n        int result = 0;\n        for(int e : arr) {\n            int min = 2 * e;\n            if(map.get(e) == null) continue;\n            Integer key = map.ceilingKey(min);\n            if(key != null) {\n                map.put(e,map.get(e)-1);\n                if(map.get(e) &lt;=0)map.remove(e);\n                \n                map.put(key,map.get(key)-1);\n                if(map.get(key) &lt;=0)map.remove(key);\n                result++;\n            }\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>But for 2nd test case arr = [2,1,2,4,1,4,1], I am creating pairs in my code as (2,4), (2,4), so it is returning 2 instead of 3.</p>\n<p>I tried greedy and 2 pointer approach but both are not working.</p>\n<p>What is the correct approach for this problem?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}