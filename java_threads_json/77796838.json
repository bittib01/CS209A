{
  "question": {
    "tags": [
      "java",
      "amazon-web-services",
      "spring-boot",
      "oauth-2.0",
      "amazon-cognito"
    ],
    "owner": {
      "account_id": 1446722,
      "reputation": 1738,
      "user_id": 1364923,
      "user_type": "registered",
      "accept_rate": 89,
      "profile_image": "https://i.sstatic.net/w4vfG.png?s=256",
      "display_name": "Martin Dvoracek",
      "link": "https://stackoverflow.com/users/1364923/martin-dvoracek"
    },
    "is_answered": true,
    "view_count": 1128,
    "accepted_answer_id": 77797737,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1729189766,
    "creation_date": 1704927857,
    "last_edit_date": 1704928320,
    "question_id": 77796838,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77796838/springboot-aws-cognito-cant-resolve-issueruri",
    "title": "SpringBoot + AWS cognito, can&#39;t resolve issuerUri",
    "body": "<p>I wanted to create a sample Spring Boot application using AWS cognito for authorization. I was following several tutorials but always ended with the same error.</p>\n<p>When I run the application, I get:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through field 'httpSecurity': Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration': Unsatisfied dependency expressed through method 'setContentNegotiationStrategy' parameter 0: Error creating bean with name 'org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration': Unsatisfied dependency expressed through method 'setConfigurers' parameter 0: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.OAuth2ClientConfiguration$OAuth2ClientWebMvcSecurityConfiguration': Unsatisfied dependency expressed through method 'setAuthorizedClientManager' parameter 0: Error creating bean with name 'OAuth2AuthorizedClientManager': Failed to instantiate [org.springframework.security.oauth2.client.OAuth2AuthorizedClientManager]: Factory method 'getAuthorizedClientManager' threw exception with message: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]:Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception with message: Unable to resolve Configuration with the provided Issuer of &quot;https://cognito-idp.us-east-1.amazonaws.com/us-east-1_9EmaXexYM/.well-known/openid-configuration&quot;\n</code></pre>\n<p>This seems to me weird because when I access directly in the browser the URL <a href=\"https://cognito-idp.us-east-1.amazonaws.com/us-east-1_9EmaXexYM/.well-known/openid-configuration\" rel=\"nofollow noreferrer\">https://cognito-idp.us-east-1.amazonaws.com/us-east-1_9EmaXexYM/.well-known/openid-configuration</a> , I get a response with all the information. What could be the problem?</p>\n<p>My application.yml:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          cognito:\n            clientName: SpringBootApp\n            client-secret: 11iflp3rhfuj9veomalbsvoi5url4vhu3r39in5l1jo0btsac48s\n            redirect-uri: 'http://localhost:8080/login/oauth2/code/cognito'\n            client-id: 3ai0tn07c5smcn00d963670rsf\n            scope: openid\n            authorization-grant-type: authorization_code\n        provider:\n          cognito:\n            issuerUri: https://cognito-idp.us-east-1.amazonaws.com/us-east-1_9EmaXexYM/.well-known/openid-configuration\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}