{
  "question": {
    "tags": [
      "java",
      "parameters",
      "testng",
      "appium",
      "desiredcapabilities"
    ],
    "owner": {
      "account_id": 18374292,
      "reputation": 5,
      "user_id": 13383729,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ghc945PWx5dnAMdS5QLKsOGJu9sX0yqYou2UvGucw=k-s256",
      "display_name": "Bart Soha",
      "link": "https://stackoverflow.com/users/13383729/bart-soha"
    },
    "is_answered": true,
    "view_count": 74,
    "accepted_answer_id": 79025468,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1727874008,
    "creation_date": 1726812488,
    "last_edit_date": 1727874008,
    "question_id": 79005427,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79005427/pass-device-udid-from-test-parameters-to-desiredcapabilities-in-seperate-classes",
    "title": "Pass device udid from test parameters to DesiredCapabilities in seperate classes",
    "body": "<p>I have seperate class with called CommonAndroidDriver where capabilites and driver are. I want to be able to add device udid as parameter seperately for each test.</p>\n<pre><code>public class CommonAndroidDriver {\n\n    public static AndroidDriver driver;\n    private URL serverUrl;\n    private DesiredCapabilities capabilities = new DesiredCapabilities();\n\n    public CommonAndroidDriver(ITestContext context) throws MalformedURLException {\n        this.serverUrl = new URL(&quot;https:&quot;);\n        capabilities.setCapability(&quot;appium:platformName&quot;, MobilePlatform.ANDROID);\n        capabilities.setCapability(&quot;appium:automationName&quot;, &quot;UiAutomator2&quot;);\n        capabilities.setCapability(&quot;appium:appPackage&quot;, &quot;blabla&quot;);\n        capabilities.setCapability(&quot;appium:appActivity&quot;, &quot;blabla&quot;);\n        capabilities.setCapability(&quot;uftm:oauthClientId&quot;, &quot;blabla&quot;);\n        capabilities.setCapability(&quot;uftm:oauthClientSecret&quot;, &quot;blabla&quot;);\n        capabilities.setCapability(&quot;uftm:tenantId&quot;, &quot;blabla&quot;);\n        capabilities.setCapability(&quot;appium:udid&quot;, context.getCurrentXmlTest().getParameter(&quot;udid&quot;));\n        capabilities.setCapability(&quot;appium:noReset&quot;, true);\n        capabilities.setCapability(&quot;appium:autoGrantPermissions&quot;, true);\n\n        this.driver = new AndroidDriver(serverUrl, capabilities);\n    }\n    public AndroidDriver getDriver() {\n        return this.driver;\n    }\n}\n\n</code></pre>\n<p>Example test start, I want this udid to be entered UP in CommonAndroidDriver:</p>\n<pre><code>public class LoginTest extends BaseAppium {\n\n    public LoginTest() throws IOException {\n    }\n\n    @Test\n    @Parameters({&quot;login&quot;, &quot;password&quot;, &quot;udid&quot;})\n    public void Login(String login, String password, String udid) throws Exception {\n\n        //some test steps\n\n    }\n}\n</code></pre>\n<p>I started combining it with ITestContext getCurrentXmlTest().getParameter, but couldn't find a way to pass udid to capabilities.</p>\n<p>Testngxml</p>\n<pre><code>&lt;suite name=&quot;AndroidAppiumTest&quot;&gt;\n    &lt;test name=&quot;LoginTests&quot;&gt;\n        &lt;parameter name=&quot;loginmp&quot; value=&quot;test@test.com&quot;/&gt;\n        &lt;parameter name=&quot;passwordtest&quot; value=&quot;Test1234&quot;/&gt;\n        &lt;parameter name=&quot;udid&quot; value=&quot;DeviceId&quot;/&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;tests.LoginTest&quot;/&gt;\n            &lt;methods&gt;\n                &lt;include name=&quot;Login&quot;/&gt;\n            &lt;/methods&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>BaseAppium</p>\n<pre><code>public class BaseAppium {\n\n    public AndroidDriver driver;\n\n\n    public BaseAppium() throws IOException {\n    }\n\n\n    @BeforeClass\n    public void setUp(ITestContext context) throws IOException {\n        this.driver = new CommonAndroidDriver(context).getDriver();\n    }\n\n    @BeforeTest\n    public void setTest() {\n    }\n\n\n    @AfterClass\n    public void tearDown() throws IOException, InterruptedException {\n        this.driver.terminateApp(&quot;app.name&quot;);\n        this.driver.quit();\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}