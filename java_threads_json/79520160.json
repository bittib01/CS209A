{
  "question": {
    "tags": [
      "java",
      "pdf",
      "ocr",
      "pdfbox",
      "text-extraction"
    ],
    "owner": {
      "account_id": 28282687,
      "reputation": 85,
      "user_id": 21624113,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/cbf0bfbcd29f7088c086845d82de04aa?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Requiet",
      "link": "https://stackoverflow.com/users/21624113/requiet"
    },
    "is_answered": false,
    "view_count": 65,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1742388075,
    "creation_date": 1742386418,
    "last_edit_date": 1742388075,
    "question_id": 79520160,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79520160/preserve-empty-columns-when-extracting-tables-from-pdf",
    "title": "Preserve Empty Columns When Extracting Tables from PDF",
    "body": "<p>I have 25–30 different types of PDF documents, each containing tables with varying structures. My ultimate goal is to extract table data from specific headings (i.e., between certain titles) and convert them into a JSON format mapping each column to a specific field with Java.</p>\n<p>However, I'm running into a major issue with Apache PDFBox: if a table cell/column is empty, there’s no whitespace or placeholder in the PDF text. As a result, the extracted text merges adjacent columns, destroying the table structure. In other words, PDFBox doesn’t insert any spacing for empty columns, so I lose the column layout in the output text.</p>\n<p>I’ve tried feeding the raw PDF into ChatGPT with a zero temperature prompt, hoping it would parse the table into json format consistently, but the results vary each time. Because of this inconsistency, I prefer a text-based approach: extract consistent text first, then feed that text into AI (or other rule-based logic) to transform it into JSON. But if the text extraction tool doesn’t preserve columns for empty cells, it becomes nearly impossible to map columns reliably.</p>\n<p><a href=\"https://i.sstatic.net/jtharwJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/jtharwJF.png\" alt=\"enter image description here\" /></a></p>\n<p>There is an example above of a row with missing columns; it should be processed as follows:</p>\n<p>&quot;TOPLAM missing_column missing_column missing_column 70,000,000.00 70,427,300.00 4.88&quot;</p>\n<p>It should be extracted as:</p>\n<pre><code>&quot;TOPLAM       70,000,000.00 70,427,300.00 4.88&quot;\n</code></pre>\n<p>or</p>\n<pre><code>TOPLAM | [empty] | [empty] | [empty] | 70,000,000.00 | 70,427,300.00 | 4.88\n</code></pre>\n<p>My questions are:</p>\n<ul>\n<li>Is there a way to configure Apache PDFBox to preserve spacing or\nplaceholders for empty columns/cells so the structure remains intact?</li>\n<li>Are there alternative Java libraries or techniques (e.g., PDFPlumber,\nTabula, iText, OCRs, etc.) that can better preserve table columns even if\nsome columns are empty? Do I need to rely on bounding box coordinates\nor a PDF-to-HTML approach to keep the layout consistent?</li>\n<li>Has anyone dealt with similarly “invisible” empty columns, and how\ndid you solve it? I want to avoid manual or per-PDF custom code if\npossible, because I have many PDF variations.</li>\n</ul>\n<p>If that is not possible, should I just extract the relevant sections of the PDF and feed them to a fine-tuned AI?</p>\n<p>Any advice on how to ensure reliable table extraction where empty columns don’t break the layout would be greatly appreciated.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}