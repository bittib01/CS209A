{
  "question": {
    "tags": [
      "java",
      "android",
      "android-fragments",
      "android-activity"
    ],
    "owner": {
      "account_id": 264941,
      "reputation": 2996,
      "user_id": 551588,
      "user_type": "registered",
      "accept_rate": 72,
      "profile_image": "https://www.gravatar.com/avatar/fbd7d0a752e7247c905a6498cfa49028?s=256&d=identicon&r=PG",
      "display_name": "guest86",
      "link": "https://stackoverflow.com/users/551588/guest86"
    },
    "is_answered": true,
    "view_count": 1868,
    "accepted_answer_id": 79303842,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1741544102,
    "creation_date": 1734968406,
    "last_edit_date": 1741544102,
    "question_id": 79303557,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79303557/android-api-35-full-screen-app-confusion",
    "title": "Android API &lt; 35 full screen app confusion",
    "body": "<p>I'm working on an Android app (home project) written in Java. I'm a casual Android developer and in order to achieve full-screen functionality I applied the same steps I successfully used couple of years ago:</p>\n<ol>\n<li>Change the theme:</li>\n</ol>\n<blockquote>\n<pre><code>&lt;style name=&quot;Base.Theme.MyApp&quot; parent=&quot;Theme.Material3.Light.NoActionBar&quot;&gt;\n    &lt;item name = &quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name = &quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;false&lt;/item&gt;\n\n&lt;/style&gt;\n\n&lt;style name=&quot;Theme.MyApp&quot; parent=&quot;Base.Theme.MyApp&quot; /&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Main activity (extending FragmentActivity, the only activity I have since I'm using fragments):</li>\n</ol>\n<blockquote>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n         super.onCreate(savedInstanceState);\n         EdgeToEdge.enable(this); //apparently for API 35+ this is the only thing I need\n \n         View decorView = getWindow().getDecorView();\n         int uiOptions = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_FULLSCREEN;\n         decorView.setSystemUiVisibility(uiOptions);\n \n         setContentView(R.layout.activity_main);\n         ... }\n</code></pre>\n</blockquote>\n<p>The problem is, when testing this on API 34, my app is <em>kind of</em> full screen. There's a thin black line on top where system bar should be. Also, Play Store gave me a warning I'm using deprecated methods for full screen view.</p>\n<p>In order to resolve that I went through Google documentation, realized there are different methods for API versions 29 - 35 (my min SDK supported is 25) but apparently I couldn't understand implementation properly as whenever I tried solutions from the Google docs - black line either stayed or app became full-screen with system bar drawn over top part of my app. I tried using insets and margins as Google docs suggested but it gave no results.</p>\n<p>I was so desperate I even asked GTP for the solution and, obviously, I got speculative and non-working &quot;solutions&quot; and &quot;ideas&quot;.</p>\n<p>How to implement a proper full-screen support that works for API versions 29-35?</p>\n<p>It's surprising that showing an app in full screen mode with no other elements on the screen is so elaborate and requires more code than setting a mere property of the activity.</p>\n<h2>Edit</h2>\n<p>This is the latest attempt I tried:</p>\n<blockquote>\n<pre><code>super.onCreate(savedInstanceState);\n\n        setContentView(R.layout.activity_main);\n\n        EdgeToEdge.enable(this);\n\n        Window window = getWindow();\n        View decorView = getWindow().getDecorView();\n\n        WindowCompat.setDecorFitsSystemWindows(window, false);\n        WindowInsetsControllerCompat controllerCompat = new WindowInsetsControllerCompat(window, decorView);\n        controllerCompat.hide(WindowInsetsCompat.Type.systemBars() | WindowInsetsCompat.Type.navigationBars());\n        controllerCompat.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n</code></pre>\n</blockquote>\n<p>and the result I get (top of the screen):</p>\n<p><a href=\"https://i.sstatic.net/f5zisSY6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/f5zisSY6.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.sstatic.net/lGWCM1q9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/lGWCM1q9.png\" alt=\"enter image description here\" /></a></p>\n<p>I have also removed anything from my themes.xml, theme parent is just Theme.Material3.Light.NoActionBar</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}