{
  "question": {
    "tags": [
      "java",
      "android",
      "server",
      "full-duplex"
    ],
    "owner": {
      "account_id": 6016377,
      "reputation": 550,
      "user_id": 4725089,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0af51c010b4b3fc4de24bc07f6cd4ed9?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "StainlessSteelRat",
      "link": "https://stackoverflow.com/users/4725089/stainlesssteelrat"
    },
    "is_answered": true,
    "view_count": 71,
    "accepted_answer_id": 79407849,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1738557731,
    "creation_date": 1733943383,
    "question_id": 79272878,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79272878/bi-directional-http1-full-duplex-streaming-on-android",
    "title": "Bi-directional HTTP1 full duplex streaming on Android",
    "body": "<p>I have an http1 API that I have written (in Golang) <a href=\"https://stackoverflow.com/questions/78910467/golang-http-handler-is-it-possible-to-implement-a-call-and-response-pattern-w/78912085?noredirect=1#comment139131216_78912085\">code ex here</a> that I have gotten to work perfectly on iOS <a href=\"https://stackoverflow.com/questions/44602192/how-to-use-urlsessionstreamtask-with-urlsession-for-chunked-encoding-transfer\">code ex here</a></p>\n<p>But I cannot seem how to figure out how to implement it on Android.</p>\n<p>The API is atypical in that instead of one server/response pair, any number of them can happen. It is so I can upload pieces of a db, get confirmation, and continue. Similarly data can come down from the website to client. When the iOS client connects I can see the connection gets upgraded, etc... and everything works as expected.</p>\n<p>First I tried to implement this using okHTTP web sockets classes. But this does not work because web sockets are considered to be &quot;GET&quot; and the API is &quot;POST&quot;. Testing with changing the API to &quot;GET&quot; just to see what happens resulted in the ws library complaining about missing upgrade and connection headers, so I don't believe that's the answer.</p>\n<p>Looking into okHTTP further, they have an &quot;isDuplex&quot; method I can override, but the docs plainly state that this only works on http2.</p>\n<p>Looking at URLConnection classes and such, they claim to only support one request/body pair per call and will terminate after that, so seems like they won't work.</p>\n<p>Any experience with this?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}