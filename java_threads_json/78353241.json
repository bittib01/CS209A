{
  "question": {
    "tags": [
      "java",
      "payara-micro"
    ],
    "owner": {
      "account_id": 2474795,
      "reputation": 764,
      "user_id": 2155645,
      "user_type": "registered",
      "accept_rate": 20,
      "profile_image": "https://i.sstatic.net/Un54J.jpg?s=256",
      "display_name": "FourtyTwo",
      "link": "https://stackoverflow.com/users/2155645/fourtytwo"
    },
    "is_answered": false,
    "view_count": 107,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1715841395,
    "creation_date": 1713524995,
    "question_id": 78353241,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78353241/why-is-the-jwt-token-not-used-for-authorization-in-payara-micro",
    "title": "Why is the JWT token not used for authorization in Payara micro",
    "body": "<p>I have followed this example here <a href=\"https://docs.payara.fish/community/docs/5.183/documentation/payara-server/public-api/openid-connect-support.html\" rel=\"nofollow noreferrer\">https://docs.payara.fish/community/docs/5.183/documentation/payara-server/public-api/openid-connect-support.html</a> to add authentication and authorization to my application. However, when I try to call the application with the JWT token in the Authorization header (Authorization: Bearer ey...) it fails and redirects me back to authenticating.</p>\n<p>I have this in code:</p>\n<pre><code>@ApplicationPath(&quot;/&quot;)\n@OpenIdAuthenticationDefinition(\n        providerURI = &quot;https://my-idp.com/auth&quot;,\n        clientId = &quot;my-app-id&quot;,\n        clientSecret = &quot;my-app-secret&quot;,\n        redirectURI = &quot;http://localhost:8080/myapp/oauth2/callback&quot;,\n        scope = &quot;openid&quot;\n)\n@DeclareRoles({&quot;my_role&quot;})\npublic class MyApp extends Application {\n\n}\n</code></pre>\n<p>Then for my resource I have:</p>\n<pre><code>@Path(&quot;/my&quot;)\n@RequestScoped\npublic class TestResource {\n\n    @Context\n    SecurityContext securityContext;\n\n    @GET\n    @Path(&quot;resource&quot;)\n    @Produces(MediaType.TEXT_PLAIN)\n    @RolesAllowed(&quot;my_role&quot;)\n    public String getName() {\n        return securityContext.getUserPrincipal().getName();\n    }\n}\n</code></pre>\n<p>Does this mean that this feature is not available on Payara micro?\nIf so, then why does the authorization part work?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}