{
  "question": {
    "tags": [
      "java",
      "mongodb",
      "spring-boot",
      "indexing",
      "mongodb-query"
    ],
    "owner": {
      "account_id": 28470497,
      "reputation": 125,
      "user_id": 21785880,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxavxtuXsVtdohu8UyQq69CmxDqdxBsT8P5cYJI=k-s256",
      "display_name": "Anurator",
      "link": "https://stackoverflow.com/users/21785880/anurator"
    },
    "is_answered": false,
    "view_count": 37,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1729686186,
    "creation_date": 1729596567,
    "last_edit_date": 1729686186,
    "question_id": 79113829,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79113829/indexing-on-value-part-of-hashmap-in-mongo",
    "title": "Indexing on Value Part of HashMap in mongo",
    "body": "<p>I have a hashmap in my mongo document which is null or empty 70% of times.</p>\n<p>Map : <code>Map&lt;String, String&gt; selectedSmsVendorMap</code></p>\n<p>This map stores the final sms vendor name (value) chosen for a mobile number (key) in the map.</p>\n<p><code> &quot;selectedSmsVendorMap&quot;: {&quot;1234567890&quot;: &quot;sms-vendor-1&quot;}</code></p>\n<p>I need to create an index on the name of vendors which are present as value. This is to be able to fetch the records and count for any particular vendor name in a time duration.</p>\n<p>This map may have multiple entries.</p>\n<p>The number of records in the collection are in hundreds of  millions as the user base (mobile number) is huge. However the number of sms vendors are less that 5.</p>\n<p>How should I create index here? And how to query the data here as well? (say, fetcg documents which have <code>sms-vendor-1</code> as value)</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}