{
  "question": {
    "tags": [
      "java",
      "android",
      "android-permissions",
      "android-auto",
      "notificationmanager"
    ],
    "owner": {
      "account_id": 21764857,
      "reputation": 35,
      "user_id": 16068906,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AATXAJxfl_H1Wzcyqj_fnHIS_QUAKc4GLSSPqpj8fLoN=k-s256",
      "display_name": "Md101",
      "link": "https://stackoverflow.com/users/16068906/md101"
    },
    "is_answered": true,
    "view_count": 121,
    "accepted_answer_id": 79534186,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1742917500,
    "creation_date": 1741706555,
    "question_id": 79501271,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79501271/android-auto-simulator-dhu-not-receiving-notifications-from-my-app",
    "title": "Android Auto Simulator (DHU) Not Receiving Notifications from My App",
    "body": "<p>I am trying to experiment with android auto and have developed a small app that generates a notification on button click. I receive the notification on my phone but not on the android auto simulator. I am aware of MessagingStyle being used now instead of UnreadConversations, however I can't find a proper source of code example using it.</p>\n<p><strong>showNotification() method in MainActivity.java</strong></p>\n<pre><code>private void showNotification(Context context) {\n    Person user = new Person.Builder()\n            .setName(&quot;Reminder&quot;)\n            .build();\n\n    NotificationCompat.MessagingStyle messagingStyle = new NotificationCompat.MessagingStyle(user)\n            .setConversationTitle(&quot;Reminder!&quot;)\n            .addMessage(&quot;Do you want to continue??&quot;, System.currentTimeMillis(), user);\n\n    // Yes Action (Reply)\n    Intent yesIntent = new Intent(context, MessagingService.class);\n    yesIntent.setAction(MessagingService.ACTION_REPLY);\n    PendingIntent yesPendingIntent = PendingIntent.getService(\n            context,\n            0,\n            yesIntent,\n            PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE\n    );\n\n    NotificationCompat.Action yesAction =\n            new NotificationCompat.Action.Builder(android.R.drawable.ic_menu_send, &quot;Yes&quot;, yesPendingIntent)\n                    .setSemanticAction(NotificationCompat.Action.SEMANTIC_ACTION_REPLY)\n                    .build();\n\n    // No Action (Mark as Read)\n    Intent noIntent = new Intent(context, MessagingService.class);\n    noIntent.setAction(MessagingService.ACTION_MARK_AS_READ);\n    PendingIntent noPendingIntent = PendingIntent.getService(\n            context,\n            1,\n            noIntent,\n            PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE\n    );\n\n    NotificationCompat.Action noAction =\n            new NotificationCompat.Action.Builder(android.R.drawable.ic_menu_close_clear_cancel, &quot;No&quot;, noPendingIntent)\n                    .setSemanticAction(NotificationCompat.Action.SEMANTIC_ACTION_MARK_AS_READ)\n                    .build();\n\n    NotificationCompat.Builder builder = new NotificationCompat.Builder(context, CHANNEL_ID)\n            .setContentTitle(&quot;Reminder&quot;)\n            .setContentText(&quot;Do you want to continue?&quot;)\n            .setSmallIcon(android.R.drawable.ic_dialog_info)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setCategory(NotificationCompat.CATEGORY_MESSAGE)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setStyle(messagingStyle)\n            .addAction(yesAction)\n            .addAction(noAction)\n            .extend(new NotificationCompat.CarExtender());\n\n    NotificationManager notificationManager =\n            (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.notify(NOTIFICATION_ID, builder.build());\n}\n</code></pre>\n<p><strong>MessagingService.java</strong></p>\n<pre><code>public class MessagingService extends Service {\npublic static final String ACTION_REPLY = &quot;com.example.REPLY&quot;;\npublic static final String ACTION_MARK_AS_READ = &quot;com.example.MARK_AS_READ&quot;;\n\n@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    handleIntent(intent);\n    return START_NOT_STICKY;\n}\n\nprivate void handleIntent(Intent intent) {\n    if (intent == null) return;\n\n    String action = intent.getAction();\n    if (ACTION_REPLY.equals(action)) {\n        handleReplyAction();\n    } else if (ACTION_MARK_AS_READ.equals(action)) {\n        handleMarkAsReadAction();\n    }\n\n    stopSelf();\n}\n\nprivate void handleReplyAction() {\n    // Automatically set the reply to &quot;Yes&quot;\n    String replyMessage = &quot;Yes&quot;;\n    Log.d(&quot;MessagingService&quot;, &quot;Auto reply sent: &quot; + replyMessage);\n\n    // Send the &quot;Yes&quot; response back to MainActivity\n    Intent mainActivityIntent = new Intent(this, com.example.notificationapp.MainActivity.class);\n    mainActivityIntent.putExtra(&quot;response&quot;, replyMessage);\n    mainActivityIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    startActivity(mainActivityIntent);\n\n    // Cancel the notification\n    cancelNotification();\n}\n\nprivate void handleMarkAsReadAction() {\n    Log.d(&quot;MessagingService&quot;, &quot;Notification marked as read&quot;);\n    cancelNotification();\n}\n\nprivate void cancelNotification() {\n    NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.cancel(com.example.notificationapp.MainActivity.NOTIFICATION_ID);\n}\n\n@Nullable\n@Override\npublic IBinder onBind(Intent intent) {\n    return null;\n}}\n</code></pre>\n<p>I have implemented the above so far. I want the notification generated here to be sent to android auto simulator (DHU) as well. I would really appreciate some help. If you need any other code snippets please do let me know. Thank you in advance! :)</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}