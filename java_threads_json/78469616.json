{
  "question": {
    "tags": [
      "java",
      "json",
      "jackson",
      "jsonschema"
    ],
    "owner": {
      "account_id": 4171143,
      "reputation": 141,
      "user_id": 3418882,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/35da37715b3ce57f296478693686accf?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "rsenden",
      "link": "https://stackoverflow.com/users/3418882/rsenden"
    },
    "is_answered": true,
    "view_count": 248,
    "accepted_answer_id": 79023586,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1727276300,
    "creation_date": 1715558881,
    "question_id": 78469616,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78469616/check-whether-two-json-schemas-are-semantically-the-same",
    "title": "Check whether two JSON schemas are semantically the same",
    "body": "<p>We automatically generate a JSON schema from our Java model on every build of our application, and automatically publish the schema on specific CI/CD pipeline runs. We need the schema to be versioned, and schema version is different from application version.</p>\n<p>Schema version is manually maintained in our application code; whenever we change our model, we need to manually increase schema version defined in a constant. Eventually, each schema version will be published to a website as our-schema-x.y.json.</p>\n<p>To avoid accidentally changing the Java model (and thus schema) without updating schema version, we'd like to compare the previously published schema with the newly generated schema, and fail the build if they are semantically different.</p>\n<p>We only care about structural schema changes, like allowed properties being added or removed, changes in allowed property (enum) values, ... Non-structural changes like updated property descriptions are allowed, in which case we'd update the already published schema version.</p>\n<p>Question is how to best perform such comparison, based on deserializing the schemas into Jackson JsonNode instances:</p>\n<ul>\n<li>Default Jackson-based comparison ignores property order, so we don't need to worry about this</li>\n<li>Default Jackson-based comparison takes array order into account. I guess for enum arrays we should explicitly ignore array order, what about other JSON schema fields that take array values?</li>\n<li>We can remove description fields before comparison. Are there any other JSON schema fields that could potentially change without affecting the JSON structure described by the schema?</li>\n<li>Any other considerations/specific JSON schema properties that require special attention?</li>\n</ul>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}