{
  "question": {
    "tags": [
      "java",
      "oracle-database",
      "tomcat",
      "ojdbc"
    ],
    "owner": {
      "account_id": 30757033,
      "reputation": 11,
      "user_id": 23586868,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocJrnlmSBzmTO6QHnG0-l1yHdw2Mbai1UIvL38mX-bEZWp0=k-s256",
      "display_name": "Diego Porta Martinez",
      "link": "https://stackoverflow.com/users/23586868/diego-porta-martinez"
    },
    "is_answered": false,
    "view_count": 188,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1713973964,
    "creation_date": 1710233019,
    "last_edit_date": 1710434325,
    "question_id": 78145690,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78145690/i-have-ora-01756-error-using-ojdbc7-jar-in-tomcat",
    "title": "I have ORA-01756 error using ojdbc7.jar in Tomcat",
    "body": "<p>A few weeks ago I started having this error in my connections from tomcat to Oracle:</p>\n<p><code>Caused by: java.sql.SQLException: Locale not recognized</code></p>\n<p>Trying the following configurations in the jvm didn't seem to fix it:</p>\n<p><code>-Duser.language=es -Duser.region=ES</code></p>\n<p>so I contacted Oracle support and they provided me with the patch p30649766_121020</p>\n<p>After applying it, the error is considerably smaller and has disappeared, with the following error appearing instead:\n<code> Caused by: java.sql.SQLException: ORA-00604: se ha producido un error a nivel 1 de SQL recursivo  ORA-01756: la cadena entrecomillada no est√° terminada correctamente</code></p>\n<p>From oracle do not locate the error.</p>\n<p>I have tried to reproduce the error directly with some of the queries but without success.</p>\n<p>What I have achieved is, by means of a network capture, to see that when the error occurs, the following string appears:</p>\n<pre><code>ALTER SESSION SET TIME_ZONE='Europe/MadridSESSION_CLIENT_LOBATTR1SESSION_CLIENT_DRIVER_NAMEjdbcthin\n</code></pre>\n<p>And when done correctly, I see the following:</p>\n<pre><code>ALTER SESSION SET TIME_ZONE='Europe/Madrid' NLS_LANGUAGE='SPANISH'  NLS_TERRITORY='SPAIN'SESSION_CLIENT_LOBATTR1SESSION_CLIENT_DRIVER_NAMEjdbcthin\n</code></pre>\n<p>In the first string a quotation mark is missing. It is not something that I have managed to reproduce directly, since the error is random.</p>\n<p>It seems to be a problem with the driver since it is a query launched by the driver before the query launched by my application. Has this happened to anyone before?</p>\n<p>After one of the comments of this post, I tried to user another versions of the driver:</p>\n<pre><code>java -jar ojdbc8.jar Oracle 19.22.0.0.0 JDBC 4.2 compiled with javac 1.8.0_391 on Sun_Oct_29_03:24:04_PDT_2023 \n\njava -jar ojdbc8.jar \nOracle 23.3.0.23.09 JDBC 4.2 debug compiled with javac 1.8.0_381-ea on Thu_Aug_31_22:00:13_PDT_2023\n\n[Default Properties Resource]\n#Default Connection Properties Resource\n#Thu Mar 14 10:09:03 CET 2024\n</code></pre>\n<p>I have the same error, seems to be less frequently.</p>\n<p>My oracle version is: Oracle Database 12c Enterprise Edition Release 12.1.0.2.0</p>\n<p>Tomcat: 8.5</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}