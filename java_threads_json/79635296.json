{
  "question": {
    "tags": [
      "java"
    ],
    "owner": {
      "account_id": 259905,
      "reputation": 1645,
      "user_id": 543128,
      "user_type": "registered",
      "accept_rate": 71,
      "profile_image": "https://www.gravatar.com/avatar/a15ea9d85b1e7db5ab0d2f8dafca0a95?s=256&d=identicon&r=PG",
      "display_name": "Stefanos Kalantzis",
      "link": "https://stackoverflow.com/users/543128/stefanos-kalantzis"
    },
    "is_answered": true,
    "view_count": 458,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1758875432,
    "creation_date": 1747994630,
    "question_id": 79635296,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79635296/issues-with-java-20-url-uri-deprecation",
    "title": "issues with Java 20 URL -&gt; URI deprecation",
    "body": "<p>So, since JDK-8294241, we're supposed to use <code>new URI().toURL()</code>.</p>\n<p>The problem is that <code>new URI()</code> throws exceptions for not properly encoded URLs.</p>\n<p>This makes it extremely hard to use the new classes for deserialization, or any other way of parsing URLs which your application does not construct from scratch.</p>\n<p>For example, this URL cannot be constructed with URI: <code>https://google.com/search?q=with|pipe</code>.</p>\n<p>I understand that ideally a client or other system would not send such URLs, but the reality is different...</p>\n<p>This also creates cascade issues. For example how is jackson-databind, as a library, supposed to replace URL construction with <code>new URI().toURL()</code>. It's simply not a viable option.</p>\n<p>So, is there any solution here? <strong>In my opinion this should be built-in in Java.</strong> Something like <code>URI.parse(String url)</code> which properly parses any URL.</p>\n<p>For what its worth, I couldn't find any libraries that can parse Strings to URIs, except this one from Spring: <code>UriComponentsBuilder.fromUriString().build().toUri()</code>. This is using an officially provided regex, in <a href=\"https://datatracker.ietf.org/doc/html/rfc3986#appendix-B\" rel=\"nofollow noreferrer\">Appendix B from RFC 3986</a>. But of course it's not a universal solution, and also means that all libraries/frameworks will eventually have to duplicate this code...</p>\n<p>Seems like a huge oversight to me :shrug:</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}