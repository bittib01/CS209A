{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "keycloak",
      "keycloak-rest-api"
    ],
    "owner": {
      "account_id": 2788332,
      "reputation": 1096,
      "user_id": 8279074,
      "user_type": "registered",
      "accept_rate": 73,
      "profile_image": "https://lh5.googleusercontent.com/-_hq9aRQDtpc/AAAAAAAAAAI/AAAAAAAAATs/bKPG7E8kJf0/s256-rj/photo.jpg",
      "display_name": "pavithra prabodha",
      "link": "https://stackoverflow.com/users/8279074/pavithra-prabodha"
    },
    "is_answered": false,
    "view_count": 1846,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1741352235,
    "creation_date": 1736237692,
    "question_id": 79335281,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79335281/how-to-define-custom-user-attributes-in-keycloak-26s-realm-user-profile-via-the",
    "title": "How to define custom user attributes in Keycloak 26&#39;s realm user profile via the Java Admin Client?",
    "body": "<p>I'm working with Keycloak 26 and want to define custom user attributes (e.g. user_type ) at the realm level so they appear in the user profile.</p>\n<p>Here's what I've tried in my Java (Spring Boot) service, which uses the Keycloak Admin Client:</p>\n<pre><code>   public void defineUserAttributes(String realmName) {\n    RealmResource realmResource = keycloak.realm(realmName);\n    RealmRepresentation realmRep = realmResource.toRepresentation();\n\n    realmRep.getAttributes().put(&quot;userProfileEnabled&quot;, &quot;true&quot;);\n\n    String userProfileConfigJson = &quot;&quot;\n    &quot; {\n        &quot;attributes&quot;: [{\n            &quot;name&quot;: &quot;user_type&quot;,\n            &quot;required&quot;: false\n        }, ]\n    }\n    &quot;&quot;\n    &quot;;\n\n    realmRep.getAttributes().put(&quot;userProfileConfiguration&quot;, userProfileConfigJson);\n    realmResource.update(realmRep);\n}\n</code></pre>\n<p>But it seems this is not working. Can someone help me with this? When I do it manually, I can update them from here in the Realm settings.</p>\n<p><a href=\"https://i.sstatic.net/pZUJhEfg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/pZUJhEfg.png\" alt=\"enter image description here\" /></a></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}