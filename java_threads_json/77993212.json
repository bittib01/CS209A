{
  "question": {
    "tags": [
      "java",
      "docker",
      "docker-compose"
    ],
    "owner": {
      "account_id": 24419746,
      "reputation": 19,
      "user_id": 18652716,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/lrtZG.jpg?s=256",
      "display_name": "Andy Good",
      "link": "https://stackoverflow.com/users/18652716/andy-good"
    },
    "is_answered": true,
    "view_count": 3963,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1728673521,
    "creation_date": 1707902660,
    "last_edit_date": 1708036602,
    "question_id": 77993212,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77993212/docker-compose-build-failed-to-solve-changes-out-of-order",
    "title": "docker compose build: failed to solve: changes out of order",
    "body": "<p>dockerfile</p>\n<pre><code>FROM openjdk:alpine\nARG JAR_FILE=target/*.jar\nCOPY ./target/diplomAPI-0.0.1-SNAPSHOT.jar app.jar\n\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;/app.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '3'\nservices:\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - &quot;8080:8080&quot;\n    depends_on:\n      - db\n  db:\n    image: postgres\n    restart: always\n    ports:\n      - &quot;5432:5432&quot;\n    environment:\n      POSTGRES_DB: mobilka\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 12345\n</code></pre>\n<p>error code:</p>\n<pre><code>PS C:\\Users\\extre\\IdeaProjects\\diplomAPI&gt; docker-compose build\n[+] Building 0.0s (0/0)  docker:default\n[+] Building 0.0s (0/0)  docker:defaultr reading preface from client //./pipe/docker_engine: file has already been closed\n[+] Building 2.2s (6/7)                                                                                                                                                                                              docker:default\n =&gt; [app internal] load build definition from Dockerfile                                                                                                                                                                       0.0s\n =&gt; =&gt; transferring dockerfile: 180B                                                                                                                                                                                           0.0s \n =&gt; [app internal] load metadata for docker.io/library/openjdk:alpine                                                                                                                                                          2.0s \n =&gt; [app auth] library/openjdk:pull token for registry-1.docker.io                                                                                                                                                             0.0s\n =&gt; [app internal] load .dockerignore                                                                                                                                                                                          0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                                                                0.0s \n =&gt; ERROR [app internal] load build context                                                                                                                                                                                    0.0s \n =&gt; =&gt; transferring context: 57B                                                                                                                                                                                               0.0s \n =&gt; [app 1/2] FROM docker.io/library/openjdk:alpine@sha256:1fd5a77d82536c88486e526da26ae79b6cd8a14006eb3da3a25eb8d2d682ccd6                                                                                                    0.0s \n------\n &gt; [app internal] load build context:\n------\nfailed to solve: changes out of order: &quot;target/diplomAPI-0.0.1-SNAPSHOT.jar&quot; &quot;&quot;\n\n\n</code></pre>\n<p>The <code>Dockerfile</code> and <code>docker-compose.yml</code> files are in the same folder. The file <code>diplomAPI-0.0.1-SNAPSHOT.jar</code> actually exists and is located in the specified folder.</p>\n<p>I attempted deleting a line <code>ARG JAR_FILE=target/*.jar</code> without any improvement.</p>\n<p>I attempted to put the Dockerfile and docker-compose.yml in a separate folders and specified this path as the context without any improvement.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}