{
  "question": {
    "tags": [
      "java",
      "android",
      "android-studio",
      "16kb-page-size"
    ],
    "owner": {
      "account_id": 19216794,
      "reputation": 1954,
      "user_id": 14041392,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/cyAcxGgY.jpg?s=256",
      "display_name": "DevQt",
      "link": "https://stackoverflow.com/users/14041392/devqt"
    },
    "is_answered": true,
    "view_count": 3101,
    "accepted_answer_id": 79774377,
    "answer_count": 2,
    "score": 3,
    "last_activity_date": 1763004531,
    "creation_date": 1758775078,
    "last_edit_date": 1758879230,
    "question_id": 79774365,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79774365/google-play-requires-all-apps-targeting-android-15-to-support-16-kb-memory-page",
    "title": "Google Play requires all apps targeting Android 15+ to support 16 KB memory page sizes: libraries located under base/lib/arm64-v8a and base/lib/x86_64",
    "body": "<p>To gather knowledge about:</p>\n<blockquote>\n<p>To ensure your app works correctly on the latest versions of Android, Google Play requires all apps targeting Android 15+ to support 16 KB memory page sizes.\nFrom Nov 1, 2025, if your app updates do not support 16 KB memory page sizes, you won't be able to release these updates.</p>\n<p>Your latest production release does not support 16 KB memory page sizes.</p>\n</blockquote>\n<p>Note: the above notice came from Google Play Console.</p>\n<hr />\n<p>I've already read this forum:</p>\n<blockquote>\n<p><a href=\"https://www.reddit.com/r/androiddev/comments/1khwk0n/android_developers_blog_prepare_your_apps_for/\" rel=\"nofollow noreferrer\">Android Developers Blog: Prepare your apps for Google Playâ€™s 16 KB page size compatibility requirement</a></p>\n</blockquote>\n<p>The part of the forum that caught my attention was this comment:</p>\n<blockquote>\n<p>Can someone explain to me what the hell they mean with (by) page size?</p>\n</blockquote>\n<blockquote>\n<p>RE: It's quite low level stuff. The virtual memory used by the operating system is dividied into blocks called a page, which is the smallest unit of memory you can allocate. Most commonly that <a href=\"https://www.reddit.com/search/?q=Android+16KB+page+size&amp;cId=3f152540-9437-4e84-a623-342957fabbd2&amp;iId=a17605be-6344-4010-81ac-3c900970984a\" rel=\"nofollow noreferrer\">page size</a> has been 4KB, but now they are transitioning to 16KB.</p>\n<p>The only place this matters is when writing native code and thus manually allocating memory.</p>\n</blockquote>\n<p>As I'm getting more details about this issue, I've found these details on Google Play Console &gt; Latest releases and bundles &gt; (my specific release app bundle) &gt; Memory page size (\nDoes not support 16 KB):</p>\n<blockquote>\n<p>Libraries that do not support 16 KB:</p>\n<ol>\n<li><p>base/lib/arm64-v8a/libbarhopper_v3.so</p>\n</li>\n<li><p>base/lib/arm64-v8a/libface_detector_v2_jni.so</p>\n</li>\n<li><p>base/lib/arm64-v8a/libimage_processing_util_jni.so</p>\n</li>\n<li><p>base/lib/arm64-v8a/libmlkit_google_ocr_pipeline.so</p>\n</li>\n<li><p>base/lib/arm64-v8a/libmlkitcommonpipeline.so</p>\n</li>\n<li><p>base/lib/arm64-v8a/libxeno_native.so</p>\n</li>\n<li><p>base/lib/x86_64/libbarhopper_v3.so</p>\n</li>\n<li><p>base/lib/x86_64/libface_detector_v2_jni.so</p>\n</li>\n<li><p>base/lib/x86_64/libimage_processing_util_jni.so</p>\n</li>\n<li><p>base/lib/x86_64/libmlkit_google_ocr_pipeline.so</p>\n</li>\n<li><p>base/lib/x86_64/libmlkitcommonpipeline.so</p>\n</li>\n<li><p>base/lib/x86_64/libxeno_native.so</p>\n</li>\n</ol>\n</blockquote>\n<p>To further investigate this case, I tried generating an <code>.aab</code> file in Android Studio using the following steps:</p>\n<ul>\n<li><em>Build &gt; Generate Signed App Bundle or APK &gt; Android App Bundle &gt; (<code>.jks</code>) Key Store &gt; Next &gt; Release (option) &gt; then Create.</em></li>\n</ul>\n<p>Right after the <code>.aab</code> file was generated, I analyzed the app bundle, and saw these warnings:</p>\n<p><a href=\"https://i.sstatic.net/Tq4yiyJj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Tq4yiyJj.png\" alt=\"screenshot\" /></a></p>\n<p>Note that the codebase of this project is <em>written</em> in <strong>Java</strong>. I have no clear idea about how to address this without introducing unnecessary modifications or adjustments.</p>\n<p>I've added the <code>android-studio</code> tag because I was thinking the IDE itself might have something to do with this case.</p>\n<p>Here's my <code>app/build.gradle</code> configurations:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\napply plugin: 'com.google.firebase.crashlytics'\n\nandroid {\n    compileSdk 36\n\n    defaultConfig {\n        applicationId &quot;com.app.myapp&quot;\n        minSdkVersion 26\n        multiDexEnabled true\n        targetSdk 36\n        versionCode 25\n        versionName &quot;1.4.1&quot;\n        vectorDrawables.useSupportLibrary = true\n        setProperty(&quot;archivesBaseName&quot;, &quot;MyApp&quot;)\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        proguard {\n            debuggable false\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro', 'proguard.cfg'\n        }\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            signingConfig signingConfigs.debug\n        }\n        debug {\n            isDefault true\n            minifyEnabled false\n            proguardFiles 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    // {IMPORTANT NOTE} Do NOT compress tflite model files (need to call out to developers!)\n    namespace 'com.app.myapp'\n    androidResources {\n        noCompress 'tflite'\n    }\n}\n\nrepositories {\n    // Depending on AndroidX Snapshot Builds to get the latest CameraX libs.\n    maven { url 'https://androidx.dev/snapshots/builds/6787662/artifacts/repository/' }\n}\n\ndependencies {\n\n    /*SharedPreferences implementation*/\n    implementation 'androidx.preference:preference:1.2.1'\n\n\n    implementation 'com.facebook.shimmer:shimmer:0.5.0@aar'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.drawerlayout:drawerlayout:1.2.0'\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.7.6'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.7.6'\n    implementation 'androidx.recyclerview:recyclerview:1.3.2'\n    implementation 'androidx.viewpager2:viewpager2:1.1.0-beta02'\n    implementation 'me.relex:circleindicator:2.1.6'\n    implementation 'androidx.core:core-ktx:1.12.0'\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\n    implementation 'com.google.android.material:material:1.11.0'\n    implementation 'net.sourceforge.jtds:jtds:1.3.1'\n    implementation files('libs/activation.jar')\n    implementation files('libs/additionnal.jar')\n    implementation files('libs/mail.jar')\n    implementation files('libs/commons-dbutils-1.7.jar')\n\n    implementation 'com.airbnb.android:lottie:6.1.0'\n    implementation 'androidx.compose.ui:ui-graphics-android:1.5.4'\n    implementation 'androidx.compose.ui:ui-desktop:1.6.0-beta03'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.android.volley:volley:1.2.1'\n\n    implementation 'com.google.mlkit:face-mesh-detection:16.0.0-beta1'\n\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'com.google.android.gms:play-services-auth:20.7.0'\n\n    implementation 'com.nex3z:notification-badge:1.0.2'\n\n    // Import the BoM for the Firebase platform\n    implementation(platform(&quot;com.google.firebase:firebase-bom:32.3.1&quot;))\n\n    // Add the dependencies for the In-App Messaging and Analytics libraries\n    implementation(&quot;com.google.firebase:firebase-inappmessaging-display&quot;)\n\n    // Add the dependencies for the Firebase Cloud Messaging and Analytics libraries\n    // When using the BoM, you don't specify versions in Firebase library dependencies\n    implementation(&quot;com.google.firebase:firebase-messaging&quot;)\n    implementation(&quot;com.google.firebase:firebase-analytics&quot;)\n    implementation(&quot;com.google.firebase:firebase-crashlytics&quot;)\n\n\n\n    // Barcode model\n    implementation 'com.google.mlkit:barcode-scanning:17.2.0'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-barcode-scanning:18.3.0'\n\n    // Object detection feature with bundled default classifier\n    implementation 'com.google.mlkit:object-detection:17.0.0'\n\n    // Object detection feature with custom classifier support\n    implementation 'com.google.mlkit:object-detection-custom:17.0.1'\n\n    // Face features\n    implementation 'com.google.mlkit:face-detection:16.1.5'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    implementation 'com.google.android.gms:play-services-mlkit-face-detection:17.1.0'\n\n    // Text features\n    implementation 'com.google.mlkit:text-recognition:16.0.0'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-text-recognition:19.0.0'\n    implementation 'com.google.mlkit:text-recognition-chinese:16.0.0'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-text-recognition-chinese:16.0.0'\n    implementation 'com.google.mlkit:text-recognition-devanagari:16.0.0'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-text-recognition-devanagari:16.0.0'\n    implementation 'com.google.mlkit:text-recognition-japanese:16.0.0'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-text-recognition-japanese:16.0.0'\n    implementation 'com.google.mlkit:text-recognition-korean:16.0.0'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-text-recognition-korean:16.0.0'\n\n    // Image labeling\n    implementation 'com.google.mlkit:image-labeling:17.0.7'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-image-labeling:16.0.8'\n\n    // Image labeling custom\n    implementation 'com.google.mlkit:image-labeling-custom:17.0.2'\n    // Or comment the dependency above and uncomment the dependency below to\n    // use unbundled model that depends on Google Play Services\n    // implementation 'com.google.android.gms:play-services-mlkit-image-labeling-custom:16.0.0-beta4'\n\n    // Pose detection with default models\n    implementation 'com.google.mlkit:pose-detection:18.0.0-beta3'\n    // Pose detection with accurate models\n    implementation 'com.google.mlkit:pose-detection-accurate:18.0.0-beta3'\n\n    // Selfie segmentation\n    implementation 'com.google.mlkit:segmentation-selfie:16.0.0-beta4'\n\n    implementation 'com.google.mlkit:camera:16.0.0-beta3'\n\n    // Face Mesh Detection\n    implementation 'com.google.mlkit:face-mesh-detection:16.0.0-beta1'\n\n    // -------------------------------------------------------\n\n    implementation 'com.google.code.gson:gson:2.10.1'\n    implementation 'com.google.guava:guava:32.1.2-jre'\n\n    // For how to setup gradle dependencies in Android X, see:\n    // https://developer.android.com/training/testing/set-up-project#gradle-dependencies\n    // Core library\n    androidTestImplementation 'androidx.test:core:1.5.0'\n\n    // AndroidJUnitRunner and JUnit Rules\n    androidTestImplementation 'androidx.test:runner:1.5.2'\n    androidTestImplementation 'androidx.test:rules:1.5.0'\n\n    // Assertions\n    androidTestImplementation 'androidx.test.ext:junit:1.2.1'\n\n    // ViewModel and LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:2.6.2&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&quot;\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.annotation:annotation:1.7.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n\n    // CameraX\n    implementation 'androidx.camera:camera-camera2:1.4.0-alpha03'\n    implementation 'androidx.camera:camera-lifecycle:1.4.0-alpha03'\n    implementation 'androidx.camera:camera-view:1.4.0-alpha03'\n\n    // CameraX Core library\n    implementation 'androidx.camera:camera-core:1.4.0-alpha03'\n\n    // CameraX Extensions library (for additional features)\n    implementation 'androidx.camera:camera-extensions:1.4.0-alpha03'\n\n    // On Device Machine Learnings\n    implementation &quot;com.google.android.odml:image:1.0.0-beta1&quot;\n}\n</code></pre>\n<hr />\n<p>In addition, with the help of <a href=\"https://stackoverflow.com/a/79774377/14041392\">Bashu's answer</a> and <a href=\"https://medium.com/proandroiddev/supporting-16kb-page-sizes-in-your-android-flutter-application-361c6de7bb62\" rel=\"nofollow noreferrer\">tomerpacific's article</a>. I went to <code>app/build.gradle</code>. I then hovered over a dependency that had a warning suggesting a new version of it. For example:</p>\n<p><a href=\"https://i.sstatic.net/gNao7uIz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/gNao7uIz.png\" alt=\"dependency\" /></a></p>\n<p>Since I'm using Android Studio, the lint warning helped me a lot.</p>\n<p>However, after I generated the <code>.aab</code> file and then analyzed it again, I got this alignment status:</p>\n<p><a href=\"https://i.sstatic.net/KI09cbGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/KI09cbGy.png\" alt=\"analyze aab\" /></a></p>\n<hr />\n<p>Does anyone know how to address this properly?</p>\n<hr />\n<h4>Edit: The following note is excluded from the question body</h4>\n<p>I uploaded a patch to Google Play Console, and I got this notification:</p>\n<p><a href=\"https://i.sstatic.net/kEGTBglb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/kEGTBglb.png\" alt=\"notification\" /></a></p>\n<p>It shows that the <strong>Alignment</strong> section contains a warning with this message:</p>\n<blockquote>\n<p>APK does not support 16KB devices</p>\n</blockquote>\n<p>is ignored in Google Play policies.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}