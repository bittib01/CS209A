{
  "question": {
    "tags": [
      "java",
      "spring",
      "dto",
      "pojo",
      "mapstruct"
    ],
    "owner": {
      "account_id": 3333854,
      "reputation": 141,
      "user_id": 2802052,
      "user_type": "registered",
      "accept_rate": 50,
      "profile_image": "https://i.sstatic.net/IyFmC.jpg?s=256",
      "display_name": "Gagan",
      "link": "https://stackoverflow.com/users/2802052/gagan"
    },
    "is_answered": true,
    "view_count": 79,
    "answer_count": 1,
    "score": -4,
    "last_activity_date": 1742651523,
    "creation_date": 1742484492,
    "last_edit_date": 1742521662,
    "question_id": 79523399,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79523399/convert-mapstring-mapstring-object-to-class-using-mapstruct",
    "title": "Convert Map&lt;String, Map&lt;String, Object&gt;&gt; to class using mapstruct",
    "body": "<p>I have an API response which looks like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;apiResponse&quot;: {\n    &quot;successRequestList&quot;: {\n      &quot;rides&quot;: {\n        &quot;bike&quot;: null,\n        &quot;cars&quot; :{\n          &quot;features&quot;: {&quot;roof&quot;, &quot;Power Steer&quot;, &quot;...&quot;},\n          &quot;variants&quot;: {&quot;petrol&quot;, &quot;diesel&quot;, &quot;hybrid&quot;},\n          &quot;launched&quot; : [\n            {\n              &quot;city-name&quot;: &quot;&quot;,\n              &quot;country&quot;: &quot;&quot;\n            }\n          ]\n        }\n      }\n    },\n    &quot;failedRequestList&quot;: {}\n  }\n}\n</code></pre>\n<p>I want to get the value of cars into the following object using mapstruct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Assets {\n    private String validResponse;\n    private Drive drive;\n}\n\npublic class Drive {\n    private List&lt;String&gt; features;\n    private List&lt;String&gt; variants;\n    private List&lt;Availability&gt; availableIn;\n}\n</code></pre>\n<p>I'm trying to use mapstruct to map cars to Drive object but not able to find a way to achieve this.</p>\n<p>I have tried writing the custom default methods too to achieve this but getting the <code>ClassCastException</code></p>\n<blockquote>\n<p>java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class Assets$Drive (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; Assets$Drive is in unnamed module of loader 'app')</p>\n</blockquote>\n<p>Can someone suggest if this can be achieved easily via Mapstruct or should I prefer any other library. Chat GPT was also not able to provide any viable solution.</p>\n<p>The JSON response is saved into the class ResponseDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ResponseDTO {\n    private Map&lt;String, Map&lt;String, Object&gt;&gt; successRequestList;\n}\n</code></pre>\n<p>So I need the mapping for this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RideMapper {\n\n    @Mapping(target = &quot;drive&quot;, expression = &quot;java((Drive) response.getSuccessRequestList()&quot; +\n            &quot;.get(\\&quot;rides\\&quot;).get(\\&quot;cars\\&quot;))&quot;)\n    Assets mapToRulesReferenceContext(ResponseDTO response);\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}