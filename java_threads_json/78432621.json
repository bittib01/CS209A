{
  "question": {
    "tags": [
      "java",
      "libgdx",
      "game-development",
      "game-engine"
    ],
    "owner": {
      "account_id": 30464179,
      "reputation": 1,
      "user_id": 23345722,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0db56d88f08693006a997c9ecff3a1e3?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Nh&#226;̣t Thành",
      "link": "https://stackoverflow.com/users/23345722/nh%c3%a2%cc%a3t-tha%cc%80nh"
    },
    "is_answered": false,
    "view_count": 89,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1716951775,
    "creation_date": 1714920415,
    "question_id": 78432621,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78432621/how-to-deal-damage-only-on-some-frames-on-attack",
    "title": "How to deal damage only on (some) frame(s) on attack?",
    "body": "<p>I'm making a game by LibGdx, my character can attack and have animation for it, but I want that the attack only deal damage to enemy only in specific frame of animation, not just in start/end of the animation.</p>\n<p>I made a hitEntities array to store the enemy that character hit, and only add hitEntities when the current frame is the frame that I want to deal damage.\nUpdate() method call everytime my character draw().</p>\n<p>This approach works sometimes, but sometimes it makes the attack miss. I think there can be another way that can be more optimal.</p>\n<pre><code> public void update(float statetime){\n        if(owner.isDead()) return;\n        if(frameToDealDamageIdx &lt; frameToDealDamage.length &amp;&amp; animation.getKeyFrameIndex(statetime) == frameToDealDamage[frameToDealDamageIdx]){\n            dealDamage();\n        }\n    }\n</code></pre>\n<pre><code>public void addHitEntity(Entity entity){\n        statetime += Gdx.graphics.getDeltaTime();\n        if(frameToDealDamageIdx &gt;= frameToDealDamage.length || animation.getKeyFrameIndex(statetime) != frameToDealDamage[frameToDealDamageIdx]) return;\n        if(hitEntities.contains(entity, false)) return;\n        hitEntities.add(entity);\n    }\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}