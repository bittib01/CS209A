{
  "question": {
    "tags": [
      "java",
      "android",
      "bottomnavigationview"
    ],
    "owner": {
      "account_id": 6429211,
      "reputation": 568,
      "user_id": 4983101,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://i.sstatic.net/SvHqc.jpg?s=256",
      "display_name": "The Only Smart Boy",
      "link": "https://stackoverflow.com/users/4983101/the-only-smart-boy"
    },
    "is_answered": true,
    "view_count": 175,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1730262471,
    "creation_date": 1729590858,
    "last_edit_date": 1729661522,
    "question_id": 79113457,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79113457/adding-bottom-navigation-to-fragment-navhostfragment-returns-null",
    "title": "Adding bottom navigation to fragment - navHostFragment returns null",
    "body": "<p>I am trying to add bottom navigation to a fragment but it is not working as I get the following error at run time</p>\n<pre><code>FATAL EXCEPTION: main                                                                                              \nProcess: com.otemainc.m_kliniki, PID: 29940                                                                                                 \njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.otemainc.m_kliniki/com.otemainc.m_kliniki.controller.MainActivity}: android.view.InflateException: Binary XML file line #15: Binary XML file line #19: Error inflating class fragment                                                                                                     \nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2993)                                                                                                        \nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3128)                                                                                                     \nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)                                                                                                      \nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)                                                                                                      \nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)                                                                                                        \nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1888)                                                                                                      \nat android.os.Handler.dispatchMessage(Handler.java:106)                                                                                                      \nat android.os.Looper.loop(Looper.java:193)                                                                                                       \nat android.app.ActivityThread.main(ActivityThread.java:6801)                                                                                                         \nat java.lang.reflect.Method.invoke(Native Method)                                                                                                        \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:518)                                                                                                         \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)                                                                                                   \nCaused by: android.view.InflateException: Binary XML file line #15: Binary XML file line #19: Error inflating class fragment                                                                                                    \nCaused by: android.view.InflateException: Binary XML file line #19: Error inflating class fragment\n                                                                                                Caused by: java.lang.NullPointerException                                                                                                        \nat java.util.Objects.requireNonNull(Objects.java:203)                                                                                                        \nat com.otemainc.m_kliniki.controller.fragments.HomeFragment.onCreateView(HomeFragment.java:33)                                                                                                       \nat androidx.fragment.app.Fragment.performCreateView(Fragment.java:3114)                                                                                                      \nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:557)                                                                                                      \nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:272)                                                                                                         \nat androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:114)                                                                                                       \nat androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1455)                                                                                                      \nat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3034)                                                                                                      \nat androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2945)                                                                                                      \nat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3148)                                                                                                         \nat androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:410)                                                                                                      \nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:271)                                                                                                     \nat androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)                                                                                                      \nat androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:136)                                                                                                        \nat androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:247)                                                                                                       \nat androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:226)                                                                                                        \nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:780)                                                                                                        \nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:730)                                                                                                        \nat android.view.LayoutInflater.rInflate(LayoutInflater.java:863)                                                                                                         \nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)                                                                                                         \nat android.view.LayoutInflater.parseInclude(LayoutInflater.java:995)                                                                                                         \nat android.view.LayoutInflater.rInflate(LayoutInflater.java:859)                                                                                                         \nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)                                                                                                         \nat android.view.LayoutInflater.parseInclude(LayoutInflater.java:995)                                                                                                         \nat android.view.LayoutInflater.rInflate(LayoutInflater.java:859)                                                                                                         \nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:824)                                                                                                         \nat android.view.LayoutInflater.inflate(LayoutInflater.java:515)                                                                                                      \nat android.view.LayoutInflater.inflate(LayoutInflater.java:423)                                                                                                      \nat com.otemainc.m_kliniki.databinding.ActivityMainBinding.inflate(ActivityMainBinding.java:53)                                                                                                       \nat com.otemainc.m_kliniki.databinding.ActivityMainBinding.inflate(ActivityMainBinding.java:47)                                                                                                       \nat com.otemainc.m_kliniki.controller.MainActivity.onCreate(MainActivity.java:38)\n2024-10-23 08:06:51.946 29940-29940 AndroidRuntime          com.otemainc.m_kliniki               E      at android.app.Activity.performCreate(Activity.java:7185)                                                                                                       at android.app.Activity.performCreate(Activity.java:7176)                                                                                                       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1285)                                                                                                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2973)                                                                                                       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3128)                                                                                                    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)                                                                                                     at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)                                                                                                     at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)                                                                                                       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1888)                                                                                                     at android.os.Handler.dispatchMessage(Handler.java:106)                                                                                                     at android.os.Looper.loop(Looper.java:193)                                                                                                      at android.app.ActivityThread.main(ActivityThread.java:6801)                                                                                                    at java.lang.reflect.Method.invoke(Native Method)                                                                                                       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:518)                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>Basically, what I have done is to add bottom navigation and Fragment container view that will act as the host fragment as follows</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:background=&quot;@color/white&quot;\ntools:context=&quot;.controller.fragments.HomeFragment&quot;&gt;\n&lt;androidx.fragment.app.FragmentContainerView\n    android:id=&quot;@+id/nav_host_fragment_activity_nav&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:defaultNavHost=&quot;true&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/bottom_navigation_view&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:navGraph=&quot;@navigation/nav_graph&quot; /&gt;\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/bottom_navigation_view&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;0dp&quot;\n    android:layout_marginEnd=&quot;0dp&quot;\n    android:background=&quot;?android:attr/windowBackground&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_navigation_menu&quot;\n    /&gt;\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I have also created the nav graph and named each navigation fragment item id with the same name as in the menu items as follows\n//The navigation fragment</p>\n<pre><code>      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/nav_graph.xml&quot;\napp:startDestination=&quot;@id/userDashboardFragment&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/userDashboardFragment&quot;\n    android:name=&quot;com.otemainc.m_kliniki.controller.fragments.UserDashboardFragment&quot;\n    android:label=&quot;fragment_user_dashboard&quot;\n    tools:layout=&quot;@layout/fragment_user_dashboard&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/calculatorFragment&quot;\n    android:name=&quot;com.otemainc.m_kliniki.controller.fragments.CalculatorFragment&quot;\n    android:label=&quot;fragment_calculator&quot;\n    tools:layout=&quot;@layout/fragment_calculator&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/reservationFragment&quot;\n    android:name=&quot;com.otemainc.m_kliniki.controller.fragments.ReservationFragment&quot;\n    android:label=&quot;fragment_reservation&quot;\n    tools:layout=&quot;@layout/fragment_reservation&quot; /&gt;\n&lt;fragment\n    android:id=&quot;@+id/walletFragment&quot;\n    android:name=&quot;com.otemainc.m_kliniki.controller.fragments.WalletFragment&quot;\n    android:label=&quot;fragment_wallet&quot;\n    tools:layout=&quot;@layout/fragment_wallet&quot; /&gt;\n    &lt;/navigation&gt;\n\n  //The menu\n\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;item\n    android:id=&quot;@+id/userDashboardFragment&quot;\n    android:icon=&quot;@drawable/baseline_home_filled&quot;\n    android:title=&quot;@string/menu_home&quot; /&gt;\n&lt;item\n    android:id=&quot;@+id/calculatorFragment&quot;\n    android:icon=&quot;@drawable/sigma&quot;\n    android:title=&quot;@string/calculator&quot; /&gt;\n\n&lt;item\n    android:id=&quot;@+id/reservationFragment&quot;\n    android:icon=&quot;@drawable/baseline_calendar_today&quot;\n    android:title=&quot;@string/reservations&quot;/&gt;\n\n&lt;item\n    android:id=&quot;@+id/walletFragment&quot;\n    android:icon=&quot;@drawable/baseline_person_outline&quot;\n    android:title=&quot;@string/wallet&quot; /&gt;\n &lt;/menu&gt;\n</code></pre>\n<p>Finally in my HomeFragment.java file, I've added the code to initialize each item and setup the navigation controller as follows</p>\n<pre><code> public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View root = inflater.inflate(R.layout.fragment_home, container, false);\n    BottomNavigationView navigationView = root.findViewById(R.id.bottom_navigation_view);\n    // Passing each menu ID as a set of Ids because each\n    // menu should be considered as top level destinations.\n    AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n            R.id.userDashboardFragment, R.id.calculatorFragment, R.id.reservationFragment, R.id.walletFragment)\n            .build();\n    AppCompatActivity appCompat = (AppCompatActivity) requireActivity();\n    NavHostFragment navHostFragment = (NavHostFragment) appCompat.getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment_activity_nav);\n    NavController navController = Objects.requireNonNull(navHostFragment).getNavController();\n    NavigationUI.setupActionBarWithNavController((AppCompatActivity) this.requireActivity(), navController, appBarConfiguration);\n    NavigationUI.setupWithNavController(navigationView, navController);\n    return root;\n}\n</code></pre>\n<p>The code crushes when run despite not showing any errors on the IDE and when I set debug points, I realize that the issue is with navHostFragment being null. What could I be missing, Any ideas on how to set the navhostfragment to the one in fragment_home.xml successfully?\nAfter setting debug points at the crushing line and the one above it, the following are screenshots of the outputs\n<a href=\"https://i.sstatic.net/K9YwrDGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/K9YwrDGy.png\" alt=\"Screenshot of the output of the first debug point above the crushing line\" /></a>\n<a href=\"https://i.sstatic.net/z1guzK75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/z1guzK75.png\" alt=\"Screenshot of the output of the crushing line\" /></a></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}