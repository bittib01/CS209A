{
  "question": {
    "tags": [
      "java",
      "android",
      "kotlin",
      "callback"
    ],
    "owner": {
      "account_id": 35553138,
      "reputation": 23,
      "user_id": 27272936,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/299339a770ca7d416cd4174a83369854?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Fahad",
      "link": "https://stackoverflow.com/users/27272936/fahad"
    },
    "is_answered": false,
    "view_count": 97,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1745142660,
    "creation_date": 1745139615,
    "question_id": 79583206,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79583206/how-to-detect-the-back-press-and-home-press-in-accessibility-service",
    "title": "How to detect the back press and home press in accessibility service",
    "body": "<p>I have placed the accessibility service in my android app, and want to detect the back key press button. In the Accessibility service:</p>\n<pre><code>override fun onKeyEvent(event: KeyEvent): Boolean {\n        // Only handle key down events to avoid duplicates\n        Log.d(&quot;keyTestLog&quot;, &quot;onKeyEvent: ${event.keyCode} || ${event.keyCode == KeyEvent.KEYCODE_BACK} &quot;)\n    if (event.action == KeyEvent.ACTION_DOWN) {\n        when (event.keyCode) {\n            KeyEvent.KEYCODE_VOLUME_UP,\n            KeyEvent.KEYCODE_VOLUME_DOWN,\n            KeyEvent.KEYCODE_BACK -&gt; {\n                keyEventListener?.invoke(event.keyCode)\n                return true\n            }\n        }\n    }\n    return super.onKeyEvent(event)\n}\n</code></pre>\n<p>when I press the back button, in the service its event is not get. However, I tested in the activity,</p>\n<pre><code>override fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\n        if (keyCode == KeyEvent.KEYCODE_BACK)\n        {\n            Log.d(&quot;keyTestLog&quot;, &quot;onKeyDown: ACTIVITY_KEY_DOWN&quot;)\n        }\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_UP)\n        {\n            Log.d(&quot;keyTestLog&quot;, &quot;onKeyDown: ACTIVITY_KEY_VOLUME_UP&quot;)\n        }\n\n        return super.onKeyDown(keyCode, event)\n    }\n</code></pre>\n<p>its getting the back button event. I want to implement the functionality to get the back button event in the accessibility service.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}