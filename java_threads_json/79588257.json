{
  "question": {
    "tags": [
      "java",
      "debugging",
      "plugins",
      "hook"
    ],
    "owner": {
      "account_id": 1628184,
      "reputation": 10230,
      "user_id": 1503237,
      "user_type": "registered",
      "accept_rate": 67,
      "profile_image": "https://i.sstatic.net/piBNb.jpg?s=256",
      "display_name": "Matthias Ronge",
      "link": "https://stackoverflow.com/users/1503237/matthias-ronge"
    },
    "is_answered": true,
    "view_count": 121,
    "accepted_answer_id": 79588569,
    "answer_count": 2,
    "score": -1,
    "last_activity_date": 1745596145,
    "creation_date": 1745400407,
    "last_edit_date": 1745401061,
    "question_id": 79588257,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79588257/how-to-register-hooks-in-java",
    "title": "How to register hooks in Java?",
    "body": "<p>For analyzing the runtime behavior of applications, or for implementing plug-ins, is there any way to add hooks to methods' input, output, etc. inside the running application?</p>\n<p>The idea:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection.class.getHooks().add(&quot;size&quot;, Event.BEGIN, (args, vars) -&gt; {\n    System.out.println(&quot;Collection.size() called with args: &quot; + args);\n    vars.put(&quot;start&quot;, System.nanoTime());\n});\n\nCollection.class.getHooks().add(&quot;size&quot;, Event.END, (returnValue, vars) -&gt; {\n    System.out.println(&quot;Collection.size() returned: &quot; + returnValue);\n    Long start = (Long) vars.get(&quot;start&quot;);\n    System.out.println(&quot;Collection.size() took &quot; + (System.nanoTime() - start) + &quot; ns&quot;);\n});\n\nCollection&lt;String&gt; c = new ArrayList&lt;&gt;();\nc.add(&quot;foo&quot;);\nc.size();\n</code></pre>\n<p>Should print something like:</p>\n<pre><code>Collection.size() called with args: null\nCollection.size() returned: 1\nCollection.size() took 123 ns\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}