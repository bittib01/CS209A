{
  "question": {
    "tags": [
      "java",
      "pixel",
      "android-wifi",
      "wifip2p",
      "android-15"
    ],
    "owner": {
      "account_id": 38971233,
      "reputation": 1,
      "user_id": 29043526,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/38ca85043528b5371b769b3c07e958a0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "coderpat",
      "link": "https://stackoverflow.com/users/29043526/coderpat"
    },
    "is_answered": false,
    "view_count": 55,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1755772190,
    "creation_date": 1738849239,
    "question_id": 79418164,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79418164/whats-the-max-size-limit-on-android-net-wifi-aware-discoverysession-sendmessage",
    "title": "What&#39;s the max size limit on android.net.wifi.aware.DiscoverySession.sendMessage?",
    "body": "<p>Unknown size limit of API: android.net.wifi.aware.DiscoverySession.sendMessage causes System.err</p>\n<p>Link to documentation:  <a href=\"https://developer.android.com/reference/android/net/wifi/aware/DiscoverySession#sendMessage(android.net.wifi.aware.PeerHandle,%20int,%20byte%5B%5D)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/net/wifi/aware/DiscoverySession#sendMessage(android.net.wifi.aware.PeerHandle,%20int,%20byte[])</a></p>\n<p>Sending 620bytes of data using the child class of DiscoverySession;<br />\nPublishDiscoverySession.sendMessage</p>\n<p>Logcat:<br />\n2025-02-04 15:59:06.890 21620-21728 MainActivity net.mobilewebprint.nan D Attempting to send message of size: 620 bytes 2025-02-04 15:59:06.893 21620-21728 System.err net.mobilewebprint.nan W java.lang.IllegalArgumentException: Message length longer than supported by device characteristics</p>\n<p>The API works for very small msg size of 10bytes.</p>\n<p>What's the system limit on this API?\nHow do I find out what is supported max size based on device characteristics?</p>\n<p>Details<br />\nWi-Fi Connectivity / Bluetooth, Android Version:15, Pixel 7 Pro</p>\n<p>Tried smaller size.\nThe API works for very small msg size of 10bytes.</p>\n<p>Here is the exception value after failed call.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalArgumentException: Message length longer than supported by device characteristics\nRemote stack trace:\n    at com.android.server.wifi.aware.WifiAwareServiceImpl.sendMessage(WifiAwareServiceImpl.java:640)\n    at android.net.wifi.aware.IWifiAwareManager$Stub.onTransact(IWifiAwareManager.java:528)\n    at android.os.Binder.execTransactInternal(Binder.java:1411)\n    at android.os.Binder.execTransact(Binder.java:1350)\n\nstackTrace = {StackTraceElement[13]@29776} \n 0 = {StackTraceElement@29791} &quot;android.os.Parcel.createExceptionOrNull(Parcel.java:3234)&quot;\n 1 = {StackTraceElement@29792} &quot;android.os.Parcel.createException(Parcel.java:3214)&quot;\n 2 = {StackTraceElement@29793} &quot;android.os.Parcel.readException(Parcel.java:3197)&quot;\n 3 = {StackTraceElement@29794} &quot;android.os.Parcel.readException(Parcel.java:3139)&quot;\n 4 = {StackTraceElement@29795} &quot;android.net.wifi.aware.IWifiAwareManager$Stub$Proxy.sendMessage(IWifiAwareManager.java:1024)&quot;\n 5 = {StackTraceElement@29796} &quot;android.net.wifi.aware.WifiAwareManager.sendMessage(WifiAwareManager.java:750)&quot;\n 6 = {StackTraceElement@29797} &quot;android.net.wifi.aware.DiscoverySession.sendMessage(DiscoverySession.java:229)&quot;\n 7 = {StackTraceElement@29798} &quot;android.net.wifi.aware.DiscoverySession.sendMessage(DiscoverySession.java:261)&quot;\n 8 = {StackTraceElement@29799} &quot;net.mobilewebprint.nan.MainActivity.sendCameraMessage(MainActivity.java:1790)&quot;\n 9 = {StackTraceElement@29800} &quot;net.mobilewebprint.nan.WebRTCCameraFragment$2$1.onSetSuccess(WebRTCCameraFragment.java:397)&quot;\n 10 = {StackTraceElement@29801} &quot;org.webrtc.PeerConnection.nativeSetLocalDescription(Native Method)&quot;\n 11 = {StackTraceElement@29802} &quot;org.webrtc.PeerConnection.setLocalDescription(PeerConnection.java:886)&quot;\n 12 = {StackTraceElement@29803} &quot;net.mobilewebprint.nan.WebRTCCameraFragment$2.onCreateSuccess(WebRTCCameraFragment.java:393)&quot;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}