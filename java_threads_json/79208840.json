{
  "question": {
    "tags": [
      "java",
      "kotlin",
      "apache-pulsar",
      "pulsar"
    ],
    "owner": {
      "account_id": 162583,
      "reputation": 3371,
      "user_id": 384137,
      "user_type": "registered",
      "accept_rate": 59,
      "profile_image": "https://www.gravatar.com/avatar/95e7439332def9c8b26802e40f6a5993?s=256&d=identicon&r=PG",
      "display_name": "dmonopoly",
      "link": "https://stackoverflow.com/users/384137/dmonopoly"
    },
    "is_answered": false,
    "view_count": 78,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1733952514,
    "creation_date": 1732133927,
    "last_edit_date": 1733952514,
    "question_id": 79208840,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79208840/pulsar-reader-seek-for-topics-with-partitions",
    "title": "Pulsar Reader seek for topics with partitions",
    "body": "<p>TLDR; How is</p>\n<pre><code>void seek(Function&lt;String,Object&gt; function)\n   throws PulsarClientException\n</code></pre>\n<p>in the <a href=\"https://pulsar.apache.org/api/client/2.11.x/org/apache/pulsar/client/api/Reader#seek(java.util.function.Function)\" rel=\"nofollow noreferrer\">pulsar reader API</a> expected to be used?</p>\n<p>-- More info</p>\n<p>I'd like to read messages from a pulsar topic that is partitioned.</p>\n<p>Previously I have used <a href=\"https://pulsar.apache.org/api/client/2.11.x/org/apache/pulsar/client/api/Reader#seek(long)\" rel=\"nofollow noreferrer\">seek(Long timestamp)</a> of PulsarReader but there is a note there, &quot;Note: this operation can only be done on non-partitioned topics. For these, one can rather perform the seek() on the individual partitions.&quot;</p>\n<p>Then I read the <a href=\"https://pulsar.apache.org/api/client/2.11.x/org/apache/pulsar/client/api/Reader#seek(java.util.function.Function)\" rel=\"nofollow noreferrer\">seek(Function&lt;String,Object&gt; function)</a> API, which says &quot;The Function input is topic+partition. It returns only timestamp or MessageId.&quot;</p>\n<p>How does one create a Function that refers to, say, a partition called, say, <code>persistent://my-path/.../my-topic-v1-partition-0, persistent://my-path/.../my-topic-v1-partition-1, persistent://my-path/.../my-topic-v1-partition-2</code></p>\n<p>Or perhaps this API was not meant to be exposed?</p>\n<p>I see the open source implementation <a href=\"https://github.com/apache/pulsar/blob/5338dc99ed398060b03a4ecc5b63849caeae3590/pulsar-client/src/main/java/org/apache/pulsar/client/impl/ConsumerImpl.java#L2323\" rel=\"nofollow noreferrer\">here</a> and it looks like the passed in Function is supposed to return an <code>Object seekPosition</code> but to construct the Function to begin with is not clear.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}