{
  "question": {
    "tags": [
      "java",
      "postgresql",
      "hibernate",
      "micronaut"
    ],
    "owner": {
      "account_id": 40822473,
      "reputation": 9,
      "user_id": 29975303,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/4ff882b99216b907aaee9a949b9f102a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "pdjudice",
      "link": "https://stackoverflow.com/users/29975303/pdjudice"
    },
    "is_answered": false,
    "view_count": 114,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1752694816,
    "creation_date": 1741980126,
    "last_edit_date": 1741982037,
    "question_id": 79510056,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79510056/migration-to-hibernate-6-with-micronaut-postgresql-enum-type-mapping-issue",
    "title": "Migration to Hibernate 6 with Micronaut: PostgreSQL Enum Type Mapping Issue",
    "body": "<p>I'm in the process of migrating my application to Hibernate 6 and I'm using Micronaut. I have an entity that was previously annotated with:</p>\n<pre><code>@TypeDef(\n    name = &quot;pgsql_enum&quot;,\n    typeClass = PostgreSQLEnumType.class\n)\n</code></pre>\n<p>And an enum field in my entity like this:</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = &quot;status&quot;)\n@Type(type = &quot;pgsql_enum&quot;)\nprivate StatusEnum status;`\n</code></pre>\n<p>My StatusEnum is defined as:</p>\n<pre><code>public enum StatusEnum {\n    APPROVAL,\n    ACTIVE,\n    COMPLETED,\n}\n</code></pre>\n<p>In PostgreSQL, my enum is defined as:</p>\n<pre><code>CREATE TYPE book.book_status_enum AS ENUM (\n    'APPROVAL',\n    'ACTIVE',\n    'COMPLETED'\n);\n</code></pre>\n<p>Since migrating to Hibernate 6, I've encountered the following error:</p>\n<p><code>operator does not exist: book.book_status_enum = character varying</code></p>\n<p>When I remove the <code>@Enumerated(EnumType.STRING)</code> annotation, I encounter:</p>\n<p><code>operator does not exist: book.book_status_enum = integer</code></p>\n<p>I have tried various approaches including using converters, <code>@Type</code>, JdbcType, <code>@Enumerated</code>, and columnDefinition, but all lead to the same error.</p>\n<p>What I've Tried:</p>\n<ul>\n<li>Using <code>@Enumerated(EnumType.STRING)</code></li>\n<li>Creating a custom jakarta converter</li>\n<li>Using <code>@JdbcTypeCode(SqlTypes.ENUM)</code> and <code>@Type(PostgreSQLEnumType.class)</code></li>\n<li>Specifying columnDefinition in the <code>@Column</code> annotation</li>\n</ul>\n<p>None of these approaches have resolved the issue.</p>\n<p>How can I correctly map my StatusEnum to the PostgreSQL enum type <code>book.book_status_enum</code> in Hibernate 6 while using Micronaut?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}