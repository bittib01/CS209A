{
  "question": {
    "tags": [
      "java",
      "swing"
    ],
    "owner": {
      "account_id": 32390371,
      "reputation": 11,
      "user_id": 25159318,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/e72892dc79bbebe30e783b3d01ac8a5c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Swierzak",
      "link": "https://stackoverflow.com/users/25159318/swierzak"
    },
    "is_answered": false,
    "view_count": 54,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1729673869,
    "creation_date": 1728456686,
    "last_edit_date": 1729673869,
    "question_id": 79068917,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79068917/key-listener-in-java-swing",
    "title": "Key Listener in Java Swing",
    "body": "<p>I have a problem. I made a small GUI in <em>Swing</em> that should be a calculator.\nI want that if the user type in textfield A  a number and into Textfield B another one there should be a listener that if the user type an operator (<code>+</code> or <code>-</code> or <code>/</code> or <code>*</code>) it should do the operation with  both numbers. Now I have a problem, the operator will get shown in the textfield which it shoudn't. Any solutions? How can I fix it?</p>\n<p>Code is below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.EventQueue;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.JTextField;\nimport javax.swing.JLabel;\nimport javax.swing.JButton;\n\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.KeyAdapter;\nimport java.awt.event.KeyEvent;\n\npublic class Taschenrechner extends JFrame {\n\n    private static final long serialVersionUID = 1L;\n    private JPanel contentPane;\n    private JTextField textB;\n    private JTextField textA;\n    private JTextField textErgebnis;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Taschenrechner frame = new Taschenrechner();\n                    frame.setVisible(true);\n                }\n                catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Taschenrechner() {\n        setTitle(&quot;Taschenrechner&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 500);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n        textB = new JTextField();\n        textB.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                loeschenString(textB);\n            }\n        });\n        textB.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent a) {\n                if (a.getKeyChar() == '+') {\n                    addieren();\n                    a.consume(); // Prevent the symbol from appearing in the text field\n                }\n                else if (a.getKeyChar() == '-') {\n                    subtrahieren();\n                    a.consume();\n                }\n                else if (a.getKeyChar() == '*') {\n                    multiplizieren();\n                    a.consume();\n                }\n                else if (a.getKeyChar() == '/') {\n                    dividieren();\n                    a.consume();\n                }\n            }\n        });\n        textB.setText(&quot;0&quot;);\n        textB.setBounds(233, 40, 179, 20);\n        contentPane.add(textB);\n        textB.setColumns(10);\n\n        JLabel lblZahlA = new JLabel(&quot;Zahl A&quot;);\n        lblZahlA.setBounds(93, 15, 46, 14);\n        contentPane.add(lblZahlA);\n\n        JLabel lblZahlB = new JLabel(&quot;Zahl B&quot;);\n        lblZahlB.setBounds(291, 15, 46, 14);\n        contentPane.add(lblZahlB);\n\n        JButton btnSubtstraktion = new JButton(&quot;A - B&quot;);\n        btnSubtstraktion.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                subtrahieren();\n            }\n        });\n        btnSubtstraktion.setBounds(233, 94, 179, 23);\n        contentPane.add(btnSubtstraktion);\n\n        textA = new JTextField();\n        textA.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                loeschenString(textA);\n            }\n        });\n        textA.addKeyListener(new KeyAdapter() {\n            @Override\n            public void keyPressed(KeyEvent a) {\n                if (a.getKeyChar() == '+') {\n                    addieren();\n                    a.consume();\n                }\n                else if (a.getKeyChar() == '-') {\n                    subtrahieren();\n                    a.consume();\n                }\n                else if (a.getKeyChar() == '*') {\n                    multiplizieren();\n                    a.consume();\n                }\n                else if (a.getKeyChar() == '/') {\n                    dividieren();\n                    a.consume();\n                }\n            }\n        });\n        textA.setText(&quot;0&quot;);\n        textA.setColumns(10);\n        textA.setBounds(20, 40, 179, 20);\n        contentPane.add(textA);\n\n        JButton btnAddition = new JButton(&quot;A + B&quot;);\n        btnAddition.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                addieren();\n            }\n        });\n        btnAddition.setBounds(20, 94, 179, 23);\n        contentPane.add(btnAddition);\n\n        JButton btnMultiplikation = new JButton(&quot;A * B&quot;);\n        btnMultiplikation.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                multiplizieren();\n            }\n        });\n        btnMultiplikation.setBounds(20, 159, 179, 23);\n        contentPane.add(btnMultiplikation);\n\n        JButton btnDivision = new JButton(&quot;A / B&quot;);\n        btnDivision.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                dividieren();\n            }\n        });\n        btnDivision.setBounds(233, 159, 179, 23);\n        contentPane.add(btnDivision);\n\n        JLabel lblErgebnis = new JLabel(&quot;Ergebnis&quot;);\n        lblErgebnis.setBounds(171, 270, 71, 14);\n        contentPane.add(lblErgebnis);\n\n        textErgebnis = new JTextField();\n        textErgebnis.setEditable(false);\n        textErgebnis.setColumns(10);\n        textErgebnis.setBounds(122, 310, 179, 20);\n        contentPane.add(textErgebnis);\n    }\n\n    private void addieren() {\n        int a = Integer.parseInt(textA.getText());\n        int b = Integer.parseInt(textB.getText());\n        int addieren = a + b;\n        textErgebnis.setText(&quot;&quot; + addieren);\n    };\n\n    private void subtrahieren() {\n        int a = Integer.parseInt(textA.getText());\n        int b = Integer.parseInt(textB.getText());\n        int Subtrahieren = a - b;\n        textErgebnis.setText(&quot;&quot; + Subtrahieren);\n    };\n\n    private void multiplizieren() {\n        int a = Integer.parseInt(textA.getText());\n        int b = Integer.parseInt(textB.getText());\n        int Multiplizieren = a * b;\n        textErgebnis.setText(&quot;&quot; + Multiplizieren);\n    };\n\n    private void dividieren() {\n        double a = Double.parseDouble(textA.getText());\n        double b = Double.parseDouble(textB.getText());\n        double Dividieren = a / b;\n        textErgebnis.setText(&quot;&quot; + Dividieren);\n    };\n\n    private void loeschenString(JTextField textField) {\n        String eingabe = textField.getText();\n        if (eingabe.endsWith(&quot;+&quot;) || eingabe.endsWith(&quot;-&quot;) || eingabe.endsWith(&quot;*&quot;)\n                || eingabe.endsWith(&quot;/&quot;)) {\n            textField.setText(eingabe.substring(0, eingabe.length() - 1));\n        }\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}