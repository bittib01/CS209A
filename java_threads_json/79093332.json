{
  "question": {
    "tags": [
      "java",
      "algorithm",
      "binary-search"
    ],
    "owner": {
      "account_id": 1633600,
      "reputation": 1,
      "user_id": 3036345,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/abd6a6179117bf1b272eed4407bfb492?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "user3036345",
      "link": "https://stackoverflow.com/users/3036345/user3036345"
    },
    "is_answered": false,
    "view_count": 115,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1732780145,
    "creation_date": 1729069948,
    "last_edit_date": 1729186779,
    "question_id": 79093332,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79093332/binary-search-nearest-k-elements",
    "title": "Binary Search: Nearest K Elements",
    "body": "<p>I tried to solve the &quot;find nearest K elements in a sorted array&quot; problem of Leetcode using binary search approach but unable to figure out why its not working.</p>\n<p>LeetCode Problem Link:\n<a href=\"https://leetcode.com/problems/find-k-closest-elements/description/\" rel=\"nofollow noreferrer\">text</a></p>\n<p><strong>Problem Description:</strong></p>\n<p>Given a <strong>sorted</strong> integer array <code>arr</code>, two integers <code>k</code> and <code>x</code>, return the <code>k</code> closest integers to <code>x</code> in the array. The result should also be sorted in ascending order.</p>\n<p>An integer <code>a</code> is closer to <code>x</code> than an integer <code>b</code> if:</p>\n<ul>\n<li><p><code>|a - x| &lt; |b - x|</code>, or</p>\n</li>\n<li><p><code>|a - x| == |b - x|</code> and <code>a &lt; b</code></p>\n</li>\n</ul>\n<p><strong>Example 1:</strong></p>\n<p><strong>Input:</strong> arr = [1,2,3,4,5], k = 4, x = 3</p>\n<p><strong>Output:</strong> [1,2,3,4]</p>\n<p>Tried writing the program to solve K nearest numbers in a sorted array:</p>\n<p>The program make sure that it never overwrite the best solution found so far by introducing minimumDiff variable:</p>\n<pre><code>    public List&lt;Integer&gt; findClosestElements(int[] arr, int k, int x) {\n        int startIndex = 0;\n        int low = 0;\n        int high = arr.length - k;\n        int mid = -1;\n        int minimumDiff = Integer.MAX_VALUE;\n        int diff = 0;\n        while(low &lt;= high) {\n            mid = low + (high - low)/2;\n            if((mid + k  arr.length) || (x - arr[mid] &gt; arr[mid + k] - x)) {\n                low = mid + 1;\n                diff = x - arr[mid];\n            }else {\n                high = mid - 1;\n                diff = arr[mid + k] - x;\n            }\n            if(minimumDiff &gt; diff) {\n                minimumDiff = diff;\n                startIndex = mid;\n            }\n        }\n        List&lt;Integer&gt; nearestKElements = new ArrayList&lt;&gt;();\n        for(int i=startIndex; i&lt;startIndex+k; i++){\n            nearestKElements.add(arr[i]);\n        }\n        return nearestKElements;\n}\n</code></pre>\n<p>However it still fails for input:</p>\n<p><strong>Input</strong>: [1,2,3,4,4,4,4,5,5], k = 3 and x = 3</p>\n<p><strong>Output:</strong> [4,4,4]</p>\n<p><strong>Expected Output:</strong> [2, 3, 4]</p>\n<p><strong>Questions:</strong></p>\n<p>1.Can you please help me know how should the program behave in case &quot;x - arr[mid] == arr[mid + k] - x&quot;. Currently my program always move towards left but thats failing for some test cases as mentioned above?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}