{
  "question": {
    "tags": [
      "java",
      "apache-kafka",
      "spring-kafka"
    ],
    "owner": {
      "account_id": 29456727,
      "reputation": 1,
      "user_id": 22572434,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocIEqYnKma8Ytb65mc_Fentb5Spwj_4ZFqXe2BqEwfgv=k-s256",
      "display_name": "UB2024",
      "link": "https://stackoverflow.com/users/22572434/ub2024"
    },
    "is_answered": true,
    "view_count": 87,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1721018406,
    "creation_date": 1706540020,
    "last_edit_date": 1721018406,
    "question_id": 77900576,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77900576/kafka-producer-fails-to-publish-message-in-java-jar-but-works-fine-in-mvn-sprin",
    "title": "kafka producer fails to publish message in java -jar but works fine in mvn spring-boot:run or debugger",
    "body": "<p>Kafka publisher sending message using</p>\n<pre><code>@Bean\npublic KafkaTemplate&lt;String, byte[]&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n\n\n\n@Bean\npublic ProducerFactory&lt;String, byte[]&gt; producerFactory() {\n   \n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;127.0.0.1:9092&quot;);\n    configProps.put(&quot;spring.kafka.bootstrap-servers&quot;, &quot;127.0.0.1:9092&quot;);\n    configProps.put(&quot;spring.kafka.consumer.auto-offset-reset&quot;,&quot;earliest&quot;);\n    configProps.put(&quot;spring.kafka.consumer.group-id&quot;,&quot;data-group&quot;);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG,         StringSerializer.class.getName());\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG,  ByteArraySerializer.class.getName());\n   \n    configProps.put(ConsumerConfig.CLIENT_ID_CONFIG,&quot;ClientIDdata-group&quot;);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\nListenableFuture&lt;SendResult&lt;String, byte[] &gt;&gt; futureResult =  kafkaTemplate.send(topic, binarydata);\nfutureResult.addCallback(PublishCallback());\n</code></pre>\n<p>If the above snippet is run with mvn spring-boot:run data is published but after compiling the code in jar and running java -jar it does not publish the data. there is no error in log.</p>\n<p>Ensured that kafka-client 2.7.1 is included in jar and is added in pom.xml</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}