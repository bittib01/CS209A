{
  "question": {
    "tags": [
      "java",
      "android",
      "react-native",
      "native"
    ],
    "owner": {
      "account_id": 38866106,
      "reputation": 1,
      "user_id": 28991123,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/96d354527af51a2507759c82db6f723b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Lucas Dreveck",
      "link": "https://stackoverflow.com/users/28991123/lucas-dreveck"
    },
    "is_answered": true,
    "view_count": 142,
    "accepted_answer_id": 79411719,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1738672640,
    "creation_date": 1735586925,
    "question_id": 79318448,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79318448/is-there-a-way-to-get-device-owner-access-in-a-react-native-project",
    "title": "Is there a way to get device owner access in a react native project?",
    "body": "<p>I'm still quite new to programming and I need to make the app where I work act as a device owner so that it blocks other apps from being opened (the idea of ​​a device for an app), but with what I understand from documentation and AIs help (ChatGPT and ClaudeAI) I didn't have any success.</p>\n<p>Maybe some useful information:\nreact-native version: 0.64.4\nSDK Version: 30</p>\n<p>I'm really lost, any help would be greatly appreciated, thanks in advance.</p>\n<p>So far what I have done is create an AdminReceiver.java class with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void onEnabled(Context context, Intent intent) {\n        super.onEnabled(context, intent);\n    }\n\n    @Override\n    public void onDisabled(Context context, Intent intent) {\n        super.onDisabled(context, intent);\n    }\n</code></pre>\n<p>I added the reference to this class in AndroidManifest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;receiver\n        android:name=&quot;.AdminReceiver&quot;\n        android:permission=&quot;android.permission.BIND_DEVICE_ADMIN&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.app.device_admin&quot;\n            android:resource=&quot;@xml/device_admin_receiver&quot; /&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.app.action.DEVICE_ADMIN_ENABLED&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n<p>So I created the file with the necessary (and some unnecessary) permissions inside the res/xml folder:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;device-admin xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n        &lt;uses-policies&gt;\n            &lt;disable-camera /&gt;\n            &lt;disable-applications /&gt;\n            &lt;force-lock /&gt;\n            &lt;limit-password /&gt;\n            &lt;watch-login /&gt;\n            &lt;reset-password /&gt;\n            &lt;wipe-data /&gt;\n        &lt;/uses-policies&gt;\n    &lt;/device-admin&gt;\n</code></pre>\n<p>And I added this to my MainApplication.java (but I believe it is being useless...):</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public void onCreate() {\n    super.onCreate();\n    \n    // Initialize SoLoader\n    SoLoader.init(this, /* native exopackage */ false);\n    \n    // Dispatcher for Expo modules\n    ApplicationLifecycleDispatcher.onApplicationCreate(this);\n\n    // Detailed logging (optional)\n    try {\n      DevicePolicyManager dpm = (DevicePolicyManager) getSystemService(Context.DEVICE_POLICY_SERVICE);\n      ComponentName adminComponent = new ComponentName(this, AdminReceiver.class);\n      \n      Log.d(&quot;MainApplication&quot;, &quot;Is Device Owner: &quot; + \n            dpm.isDeviceOwnerApp(getApplicationContext().getPackageName()));\n      Log.d(&quot;MainApplication&quot;, &quot;Is Admin Active: &quot; + \n            dpm.isAdminActive(adminComponent));\n    } catch (Exception e) {\n      Log.e(&quot;MainApplication&quot;, &quot;Error checking device admin status&quot;, e);\n    }\n  }\n</code></pre>\n<p>Response text when I tried to use the command</p>\n<p><code>adb shell dpm set-device-owner com.myGroup.myPackage/.AdminReceiver</code>:</p>\n<p>Error: Unknow admin: ComponentInfo{com.myGroup.myPackage/com.myGroup.myPackage.AdminReceiver}</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}