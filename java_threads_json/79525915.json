{
  "question": {
    "tags": [
      "java",
      "avro",
      "maven-plugin",
      "idl",
      "avro-tools"
    ],
    "owner": {
      "account_id": 13133987,
      "reputation": 487,
      "user_id": 9487663,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/-TCl6tEBlCT0/AAAAAAAAAAI/AAAAAAAAAEU/GUcyyhwqgbI/s256-rj/photo.jpg",
      "display_name": "Salvador Vigo",
      "link": "https://stackoverflow.com/users/9487663/salvador-vigo"
    },
    "is_answered": true,
    "view_count": 275,
    "accepted_answer_id": 79527835,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1742809848,
    "creation_date": 1742571257,
    "last_edit_date": 1742664920,
    "question_id": 79525915,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79525915/avro-maven-plugin-idl-protocol-execution-failed-after-upgrading-to-avro-1-12-0",
    "title": "Avro Maven Plugin idl-protocol Execution Failed After Upgrading to Avro 1.12.0",
    "body": "<p>After upgrading to Apache Avro 1.12.0, I encountered the following error while running the Avro Maven:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>line 65:8 token recognition error at: '_'\nline 65:10 token recognition error at: '_'\n\n[ERROR] Failed to execute goal org.apache.avro:avro-maven-plugin:1.12.0:idl-protocol (idl) on project ....: \nExecution idl of goal org.apache.avro:avro-maven-plugin:1.12.0:idl-protocol failed: \nline 65:9 extraneous input '6' expecting {DocComment, 'protocol', 'namespace', 'import', 'idl', 'schema', 'enum', 'fixed', 'error', 'record', 'array', 'map', 'union', 'boolean', 'int', 'long', 'float', 'double', 'string', 'bytes', 'null', 'true', 'false', 'decimal', 'date', 'time_ms', 'timestamp_ms', 'local_timestamp_ms', 'uuid', 'void', 'oneway', 'throws', '}', '@', IdentifierToken}\n</code></pre>\n<p>Project Setup:</p>\n<pre><code>Avro Version: 1.12.0\nAvro Maven Plugin Version: 1.12.0\n</code></pre>\n<p>Downgraded Avro to 1.11.x, and the error disappeared, suggesting a change in Avro 1.12.0â€™s IDL parsing.</p>\n<p>More specific logs after mvn clean install -X</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Caused by: org.apache.maven.plugin.PluginExecutionException: Execution idl of goal org.apache.avro:avro-maven-plugin:1.12.0:idl-protocol failed: line 65:9 extraneous input '6' expecting {DocComment, 'protocol', 'name\nspace', 'import', 'idl', 'schema', 'enum', 'fixed', 'error', 'record', 'array', 'map', 'union', 'boolean', 'int', 'long', 'float', 'double', 'string', 'bytes', 'null', 'true', 'false', 'decimal', 'date', 'time_ms', 'timestamp_ms', 'local_timestamp_ms', 'uuid', 'void', 'oneway', 'throws', '}', '@', IdentifierToken}\n</code></pre>\n<p>Has Avro 1.12.0 introduced stricter rules for IDL parsing that could cause this error?\nWhat could be causing the token recognition error at: '_'?\nHow can I identify the specific part of my .avdl files that is incompatible with Avro 1.12.0?</p>\n<p>this will a enum example:</p>\n<pre><code>enum Gear {\n        NEUTRAL,\n        REVERSE,\n        PARK,\n        GEAR_1,\n        GEAR_2,\n        GEAR_3,\n        GEAR_4,\n        GEAR_5,\n        GEAR_6,\n        GEAR_7,\n        GEAR_8,\n        GEAR_9,\n        INVALID\n    }\n</code></pre>\n<p>Will it be a problem?\nAny idea to solve it?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}