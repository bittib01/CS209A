{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "spring-data-jpa",
      "spring-data"
    ],
    "owner": {
      "account_id": 41550342,
      "reputation": 3,
      "user_id": 30341772,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/41f9fe971d9144c863c669c20afe6220?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Kubra",
      "link": "https://stackoverflow.com/users/30341772/kubra"
    },
    "is_answered": true,
    "view_count": 111,
    "accepted_answer_id": 79589728,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1745461455,
    "creation_date": 1745403076,
    "last_edit_date": 1745408472,
    "question_id": 79588355,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79588355/what-could-be-the-issue-with-this-composite-key-and-query-setup-in-spring-data-j",
    "title": "What could be the issue with this composite key and query setup in Spring Data JPA?",
    "body": "<p>I'm working on a Spring Boot project using JPA and trying to query an entity that uses a composite primary key with @IdClass, but I can't get the repository method to work.</p>\n<p>I've double-checked that:</p>\n<ul>\n<li>All imports are correct (jakarta.persistence.*,)</li>\n<li>My repository is injected properly</li>\n<li>The method is being called from the service</li>\n</ul>\n<p>Is my setup correct? Should I be watching out for something specific when using <code>@IdClass</code> with Spring Data JPA?</p>\n<p>Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity \n@Table(name = &quot;entity_relation&quot;, schema = &quot;my_schema&quot;) \n@IdClass(EntityRelationKey.class) \npublic class EntityRelation {\n\n@Id\nprivate Long groupId;\n\n@Id\nprivate Integer sequenceNo;\n\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;entity_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate MainEntity mainEntity;\n}\n</code></pre>\n<p>Composite Key Class:</p>\n<pre><code>@Data \n@NoArgsConstructor \n@AllArgsConstructor \npublic class EntityRelationKey implements Serializable \n{ private Long groupId; \n  private Integer sequenceNo; \n}\n</code></pre>\n<p>Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository \npublic interface EntityRelationRepository extends JpaRepository&lt;EntityRelation, EntityRelationKey&gt; {\n List&lt;EntityRelation&gt; findByGroupIdOrderBySequenceNoAsc(@Param(&quot;groupId&quot;) Long groupId); \n}\n</code></pre>\n<p>PROBLEM</p>\n<p>When I call this method from my service, it returns empty:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;EntityRelation&gt; relations = entityRelationRepository.findByGroupIdOrderBySequenceNoAsc(groupId);\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}