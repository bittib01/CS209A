{
  "question": {
    "tags": [
      "java",
      "openapi",
      "openapi-generator",
      "spring-boot-3",
      "openapi-generator-maven-plugin"
    ],
    "owner": {
      "account_id": 16824449,
      "reputation": 242,
      "user_id": 12164076,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/2M5Cy.jpg?s=256",
      "display_name": "mint",
      "link": "https://stackoverflow.com/users/12164076/mint"
    },
    "is_answered": false,
    "view_count": 1076,
    "answer_count": 0,
    "score": 3,
    "last_activity_date": 1722285982,
    "creation_date": 1708016485,
    "last_edit_date": 1708079863,
    "question_id": 78002627,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78002627/prevent-openapi-generator-plugin-from-creating-builder-methods",
    "title": "prevent openapi-generator plugin from creating builder methods",
    "body": "<p>I'm having some doubts related to the model created using openapi-generator maven plugin. The model is created based on the following yaml schema:</p>\n<p>Context: openJDK 17.0.9 + maven 3.8.6</p>\n<p><code>src/main/resources/schema.yaml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>openapi: 3.0.3\ninfo:\n  title: Test\n  version: 0.0.0\npaths:\n  /none:\n    get:\n      responses:\n        &quot;200&quot;:\n          description: API not generated yet\ncomponents:\n  schemas:\n    operation:\n      type: object\n      properties:\n        settings:\n          $ref: &quot;./settings.yaml#/Settings&quot;\n\n</code></pre>\n<p>When compiling the project, the target directory contains the following java class (<code>target/generated-sources/openapi/src/main/java/com/test/model/</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.test.model;\n\nimport java.net.URI;\nimport java.util.Objects;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonTypeName;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport org.openapitools.jackson.nullable.JsonNullable;\nimport java.time.OffsetDateTime;\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.*;\nimport io.swagger.v3.oas.annotations.media.Schema;\n\n\nimport java.util.*;\nimport jakarta.annotation.Generated;\n\n/**\n * PGP input operations file structure\n */\n\n@Schema(name = &quot;operation&quot;)\n@JsonTypeName(&quot;operation&quot;)\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;)\npublic class OperationDTO {\n\n  private SettingsDTO settings;\n\n  public OperationDTO() {\n    super();\n  }\n\n  /**\n   * Constructor with only required parameters\n   */\n  public OperationDTO(SettingsDTO settings) {\n    this.settings = settings;\n  }\n\n  public OperationDTO settings(SettingsDTO settings) {\n    this.settings = settings;\n    return this;\n  }\n\n  /**\n   * Get settings\n   * @return settings\n  */\n  @NotNull @Valid \n  @Schema(name = &quot;settings&quot;, requiredMode = Schema.RequiredMode.REQUIRED)\n  @JsonProperty(&quot;settings&quot;)\n  public SettingsDTO getSettings() {\n    return settings;\n  }\n\n  public void setSettings(SettingsDTO settings) {\n    this.settings = settings;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    OperationDTO operation = (OperationDTO) o;\n    return Objects.equals(this.settings, operation.settings);\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(settings);\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class OperationDTO {\\n&quot;);\n    sb.append(&quot;    settings: &quot;).append(toIndentedString(settings)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n}\n</code></pre>\n<p>I expected just constructors/getters/setters to be generated, but there is also this method in the auto-generated model class:</p>\n<pre><code>  public OperationDTO settings(SettingsDTO settings) {\n    this.settings = settings;\n    return this;\n  }\n</code></pre>\n<p>I don't understand why these &quot;builder&quot;-alike methods are being autogenerated in the class, and I cannot find any configOption in the spring openapi-generator plugin to avoid this, nor documentation explaining why are they created</p>\n<p>The issue is that the schema present in the swagger-ui interface is as follows:</p>\n<pre><code>{\n  &quot;operation&quot;:{\n    &quot;tings&quot;: &quot;string&quot;, //&lt;------ This attribute shouldn't be here!!!!\n    &quot;settings&quot;: {...}\n  }\n}\n</code></pre>\n<p>Also, when trying to validate any wrong JSON object against the schema, the exception informs about the expected parameters as follows:</p>\n<pre><code>Unrecognized field \\&quot;test\\&quot; (class com.test.model.OperationDTO), not marked as ignorable (2 known properties: \\&quot;settings\\&quot;, \\&quot;tings\\&quot;])\n</code></pre>\n<p>It seems like the <code>tings</code> variable comes from Jackson detecting the <code>settings(...)</code> builder method as a setter, but I would like to avoid this behavior.</p>\n<p>I understand I could avoid this by creating the model classes directly in my project, but I'd rather create them using the plugin, since the model spec can change and I find it easier to trace this way.</p>\n<p>Can anyone please clarify why those &quot;builder&quot; methods are being created? Is there any way to avoid them?</p>\n<p>Thanks a lot!</p>\n<p>P.S: My <code>pom.xml</code> file looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;swagger.version&gt;2.2.20&lt;/swagger.version&gt;\n        &lt;springdoc.version&gt;2.3.0&lt;/springdoc.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind-nullable&lt;/artifactId&gt;\n            &lt;version&gt;0.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n                &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;7.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-model&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;inputSpec&gt;${project.basedir}/src/main/resources/schemas/schema.yaml&lt;/inputSpec&gt;\n                            &lt;generatorName&gt;spring&lt;/generatorName&gt;\n                            &lt;modelPackage&gt;com.test.model&lt;/modelPackage&gt;\n                            &lt;modelNameSuffix&gt;DTO&lt;/modelNameSuffix&gt;\n                            &lt;generateSupportingFiles&gt;false&lt;/generateSupportingFiles&gt;\n                            &lt;generateApis&gt;false&lt;/generateApis&gt;\n                            &lt;generateModelDocumentation&gt;true&lt;/generateModelDocumentation&gt;\n                            &lt;configOptions&gt;\n                                &lt;useSpringBoot3&gt;true&lt;/useSpringBoot3&gt;\n                                &lt;openApiNullable&gt;true&lt;/openApiNullable&gt;\n                                &lt;useSwaggerUI&gt;true&lt;/useSwaggerUI&gt;\n                                &lt;hideGenerationTimestamp&gt;true&lt;/hideGenerationTimestamp&gt;\n                                &lt;useEnumCaseInsensitive&gt;true&lt;/useEnumCaseInsensitive&gt;\n                            &lt;/configOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}