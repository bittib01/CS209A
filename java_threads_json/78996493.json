{
  "question": {
    "tags": [
      "java",
      "multithreading",
      "java-threads"
    ],
    "owner": {
      "account_id": 35715883,
      "reputation": 9,
      "user_id": 27361515,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/9ad725bced4d394519995db2201b6676?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "thesaferose _",
      "link": "https://stackoverflow.com/users/27361515/thesaferose"
    },
    "is_answered": true,
    "view_count": 147,
    "answer_count": 3,
    "score": 0,
    "last_activity_date": 1727881386,
    "creation_date": 1726631493,
    "question_id": 78996493,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78996493/java-thread-cannot-read-changes-to-data-written-by-main-thread",
    "title": "Java thread cannot read changes to data written by main thread?",
    "body": "<p>I have a class <code>Notif</code> (yes i know attributes shouldnt be public):</p>\n<pre><code>class Notif {\n        public int found;\n        public String reply;\n\n        public Notif(int i){\n                found = i;\n        }\n}\n</code></pre>\n<p>I instantiate one in my main thread:</p>\n<pre><code>Notif[] notif = new Notif[] {new Notif(0)};\n</code></pre>\n<p>And then I pass it to another thread:</p>\n<pre><code> Thread tS = new Thread(new InputSearch(input, notif, neighbors, selfNum));                                              tS.start();\n</code></pre>\n<p>I change its attributes in the main thread:</p>\n<pre><code> notif[0].reply = &quot;File &quot; + msgs[i].fName + &quot; found in &quot; + msgs[i].Cx + &quot;. - Computer &quot; + nums.get(i);\n notif[0].found = 1;\n System.out.println(&quot;found w&quot;);\n</code></pre>\n<p>It should read the value in the <code>tS</code> thread (snippet of <code>InputSearch</code>'s <code>run()</code>):</p>\n<pre><code> while(System.currentTimeMillis() - start &lt; hopCt*2000) {\n         if(notif[0].found != 0){\n                System.out.println(&quot;found n&quot;);\n                replies.add(notif[0].reply);\n                notif[0].found = 0;\n          }\n }\n if(replies.size() == 0)\n           System.out.println(&quot;No replies in &quot; + hopCt*2 + &quot; seconds.&quot;);\n</code></pre>\n<p>For output, I get <code>found w</code> only and not <code>found n</code>. Also the <code>No replies in x seconds.</code> shows up.\nI would expect that both <code>found w</code> and <code>found n</code> show up, and the <code>No replies in x seconds.</code> does not print.</p>\n<p><code>notif.reply</code> and <code>notif.found</code> were changed, but it doesn't seem like the <code>tS</code> thread read the new value?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}