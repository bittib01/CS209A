{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "groovy",
      "xml-parsing"
    ],
    "owner": {
      "account_id": 29397805,
      "reputation": 155,
      "user_id": 22524769,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocKTn_s3AdgXi-fz3B8hkSoON9Uk5pAohZhQfPQBx-yy=k-s256",
      "display_name": "Shubham Shekhar",
      "link": "https://stackoverflow.com/users/22524769/shubham-shekhar"
    },
    "is_answered": true,
    "view_count": 36,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1737650994,
    "creation_date": 1737623091,
    "last_edit_date": 1737624561,
    "question_id": 79380420,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79380420/xmlutil-serialize-method-fails-with-error-the-markup-in-the-document-preceding-t",
    "title": "XmlUtil.serialize method fails with error The markup in the document preceding the root element must be well-formed",
    "body": "<p>After I upgraded my spring boot version from 2.4.13 to 2.5.0 I am getting error with xmlutils.serialize(parsexml).</p>\n<pre><code>Error during XML formatting: groovy.lang.GroovyRuntimeException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 2; The markup in the document preceding the root element must be well-formed.\n14:33:53.135 [main] || ERROR com.att.ecomp.mso.bpmn.ucpe.scripts.UCPEDisconnectLayer3Service - Caught exception in UCPEDisconnectLayer3Service.sendResponse(execution=null)\ngroovy.lang.GroovyRuntimeException: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 2; The markup in the document preceding the root element must be well-formed.\n        at groovy.xml.XmlUtil.serialize(XmlUtil.java:475)\n        at groovy.xml.XmlUtil.serialize(XmlUtil.java:461)\n        at groovy.xml.XmlUtil.serialize(XmlUtil.java:191)\n        at groovy.xml.XmlUtil.serialize(XmlUtil.java:100)\n        at groovy.xml.XmlUtil$serialize.call(Unknown Source)\n</code></pre>\n<p>Code for formatting xml:-</p>\n<pre><code>def formatXML(xmlInput) {\n        def parseXml = null\n    def formatXml = null\n    if (xmlInput != null) {\n        try {\n            // Log the input XML content\n           logger.debug(&quot;formatXml:&quot;+xmlInput)\n\n            // Parse the XML content\n            parseXml = new XmlParser().parseText(xmlInput)\n            logger.debug(&quot;parseXml:&quot;+parseXml)\n            // Serialize the parsed XML\n            formatXml = XmlUtil.serialize(parseXml)\n            \n            // Log the formatted XML content\n            println &quot;Formatted XML: $formatXml&quot;\n        } catch (Exception e) {\n            println &quot;Error during XML formatting: $e&quot;\n            throw e\n        }\n    }\n    return formatXml\n</code></pre>\n<p>My parse xml looks like below:-</p>\n<pre><code>{http://ecomp.att.com/mso/request/vnfactivate/schema/v1}service-response[attributes={}; value=[{http://ecomp.att.com/mso/request/types/v1}request-id[attributes={}; value=[4c421bc2-9ed9-4b2b-88c3-e10dbbcc85b5]], {http://ecomp.att.com/mso/request/types/v1}request-action[attributes={}; value=[DisconnectLayer3Service]], {http://ecomp.att.com/mso/request/types/v1}source[attributes={}; value=[CCD]], {http://ecomp.att.com/mso/request/types/v1}ack-final-indicator[attributes={}; value=[n]]]]\n</code></pre>\n<p>My xmlInput looks like:-</p>\n<pre><code>&lt;vnfactivate:service-response xmlns:vnfactivate=&quot;http://ecomp.att.com/mso/request/vnfactivate/schema/v1&quot;\n                                                xmlns:reqtype=&quot;http://ecomp.att.com/mso/request/types/v1&quot;&gt;\n                                        &lt;reqtype:request-id&gt;4c421bc2-9ed9-4b2b-88c3-e10dbbcc85b5&lt;/reqtype:request-id&gt;\n                                        &lt;reqtype:request-action&gt;DisconnectLayer3Service&lt;/reqtype:request-action&gt;\n                                        &lt;reqtype:source&gt;CCD&lt;/reqtype:source&gt;\n                                        &lt;reqtype:ack-final-indicator&gt;n&lt;/reqtype:ack-final-indicator&gt;\n                                &lt;/vnfactivate:service-response&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}