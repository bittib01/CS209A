{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "jakarta-validation"
    ],
    "owner": {
      "account_id": 26325024,
      "reputation": 35,
      "user_id": 19986475,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AItbvmle6HH1N-9L5qhHtD9jIWpnTc3ZjGIXWWFKoHLc=k-s256",
      "display_name": "aleks",
      "link": "https://stackoverflow.com/users/19986475/aleks"
    },
    "is_answered": true,
    "view_count": 92,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1742917765,
    "creation_date": 1742485098,
    "last_edit_date": 1742534747,
    "question_id": 79523433,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79523433/should-i-use-value-objects-or-bean-validation-for-dtos-in-sprint-boot",
    "title": "Should I use Value Objects or Bean Validation for DTOs in Sprint Boot?",
    "body": "<p>I have the two following DTOs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record BankCreateRequest(\n      @NotBlank(message = &quot;The name is a required field.&quot;)\n      @Length(max = 255, message = &quot;The name cannot be longer than 255 characters.&quot;)\n      @Pattern(regexp = &quot;^[a-zA-ZčćžšđČĆŽŠĐ\\\\s]+$&quot;, message = &quot;The name can only contain alphabetic characters.&quot;)\n      String name,\n\n      @NotBlank(message = &quot;The giro account is a required field.&quot;)\n      @Pattern(\n            regexp = &quot;^555-[0-9]{3}-[0-9]{8}-[0-9]{2}$&quot;,\n            message = &quot;Bank account number must be in the format 555-YYY-ZZZZZZZZ-WW&quot;\n      )\n      @Size(min = 19, max = 19, message = &quot;Bank account number must be exactly 19 characters long&quot;)\n      String bankAccountNumber,\n\n      @Pattern(\n            regexp = &quot;^(\\\\d{3}/\\\\d{3}-\\\\d{3})?$&quot;,\n            message = &quot;Fax number must be in the format XXX/YYY-ZZZ (e.g., 123/456-789)&quot;\n      )\n      String fax\n) {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record BankUpdateRequest(\n      @Length(max = 255, message = &quot;The name cannot be longer than 255 characters.&quot;)\n      @Pattern(regexp = &quot;^[a-zA-ZčćžšđČĆŽŠĐ\\\\s]+$&quot;, message = &quot;The name can only contain alphabetic characters.&quot;)\n      String name,\n\n      @Pattern(\n            regexp = &quot;^555-[0-9]{3}-[0-9]{8}-[0-9]{2}$&quot;,\n            message = &quot;Bank account number must be in the format 555-YYY-ZZZZZZZZ-WW&quot;\n      )\n      @Size(min = 19, max = 19, message = &quot;Bank account number must be exactly 19 characters long&quot;)\n      String bankAccountNumber,\n\n      @Pattern(\n            regexp = &quot;^(\\\\d{3}/\\\\d{3}-\\\\d{3})?$&quot;,\n            message = &quot;Fax number must be in the format XXX/YYY-ZZZ (e.g., 123/456-789)&quot;\n      )\n      String fax\n) {\n}\n</code></pre>\n<p>I am repeating the bean validation for all fields here and there are also other places where I might have a <code>name</code> field, a <code>bankAccountNumber</code> etc. So I thought of using value objects instead, but by definition a value object cannot be null, which is in conflict with my requirements for the patch based update DTO, which does not require any particular values to be updated or to be present. I wanted to have something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record BankCreateRequest(@NotNull Name name, @NotNull BankAccountNumber bankAccountNumber, Fax fax) {}\n\nrecord BankUpdateRequest(Name name, BankAccountNumber bankAccountNumber, Fax fax) {}\n</code></pre>\n<p>And then have three dedicated records that check if those values are valid. Does this go against common best practices for value objects as they by definition cannot be null? Is there a better approach that is as simple?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}