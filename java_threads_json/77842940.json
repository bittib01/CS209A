{
  "question": {
    "tags": [
      "java",
      "maven",
      "junit"
    ],
    "owner": {
      "account_id": 49543,
      "reputation": 20710,
      "user_id": 147530,
      "user_type": "registered",
      "accept_rate": 63,
      "profile_image": "https://www.gravatar.com/avatar/fb9f657e0b37fa483135635211e7d167?s=256&d=identicon&r=PG",
      "display_name": "morpheus",
      "link": "https://stackoverflow.com/users/147530/morpheus"
    },
    "is_answered": true,
    "view_count": 1442,
    "accepted_answer_id": 77847900,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1738317418,
    "creation_date": 1705620285,
    "question_id": 77842940,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77842940/maven-surefire-plugin-keeps-on-defaulting-to-junit4-even-though-i-am-using-junit",
    "title": "maven surefire plugin keeps on defaulting to JUnit4 even though I am using JUnit5 in my pom",
    "body": "<p>I have read <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html#provider-selection\" rel=\"nofollow noreferrer\">this</a>. Here is my parent pom:</p>\n<pre><code>&lt;dependencyManagement&gt;\n&lt;dependencies&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.10.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n...\n    &lt;dependencies&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;        \n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-launcher --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;    \n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-runner --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-runner&lt;/artifactId&gt;    \n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-console-standalone --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-console-standalone&lt;/artifactId&gt;\n    &lt;version&gt;1.10.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-commons --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;    \n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.junit.platform/junit-platform-engine --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-platform-engine&lt;/artifactId&gt;    \n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n...\n&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;configuration&gt;\n            &lt;argLine&gt;--enable-preview --add-modules jdk.incubator.vector&lt;/argLine&gt;\n        &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>In my child project I don't have any <code>junit</code> dependencies. When I run <code>mvn install</code> I see this:</p>\n<pre><code>[INFO] --- surefire:3.2.1:test (default-test) @ xxx ---\n[INFO] Toolchain in maven-surefire-plugin: JDK[/Library/Java/jdk-21.0.1.jdk/Contents/Home]\n[INFO] Using auto detected provider org.apache.maven.surefire.junit4.JUnit4Provider\n[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\nWARNING: Using incubator modules: jdk.incubator.vector\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n</code></pre>\n<p><strong>Why is the auto detected provider <code>org.apache.maven.surefire.junit4.JUnit4Provider</code>? Its supposed to use JUnit5!</strong></p>\n<p>When I run <code>mvn dependency:tree</code> I see this:</p>\n<pre><code>[INFO] --- dependency:3.6.0:tree (default-cli) @ xxx ---\n[INFO] xxx:xxx:jar:1.0.0-SNAPSHOT\n[INFO] +- org.eclipse.collections:eclipse-collections:jar:11.1.0:compile\n[INFO] |  \\- org.eclipse.collections:eclipse-collections-api:jar:11.1.0:compile\n[INFO] +- org.slf4j:slf4j-api:jar:2.0.9:compile\n[INFO] +- com.google.guava:guava:jar:32.1.2-jre:compile\n[INFO] |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n[INFO] |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n[INFO] |  +- com.google.errorprone:error_prone_annotations:jar:2.18.0:compile\n[INFO] |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\n[INFO] +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO] |  \\- net.bytebuddy:byte-buddy:jar:1.14.9:test\n[INFO] +- org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter-api:jar:5.9.3:test\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] +- org.junit.platform:junit-platform-launcher:jar:1.9.3:test\n[INFO] +- org.junit.platform:junit-platform-runner:jar:1.9.3:test\n[INFO] |  +- junit:junit:jar:4.13.2:test\n[INFO] |  |  \\- org.hamcrest:hamcrest-core:jar:2.2:test\n[INFO] |  |     \\- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.platform:junit-platform-suite-api:jar:1.9.3:test\n[INFO] |  \\- org.junit.platform:junit-platform-suite-commons:jar:1.9.3:test\n[INFO] +- org.junit.platform:junit-platform-console-standalone:jar:1.10.1:test\n[INFO] +- org.junit.platform:junit-platform-commons:jar:1.9.3:test\n[INFO] +- org.junit.platform:junit-platform-engine:jar:1.9.3:test\n[INFO] |  \\- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] \\- org.checkerframework:checker-qual:jar:3.42.0:compile\n</code></pre>\n<p><strong>This is also weird as nowhere I am using versions <code>5.9.3</code> and <code>1.9.3</code> in my <code>pom.xml</code>. I am using <a href=\"https://repo1.maven.org/maven2/org/junit/junit-bom/5.10.1/junit-bom-5.10.1.pom\" rel=\"nofollow noreferrer\"><code>junit-bom:5.10.1</code></a>.</strong></p>\n<p>What gives and why can't maven work correctly for once?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}