{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "spring-data-jpa",
      "keycloak"
    ],
    "owner": {
      "account_id": 32616046,
      "reputation": 55,
      "user_id": 25346567,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/d9e207d7983195d45de53cedb3aef07a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Gaurav Kumar",
      "link": "https://stackoverflow.com/users/25346567/gaurav-kumar"
    },
    "is_answered": true,
    "view_count": 271,
    "accepted_answer_id": 79661179,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1749837902,
    "creation_date": 1749520448,
    "question_id": 79659695,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79659695/how-to-support-crud-operations-on-user-profile-in-spring-boot-when-keycloak-mana",
    "title": "How to support CRUD operations on user profile in Spring Boot when Keycloak manages user table?",
    "body": "<p>I'm developing a Spring Boot application integrated with Keycloak for authentication and authorization. After reading <a href=\"https://stackoverflow.com/questions/77850668/how-to-map-user-in-hibernate-entity-from-keycloak\">this StackOverflow answer</a>, I understand that the recommended approach is to <strong>not</strong> directly map Spring Boot entity tables with Keycloak's <code>user_entity</code> tables. Instead, I should maintain only a reference to the immutable user ID, similar to microservice architecture patterns.</p>\n<p><strong>My Challenge</strong></p>\n<p>However, my application requires comprehensive user profile CRUD operations (Create, Read, Update, Delete) for user-specific data. After further research, I discovered that Keycloak provides REST endpoints for user management, such as:</p>\n<pre><code>PUT /admin/realms/{realm}/users/{user-id}\nGET /admin/realms/{realm}/users/{user-id}\nPOST /admin/realms/{realm}/users\nDELETE /admin/realms/{realm}/users/{user-id}\n</code></pre>\n<p><strong>My Approach</strong></p>\n<p>I'm thinking of implementing it like this:</p>\n<ol>\n<li>Spring Boot /profile endpoints for GET and PUT/PATCH.</li>\n<li>Internally, these endpoints would call Keycloak’s Admin REST API using a service client.</li>\n<li>Data would flow in and out via DTOs in my Spring Boot application—no direct JPA mapping to Keycloak tables.</li>\n</ol>\n<p><strong>Questions</strong></p>\n<ul>\n<li>Should I use the Keycloak Maven dependency <code>(org.keycloak)</code> for easier integration, or stick with direct REST API calls?</li>\n<li>Is this approach considered a best practice for handling user profile management with Keycloak integration?</li>\n<li>Are there any potential drawbacks to this approach (performance, security, maintainability)?</li>\n<li>Is this approach considered a best practice for handling user profile management with Keycloak integration?</li>\n</ul>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}