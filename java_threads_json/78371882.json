{
  "question": {
    "tags": [
      "java",
      "json",
      "servlets",
      "jakarta-ee"
    ],
    "owner": {
      "account_id": 4374266,
      "reputation": 511,
      "user_id": 3567690,
      "user_type": "registered",
      "accept_rate": 29,
      "profile_image": "https://www.gravatar.com/avatar/820e3a66585a78fed09dd2a0d9a424c4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "F.M",
      "link": "https://stackoverflow.com/users/3567690/f-m"
    },
    "is_answered": true,
    "view_count": 34,
    "accepted_answer_id": 78382968,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1714320155,
    "creation_date": 1713870809,
    "last_edit_date": 1714320155,
    "question_id": 78371882,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78371882/problem-in-running-servlet-by-click-on-button-in-jsp-file-using-json-parameters",
    "title": "problem in running servlet by click on button in jsp file using json parameters",
    "body": "<p>When I click on the button in <code>index.jsp</code>, the servlet dosen't run.(Nothing actually happens)</p>\n<p>I installed jdk17 and intellij and tomcat9.</p>\n<p>All thing I do is: When I run the project in chrome the address is : <code>http://localhost:8080/test_register_war_exploded/</code></p>\n<p>Then I fill the form and click on button but nothing happen.</p>\n<h2>index.jsp</h2>\n<pre><code>            &lt;form method=&quot;post&quot;&gt;\n            &lt;table cellpadding=&quot;3pt&quot;&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Firstname :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;firstname&quot; size=&quot;50&quot; class=&quot;add_register&quot;/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Lastname :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;lastname&quot; size=&quot;50&quot; class=&quot;add_register&quot;/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;email :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;50&quot; class=&quot;add_register&quot;/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Password :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password1&quot; size=&quot;50&quot; class=&quot;add_register&quot;/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr&gt;\n                    &lt;td&gt;Confirm Password :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password2&quot; size=&quot;50&quot; class=&quot;add_register&quot;/&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n            &lt;p /&gt;\n            &lt;input type=&quot;button&quot; value=&quot;Register&quot; id=&quot;register&quot;/&gt;\n        &lt;/form&gt;\n        ...\n            &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n          &lt;script type=&quot;text/javascript&quot;&gt;\n      $(document).ready(function() {\n        $(&quot;#register&quot;).click(function() {\n        let data = [];\n        let json = {};\n        let address_data = {};\n        $(&quot;input.add_register&quot;).each(function(){\n             json[this.name] = this.value;\n        });\n      \n        data.push(json);\n        alert(JSON.stringify(data));\n        $.ajax({\n            url: '/register-controller',\n            type: 'POST',\n            data: data,\n            dataType: 'json',\n            contentType: 'application/json',\n            mimeType: 'application/json',\n        });\n    });\n});\n</code></pre>\n\n<h2>RegisterController.java</h2>\n<pre><code>@WebServlet(name = &quot;registerController&quot;, value = &quot;/register-controller&quot;)\npublic class RegisterController extends HttpServlet {\nprivate UserJsonUtils jsonUtils;\nprivate User data;\nprivate UserDao userDao;\nfinal String userPath = &quot;src/model/user/users.json&quot;;\npublic void init() {\n    jsonUtils = new UserJsonUtils();\n    userDao = new UserDao();\n}\nprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    data = jsonUtils.parseJson(request.getParameter(&quot;data&quot;));\n    register();\n}\npublic void register() {\n    User user = new User(data.getFirstName(),\n            data.getLastName(),\n            data.getEmail(),\n            data.getPassword());\n    userDao.save(user);\n}\n</code></pre>\n<p>}</p>\n<h2>UserDao.java</h2>\n<pre><code>public class UserDao implements IUser {\n@Override\npublic void save(User user) {\n    Connection con = dbConnection.makeConnection();\n    PreparedStatement ps = null;\n    try {\n        ps = con.prepareStatement(&quot;insert into users (first_name,last_name, email, password) &quot; +\n                        &quot;values(?,?,?,?);&quot;,\n                Statement.RETURN_GENERATED_KEYS);\n        ps.setString(1, user.getFirstName());\n        ps.setString(2, user.getLastName());\n        ps.setString(3, user.getEmail());\n        ps.setString(4, user.getPassword());\n\n        int k = ps.executeUpdate();\n        if (k &gt; 0) {\n            ResultSet rs = ps.getGeneratedKeys();\n            while (rs.next()) {\n                user.setId(rs.getLong(1));\n            }\n        }\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n\n    dbConnection.closeConnection(ps);\n    dbConnection.closeConnection();\n}\n</code></pre>\n<h2>UserJsonUtils.java</h2>\n<pre><code>public class UserJsonUtils {\nprivate User data;\n\npublic UserJsonUtils() {\n}\n\npublic User getData() {\n    return data;\n}\n\npublic void setData(User data) {\n    this.data = data;\n}\n\npublic User parseJson(String params) {\n    Gson gson = new Gson();\n    data = gson.fromJson(params, User.class);\n    if (data != null)\n        return data;\n    else\n        return null;\n}\npublic void writeToFile(String path, User user) throws IOException {\n    Gson gson = new Gson();\n    gson.toJson(user, new FileWriter(path));\n}\n</code></pre>\n<p>}</p>\n<p>I added my output image to show that nothing happened when the button was clicked.</p>\n<p><a href=\"https://i.sstatic.net/ExmrW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/ExmrW.png\" alt=\"When I click on button, the page is like below\" /></a></p>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;test-register&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;test-register&lt;/name&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.33&lt;/version&gt;\n    &lt;/dependency&gt;\n &lt;/dependencies&gt;\n\n &lt;build&gt;\n     &lt;plugins&gt;\n         &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n             &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n             &lt;version&gt;3.3.2&lt;/version&gt;\n         &lt;/plugin&gt;\n     &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}