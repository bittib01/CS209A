{
  "question": {
    "tags": [
      "java",
      "elasticsearch",
      "migration"
    ],
    "owner": {
      "account_id": 15511641,
      "reputation": 63,
      "user_id": 11190262,
      "user_type": "registered",
      "profile_image": "https://lh5.googleusercontent.com/-rWaj0puXGlc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfJGTebrl378E1gec7AnhgXX_wuhA/mo/s256-rj/photo.jpg",
      "display_name": "Someone",
      "link": "https://stackoverflow.com/users/11190262/someone"
    },
    "is_answered": true,
    "view_count": 72,
    "accepted_answer_id": 79850413,
    "answer_count": 1,
    "score": 2,
    "last_activity_date": 1766068115,
    "creation_date": 1766060482,
    "question_id": 79850298,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79850298/migrating-elasticsearch-no-subaggregation-anymore",
    "title": "Migrating Elasticsearch no subAggregation anymore",
    "body": "<p>I am migrating Elasticsearch to version 7.17.29 getting rid of RestHighLevelClient\nBut I've encountered an issue since subAggregation is no longer present.\nThis is the code I am trying to migrate.</p>\n<pre><code>    TermsAggregationBuilder statusAgg = AggregationBuilders.terms(BY_STATUS).field(STATUS_KEYWORD).size(60);\n\n    statusAgg.subAggregation(AggregationBuilders.sum(SUM_QTY).field(QTY));\n\n    TermsAggregationBuilder feeCommReconAgg = AggregationBuilders.terms(BY_FEE_COMM_RECON).field(FEE_COMM_RECON_KEYWORD).size(60);\n\n    feeCommReconAgg.subAggregation(AggregationBuilders.sum(SUM_QTY).field(QTY))\n</code></pre>\n<p>Would anyone know how to migrate this?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}