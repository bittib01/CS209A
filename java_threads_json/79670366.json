{
  "question": {
    "tags": [
      "java",
      "maven",
      "maven-plugin",
      "maven-exec-plugin"
    ],
    "owner": {
      "account_id": 4431651,
      "reputation": 611,
      "user_id": 3608678,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/Wh00D.jpg?s=256",
      "display_name": "HarleyDavidson",
      "link": "https://stackoverflow.com/users/3608678/harleydavidson"
    },
    "is_answered": true,
    "view_count": 67,
    "accepted_answer_id": 79670409,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1750245233,
    "creation_date": 1750239135,
    "question_id": 79670366,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79670366/maven-exec-plugin-causes-dependency-check-in-clean-phase",
    "title": "maven-exec-plugin causes dependency check in clean phase",
    "body": "<p>I have a project with a dependency which is installed and cleaned by the maven-exec-plugin.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n             http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;de.hsc&lt;/groupId&gt;\n    &lt;artifactId&gt;exectest&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\n        &lt;exec.mainClass&gt;de.hsc.exectest.Exectest&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;clean-other-project&lt;/id&gt;\n                        &lt;phase&gt;clean&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;mvn.cmd&lt;/executable&gt;\n                            &lt;workingDirectory&gt;${basedir}/../NonExistentDependency&lt;/workingDirectory&gt;\n                            &lt;commandlineArgs&gt;clean&lt;/commandlineArgs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install-other-project&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;executable&gt;mvn.cmd&lt;/executable&gt;\n                            &lt;workingDirectory&gt;${basedir}/../NonExistentDependency&lt;/workingDirectory&gt;\n                            &lt;commandlineArgs&gt;install&lt;/commandlineArgs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar&lt;/groupId&gt;\n            &lt;artifactId&gt;NonExistentDependency&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When &quot;NonExistentDependency&quot; is not in the local repository and I hit &quot;mvn clean&quot; it should clean up my project and NonExistentDependency by the exec-plugin but I receive this:</p>\n<pre><code>mvn clean\n[INFO] Scanning for projects...\n[INFO]\n[INFO] --------------------------&lt; de.hsc:exectest &gt;---------------------------\n[INFO] Building exectest 4.0.0\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[WARNING] The POM for foo.bar:NonExistentDependency:jar:1.0.0 is missing, no dependency information available\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.247 s\n[INFO] Finished at: 2025-06-18T11:24:02+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project exectest: Could not resolve dependencies for project de.hsc:exectest:jar:4.0.0\n[ERROR] dependency: foo.bar:NonExistentDependency:jar:1.0.0 (compile)\n</code></pre>\n<p>When I comment out the execution block with id &quot;clean-other-project&quot; and hit mvn clean again, everything is working as expected (except that the other project is not cleaned up):</p>\n<pre><code>mvn clean\n[INFO] Scanning for projects...\n[INFO]\n[INFO] --------------------------&lt; de.hsc:exectest &gt;---------------------------\n[INFO] Building exectest 4.0.0\n[INFO]   from pom.xml\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- clean:3.2.0:clean (default-clean) @ exectest ---\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.352 s\n[INFO] Finished at: 2025-06-18T11:25:24+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>So somehow for no reason maven-exec-plugin seems to check the dependencies of the project for no reason.</p>\n<p>&quot;mvn validate&quot; is also aborting with the same error.</p>\n<p>Should this be the expected behaviour or do I miss something?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}