{
  "question": {
    "tags": [
      "java",
      "multithreading",
      "http",
      "aws-lambda",
      "serverless-framework"
    ],
    "owner": {
      "account_id": 23876405,
      "reputation": 63,
      "user_id": 17877535,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjxT5V4ZYcPftoe6qW34mWHxcy1mqjjHWRmSUCZFA=k-s256",
      "display_name": "SwordOfSouls",
      "link": "https://stackoverflow.com/users/17877535/swordofsouls"
    },
    "is_answered": false,
    "view_count": 103,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1717739525,
    "creation_date": 1705302398,
    "last_edit_date": 1705367996,
    "question_id": 77818125,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77818125/non-vpc-lambda-timeout-when-sending-http-requests",
    "title": "Non VPC Lambda Timeout When Sending Http Requests",
    "body": "<p>I've recently been trying out serverless infrastructure for a new project using the Serverless Framework. Unfortunately, I have been completely unable to send any Http Requests from the Lambda.</p>\n<p>I have tried the <code>Reactor Netty Client</code>, <code>HttpRequest</code>, and <code>HttpURLConnection</code>. I simply don't know/understand what the problem is. All code in the function executes without any issue right up until any network related code is run, then, the function simply stalls until its execution time limit runs out.</p>\n<p>It begins stalling when <code>java.net.http.HttpClient.newHttpClient()</code> is run, when <code>HttpURLConnection</code> opens a connection, or when <code>reactor.netty.http.client.HttpClient.create()</code> is called. Their are no error or debug messages in CloudWatch, just the function timeout notice. The code all runs perfectly locally/outside of AWS Lambda.</p>\n<p>I am using the following Serverless configuration for this function.</p>\n<pre><code>   functions:\n     &lt;redacted&gt;:\n       handler: &lt;redacted&gt;\n       environment:\n          &lt;redacted&gt;\n       snapStart: true\n       events:\n         - httpApi: 'POST /&lt;redacted&gt;'\n</code></pre>\n<p><strong>Edit -</strong></p>\n<p>I've gotten this down to a memory issue. Running the Lambda with anything under 512 MB simply doesn't work, even if the memory usage doesn't even exceed 200 MB.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}