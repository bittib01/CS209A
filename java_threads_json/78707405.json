{
  "question": {
    "tags": [
      "java",
      "itext7",
      "pdfa"
    ],
    "owner": {
      "account_id": 8641254,
      "reputation": 169,
      "user_id": 6469880,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/-vFrAFlaWGa4/AAAAAAAAAAI/AAAAAAAAALQ/LlHssyMCdg8/s256-rj/photo.jpg",
      "display_name": "angcap",
      "link": "https://stackoverflow.com/users/6469880/angcap"
    },
    "is_answered": true,
    "view_count": 252,
    "answer_count": 1,
    "score": 2,
    "last_activity_date": 1721996117,
    "creation_date": 1720100020,
    "question_id": 78707405,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78707405/itext7-large-table-pdf-a",
    "title": "iText7 Large table PDF/A",
    "body": "<p>following iText example <a href=\"https://kb.itextpdf.com/itext/large-tables\" rel=\"nofollow noreferrer\">https://kb.itextpdf.com/itext/large-tables</a>\ni'm able to build a pdf with a very large table while the temporary file size grows on flushing and heap space remains constant.</p>\n<p>I need to create a PDF/A file but flushing doesn't happen, pdf is built in memory reaching heap max size and causing overflow.</p>\n<p>With PDF/A log shows the following warning</p>\n<pre><code>com.itextpdf.pdfa.PdfADocument  : Page flushing was not performed. Pages flushing in PDF/A mode works only with explicit calls to PdfPage#flush(boolean) with flushResourcesContentStreams argument set to true \n</code></pre>\n<p>I experience the correct behaviour with PdfDocument, while with PdfADocument flushing doesn't work</p>\n<pre><code>PdfADocument pdf = new PdfADocument(new PdfWriter(tempfile), PdfAConformanceLevel.PDF_A_1B,\n            new PdfOutputIntent(&quot;Custom&quot;, &quot;&quot;, null, &quot;sRGB IEC61966-2.1&quot;,\n                    resourceLoader.getResource(&quot;classpath:sRGB2014.icc&quot;).getInputStream()));\n    pdf.getCatalog().setLang(new PdfString(&quot;it-it&quot;));\n    // if pdf is instantiated with the following line flushing happens, with PdfADocument flushing doesn't work!\n    // PdfDocument pdf = new PdfDocument(new PdfWriter(tempfile));\n    Document document = new Document(pdf,PageSize.A4,true);\n    \n</code></pre>\n<p>Any help appreciated, thank in advance</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}