{
  "question": {
    "tags": [
      "java",
      "annotations",
      "annotation-processing"
    ],
    "owner": {
      "account_id": 26355819,
      "reputation": 68,
      "user_id": 20012811,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AItbvmkqRLqCO0JCk5KEsoN_QkrGD7ySi42JSnquCiAq=k-s256",
      "display_name": "Viktor Engelmann",
      "link": "https://stackoverflow.com/users/20012811/viktor-engelmann"
    },
    "is_answered": true,
    "view_count": 132,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1766071065,
    "creation_date": 1766050113,
    "last_edit_date": 1766051463,
    "question_id": 79850157,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79850157/iterating-an-annotated-class-in-compile-time-annotation-processing",
    "title": "Iterating an annotated class in compile-time Annotation Processing",
    "body": "<p>I'm working on a compile-time Annotation-Processor.</p>\n<p>I have annotated a class with <code>MyAnnotation</code> and want to iterate the attributes of the annotated class. The <code>process</code> method looks like this</p>\n<pre><code>@SupportedAnnotationTypes(&quot;mypackage.MyAnnotation&quot;)\npublic class MyAnnotationProcessor extends AbstractProcessor {\n    // ...\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        Messager messager = processingEnv.getMessager();\n    try {\n        TypeElement te = null;\n        for (Element element : roundEnv.getElementsAnnotatedWith(MyAnnotation.class)) {\n            if (element.getKind() == ElementKind.CLASS) {\n                messager.printError(element.toString());\n                messager.printError(element.getClass().toString());\n                te = (TypeElement)element;\n            }\n        }\n                // ...\n</code></pre>\n<p>which is like all examples I have seen. The output it generates is</p>\n<pre><code>mypackage.MyAnnotatedClass\nclass com.sun.tools.javac.code.Symbol$ClassSymbol\n</code></pre>\n<p>The <code>mypackage.MyAnnotatedClass</code> is what I would expect, but the type <code>ClassSymbol</code> seems to be a node of the abstract syntax tree instead of a TypeElement(?)  and after the loop, the TypeElement <code>te</code> is null.</p>\n<p>Can anyone tell me what is wrong here? This makes no sense to me, because <code>element</code> has type <code>Element</code>, but <code>ClassSymbol</code> is not derived from <code>Element</code>, so it should not even be possible that <code>element</code> points to an object of type <code>ClassSymbol</code>.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}