{
  "question": {
    "tags": [
      "java",
      "android",
      "navigation-drawer"
    ],
    "owner": {
      "account_id": 30672126,
      "reputation": 11,
      "user_id": 23514726,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/kegKb.jpg?s=256",
      "display_name": "August",
      "link": "https://stackoverflow.com/users/23514726/august"
    },
    "is_answered": true,
    "view_count": 28,
    "accepted_answer_id": 78911431,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1724595920,
    "creation_date": 1721929568,
    "question_id": 78794781,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78794781/different-navigation-drawer-depending-on-role",
    "title": "Different navigation drawer depending on role",
    "body": "<p>I have been trying to have two different navigations depending on role. I'm not sure I'm using the right names and words, so, here's an image example of what I mean:</p>\n<p><a href=\"https://i.sstatic.net/oTuorC3A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/oTuorC3A.png\" alt=\"navigation drawer with some items\" /></a></p>\n<p>(Sorry the image is huge, I'm a rookie in both Android Studio and StackOverflow questions).\nThe image is the example for the role called player, which I already have and works, but I want different items, or a different menu for the different role master. The image is complicated to show the master one because what I'm showing is already one of the two results of what I want. The other one would be exactly the same with different items (instead of mapa and Ficha, have for example, Player list, also the Mapa, etc).\nI do have managed to <em>have</em> said roles, I got that part under control, but everything I've tried for the nav have resulted in the app crashing.</p>\n<p>Among the things I have tried is the most obvious, which is with if elses <a href=\"https://aoverflow.com/question/208075/how-to-have-two-navigation-drawer-and-show-them-according-to-some-parameter/\" rel=\"nofollow noreferrer\">(doing like this post says)</a>, but it makes the app crash (it says the second navigation does not exist, and in some other items that is set on null items).</p>\n<p>Leaving here the code of the nav I tried with the if else:</p>\n<pre><code>\n\n        \n\n            if (rol.equalsIgnoreCase(&quot;player&quot;)) {\n                binding = ActivityMainBinding.inflate(getLayoutInflater());\n                setContentView(binding.getRoot());\n                setSupportActionBar(binding.appBarMain.toolbar);\n                DrawerLayout drawer = binding.drawerLayout;\n                NavigationView navigationView = binding.navView;\n                View hView = navigationView.getHeaderView(0);\n\n                mAppBarConfiguration = new AppBarConfiguration.Builder(\n                        R.id.nav_map,\n                        R.id.nav_charsheet)\n                        .setOpenableLayout(drawer)\n                        .build();\n                NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_main);\n                NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n                NavigationUI.setupWithNavController(navigationView, navController);\n            }\n\n            if (rol.equalsIgnoreCase(&quot;master&quot;)) {\n                binding = ActivityMainBinding.inflate(getLayoutInflater());\n                setContentView(R.layout.activity_ma_main);\n                setSupportActionBar(binding.appBarMain.toolbar);\n                DrawerLayout drawer = findViewById(R.id.drawer_ma_layout);\n                NavigationView navigationView = findViewById(R.id.nav_ma_view);\n                View hView = navigationView.getHeaderView(0);\n\n         \n\n                mAppBarConfiguration = new AppBarConfiguration.Builder(\n                        R.id.nav_map)\n                        .setOpenableLayout(drawer)\n                        .build();\n                NavController navController = Navigation.findNavController(this, R.id.nav_ma_host_fragment_content_main);\n                NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n                NavigationUI.setupWithNavController(navigationView, navController);\n            }\n\n</code></pre>\n<p>The message that throws is as it follows:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: org.apptest.androidapptest, PID: 5776\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{org.apptest.androidapptest/org.apptest.androidapptest.MainActivity}: android.view.InflateException: Binary XML file line #11 in org.apptest.androidapptest:layout/activity_ma_main: Binary XML file line #10 in org.apptest.androidapptest:layout/content_main: Error inflating class fragment\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n     Caused by: android.view.InflateException: Binary XML file line #11 in org.apptest.androidapptest:layout/activity_ma_main: Binary XML file line #10 in org.apptest.androidapptest:layout/content_main: Error inflating class fragment\n     Caused by: android.view.InflateException: Binary XML file line #10 in org.apptest.androidapptest:layout/content_main: Error inflating class fragment\n     Caused by: java.lang.IllegalArgumentException: Binary XML file line #10: Duplicate id 0x7f0a01b1, tag null, or parent id 0xffffffff with another fragment for androidx.navigation.fragment.NavHostFragment\n        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:116)\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\n        at android.view.LayoutInflater.tryCreateView(LayoutInflater.java:1067)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:995)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1261)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1117)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:1261)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1117)\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:479)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:699)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at org.apptest.androidapptest.MainActivity.onCreate(MainActivity.java:135)\n        at android.app.Activity.performCreate(Activity.java:8000)\n        at android.app.Activity.performCreate(Activity.java:7984)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n\n</code></pre>\n<p>I suspect it could be the inflater, but I don't know how to solve it, or if it's even that the problem.</p>\n<p>Sorry I don't know what else to add and the whole question is such a mess. Been trying a few days with a few things and I ended up confusing myself, but if there's anything you think I can add or try I will do so.</p>\n<p>Thank you all, appreciate any feedback!!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}