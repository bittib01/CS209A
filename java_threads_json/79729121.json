{
  "question": {
    "tags": [
      "java",
      "maven",
      "maven-assembly-plugin",
      "maven-shade-plugin",
      "java-platform-module-system"
    ],
    "owner": {
      "account_id": 201997,
      "reputation": 2254,
      "user_id": 448779,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://www.gravatar.com/avatar/b71b71d82074f242b6799e70678a604b?s=256&d=identicon&r=PG",
      "display_name": "foo",
      "link": "https://stackoverflow.com/users/448779/foo"
    },
    "is_answered": true,
    "view_count": 410,
    "answer_count": 3,
    "score": 4,
    "last_activity_date": 1755882310,
    "creation_date": 1754599802,
    "last_edit_date": 1754667777,
    "question_id": 79729121,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79729121/how-to-combine-multiple-java-modules-into-one-jar",
    "title": "How to combine multiple Java modules into one JAR?",
    "body": "<p>The goal:</p>\n<ol>\n<li>to combine multiple JARs and the modules in them into a single JAR</li>\n<li>allow consumers to include a single package dependency in their maven/gradle/... files</li>\n<li>make all of the modules available to the consumers</li>\n</ol>\n<p><em>I tried shade and assembly plugin for days now, and keep failing. To keep this short, I'll omit all the wrong approaches; I am looking for one that works.</em></p>\n<p>Before JPMS, it was simply shading all the contents into one JAR. Can't do that with modules, since there is only one top-level module-info.class for the entire JAR.</p>\n<p>If there was a transformer for shade combining module-info.class files like it does for e.g. Services, that would be the obvious solution. But to my knowledge, it doesn't exist.</p>\n<p>How can this be done - multiple JPMS modules in the same JAR combined - working with JDK11+?</p>\n<p>Background:</p>\n<ul>\n<li>Business requirement 1 was to package the maven modules to a single (signed) JAR. This has proven to be useful, and is to be continued.</li>\n<li>Business requirement 2 to use Java Modules (JPMS) came up new.</li>\n</ul>\n<p>The question is about finding a technical solution that fulfills both business requirements. It makes sense to probe whether JPMS can be omitted/ignored, but that's not what this question is about.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}