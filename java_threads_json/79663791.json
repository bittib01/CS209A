{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "exception",
      "spring-security"
    ],
    "owner": {
      "account_id": 1075383,
      "reputation": 393,
      "user_id": 1073662,
      "user_type": "registered",
      "accept_rate": 39,
      "profile_image": "https://www.gravatar.com/avatar/acd4830c2b087023a60dd4efed9550a1?s=256&d=identicon&r=PG",
      "display_name": "Monish Das",
      "link": "https://stackoverflow.com/users/1073662/monish-das"
    },
    "is_answered": false,
    "view_count": 132,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1750324107,
    "creation_date": 1749741902,
    "last_edit_date": 1749884581,
    "question_id": 79663791,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79663791/java-spring-boot-exception-mapper-is-very-inconsistent-with-rest-api",
    "title": "Java spring boot exception mapper is very inconsistent with REST API",
    "body": "<p>I am trying to implement an <code>Exception</code> mapper in Spring Boot application to capture all the exceptions thrown by the REST API.</p>\n<p>The exception mapper is working inconsistently which means for exception thrown only sometimes the exception mapper is called and logs the error as mentioned in the below code but sometimes its not working. I build the project freshly removing the target spring boot jar and still the same inconsistent behavior.  I am very confused about the behavior. Below is the code. Any help is appreciated.</p>\n<p>Major dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;spring.boot.version&gt;3.2.3&lt;/spring.boot.version&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n      &lt;version&gt;6.4.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ResourceConfig extends BaseResourceConfig {\n    public ResourceConfig() {\n        super();\n        registerClasses(GlobalExceptionMapper.class);\n        registerClasses(AbcResource.class);\n        registerClasses(XyzResource.class);\n    }\n}\n\n@Log\n@Profile\n@Provider\n@Component\n@Priority(1)\npublic class GlobalExceptionMapper extends AbstractExceptionMapper&lt;Throwable&gt; implements ExceptionMapper&lt;Throwable&gt; {\n\n    @Inject\n    public GlobalExceptionMapper(ConversionService conversionService,\n                                 ErrorResponseActionHelper actionHelper,\n                                 ExceptionHelper exceptionHelper,\n                                 Optional&lt;MetricsExceptionRecorder&gt; exceptionMetricsRecorder,\n                                 @Value(&quot;${isExternalError:false}&quot;) boolean isExternalError) {\n        super(conversionService, actionHelper, exceptionHelper, exceptionMetricsRecorder, isExternalError);\n    }\n\n    @Override\n    public Response toResponse(@NonNull Throwable exception) {\n        LogMessage logMsg = new LogMessage(&quot;&quot;, &quot;20000&quot;, &quot;&quot;, &quot;&quot;, exception.getMessage());\n        logMsg.writeLogInfo();\n        return super.toResponse(exception);\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}