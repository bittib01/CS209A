{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "virtual-threads"
    ],
    "owner": {
      "account_id": 30495448,
      "reputation": 131,
      "user_id": 23369494,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocK45EHe8eFmviOqW68u1raR9fg8Eq2PE4WlNn_D5GPo=k-s256",
      "display_name": "William N",
      "link": "https://stackoverflow.com/users/23369494/william-n"
    },
    "is_answered": true,
    "view_count": 5014,
    "accepted_answer_id": 78013537,
    "answer_count": 2,
    "score": 7,
    "last_activity_date": 1742993718,
    "creation_date": 1708187610,
    "last_edit_date": 1708267530,
    "question_id": 78012861,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78012861/parallel-service-calls-with-spring-boot-3-2-and-virtual-threads",
    "title": "Parallel service calls with Spring Boot 3.2 and virtual threads",
    "body": "<p>I am trying to call two external services in parallel using virtual threads on spring boot 3.2 with RestClient, but I'm not sure if it is correct to simply call them sequentially or use futures. My application.properties already contains: spring.threads.virtual.enabled=true</p>\n<p>Is it correct to simply do:</p>\n<pre><code>String response1 = performGetRequest(uri1);  //RestClient get request\nString response2 = performGetRequest(uri2);\n\nreturn response1 + response2;\n</code></pre>\n<p>Or do I need to do:</p>\n<pre><code>Future&lt;String&gt; response1 = performGetRequest(uri1);\nFuture&lt;String&gt; response2 = performGetRequest(uri2);\n\nreturn response1.get() + response2.get();\n</code></pre>\n<p>Also, is it necessary to wrap the block of code in a try-with-resources block, or is there no need because spring is already using virtual thread per task as it is enabled in application.properties? As so:</p>\n<pre><code>try (ExecutorService service = Executors.newVirtualThreadPerTaskExecutor();)\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}