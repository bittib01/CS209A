{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-security",
      "cors"
    ],
    "owner": {
      "account_id": 26925944,
      "reputation": 83,
      "user_id": 20499242,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ALm5wu3l7j8WvIqG-Q81kJF9YqIIFu-6zd5wAJ6uo4pR=k-s256",
      "display_name": "Ciube",
      "link": "https://stackoverflow.com/users/20499242/ciube"
    },
    "is_answered": false,
    "view_count": 112,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1726936019,
    "creation_date": 1726898420,
    "last_edit_date": 1726936019,
    "question_id": 79008861,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79008861/spring-security-6-2-3-error-access-to-xmlhttprequest-at-from-origin-http-loca",
    "title": "spring security 6.2.3 error Access to XMLHttpRequest at from origin &#39;http://localhost:5123&#39; has been blocked by CORS policy",
    "body": "<p>I know there are many posts about this, but they all seem to be broken or old, in fact none of them fit spring security 6.2.3, spring-boot 3.2.4</p>\n<p>I've tried various options to allow my frontend to communicate with an endpoint in spring while avoiding the cors problem. Here I bring you one of the solutions I tried but still didn't work. The endpoint is /api/v1/test</p>\n<p>A security configuration class:</p>\n<pre><code> @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:5123&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;,&quot;DELETE&quot;,&quot;OPTIONS&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        return httpSecurity\n                .cors(cors -&gt; cors.disable())\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(\n                                AntPathRequestMatcher.antMatcher(&quot;/api/v1/test&quot;)\n                        )\n                        .permitAll()\n                        .requestMatchers(&quot;/api/**&quot;)\n                        .authenticated()\n                )\n                .sessionManagement(sess -&gt; sess.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .build();\n    } }\n</code></pre>\n<p>A trivial endpoint to test:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/v1/&quot;)\n@Slf4j\npublic class TestController {\n\n\n\n    @GetMapping(value = &quot;test&quot;, produces = &quot;application/json&quot;)\n    @Operation(method = &quot;GET&quot;)\n    public ResponseEntity&lt;Test&gt; getTest() {\n       ...\n</code></pre>\n<p>Why do I keep getting this error from my Angular frontend?</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'https://servername/api/v1/test' from\norigin 'http://localhost:5123' has been blocked by CORS policy:\nResponse to preflight request doesn't pass access control check: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource.</p>\n</blockquote>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}