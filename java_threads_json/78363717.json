{
  "question": {
    "tags": [
      "java",
      "jhipster",
      "upgrade"
    ],
    "owner": {
      "account_id": 13009011,
      "reputation": 1281,
      "user_id": 9402689,
      "user_type": "registered",
      "profile_image": "https://graph.facebook.com/10155248276785868/picture?type=large",
      "display_name": "Raymond Choi",
      "link": "https://stackoverflow.com/users/9402689/raymond-choi"
    },
    "is_answered": true,
    "view_count": 194,
    "accepted_answer_id": 78613398,
    "answer_count": 2,
    "score": -1,
    "last_activity_date": 1718203439,
    "creation_date": 1713753093,
    "question_id": 78363717,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78363717/jhipster-failed-to-upgrade-from-8-1-0",
    "title": "JHipster failed to upgrade from 8.1.0",
    "body": "<p>My JHipster project was created on version 8.0.0 and then successfully upgraded to version 8.1.0.  After that, there is error when I try to upgrade to 8.2.1 or 8.3.0 with the following error.</p>\n<pre><code>   create src\\test\\java\\com\\pccw\\hktms\\mp\\config\\RedisTestContainersSpringContextCustomizerFactory.java\nERROR! ERROR! Error parsing file src\\main\\java\\com\\pccw\\hktms\\mp\\config\\SecurityConfiguration.java: Error: Sad sad panda, parsing errors detected in line: 42, column: 9!\nExpecting --&gt; ';' &lt;-- but found --&gt; 'return' &lt;--!\n        -&gt;compilationUnit\n        -&gt;ordinaryCompilationUnit\n        -&gt;typeDeclaration\n        -&gt;classDeclaration\n        -&gt;normalClassDeclaration\n        -&gt;classBody\n        -&gt;classBodyDeclaration\n        -&gt;classMemberDeclaration\n        -&gt;methodDeclaration\n        -&gt;methodBody\n        -&gt;block\n        -&gt;blockStatements\n        -&gt;blockStatement\n        -&gt;statement\n        -&gt;statementWithoutTrailingSubstatement\n        -&gt;expressionStatement at package com.pccw.hktms.mp.config;\n\nimport com.pccw.hktms.mp.security.*;\nimport tech.jhipster.config.JHipsterProperties;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.servlet.util.matcher.MvcRequestMatcher;\nimport org.springframework.web.servlet.handler.HandlerMappingIntrospector;\n\n\n@Configuration\n@EnableMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration {\n\n    private final JHipsterProperties jHipsterProperties;\n\n    public SecurityConfiguration( JHipsterProperties jHipsterProperties) {\n        this.jHipsterProperties = jHipsterProperties;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http, MvcRequestMatcher.Builder mvc) throws Exception {\n        http\n            .csrf(csrf -&gt; csrf\n                .disable())\n            .authorizeHttpRequests(authz -&gt;\n                // prettier-ignore\n                authz\n                    .requestMatchers(mvc.pattern(&quot;/api/authenticate&quot;)).permitAll()\n                    .requestMatchers(mvc.pattern(&quot;/api/admin/**&quot;)).hasAuthority(AuthoritiesConstants.ADMIN)\n                    .requestMatchers(mvc.pattern(&quot;/api/**&quot;)).authenticated()\n                    .requestMatchers(mvc.pattern(&quot;/v3/api-docs/**&quot;)).hasAuthority(AuthoritiesConstants.ADMIN)\n                    .requestMatchers(mvc.pattern(&quot;/management/health&quot;)).permitAll()\n                    .requestMatchers(mvc.pattern(&quot;/management/health/**&quot;)).permitAll()\n                    .requestMatchers(mvc.pattern(&quot;/management/info&quot;)).permitAll()\n                    .requestMatchers(mvc.pattern(&quot;/management/prometheus&quot;)).permitAll()\n                    .requestMatchers(mvc.pattern(&quot;/management/**&quot;)).hasAuthority(AuthoritiesConstants.ADMIN))\n        return http.build();\n    }\n\n    @Bean\n    MvcRequestMatcher.Builder mvc(HandlerMappingIntrospector introspector) {\n        return new MvcRequestMatcher.Builder(introspector);\n    }\n}\n    at file:///C:/Users/02007425/IdeaProjects/mp-api/node_modules/generator-jhipster/dist/generators/bootstrap/support/java-unused-imports-transform.mjs:20:27\n    at Transform.&lt;anonymous&gt; (file:///C:/Users/02007425/IdeaProjects/mp-api/node_modules/@yeoman/transform/dist/transform.js:42:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Transform.transform [as _transform] (file:///C:/Users/02007425/IdeaProjects/mp-api/node_modules/@yeoman/transform/dist/transform.js:16:37)\nERROR! An error occured while running jhipster:upgrade#prepareUpgradeBranch\nERROR! ERROR! Command failed with exit code 1: npx --no jhipster --force --skip-install --skip-git --ignore-errors --no-insight --skip-checks\nError: Command failed with exit code 1: npx --no jhipster --force --skip-install --skip-git --ignore-errors --no-insight --skip-checks\n    at makeError (file:///C:/Program%20Files/nodejs/node_modules/generator-jhipster/node_modules/execa/lib/error.js:60:11)\n    at handlePromise (file:///C:/Program%20Files/nodejs/node_modules/generator-jhipster/node_modules/execa/index.js:124:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async UpgradeGenerator.prepareUpgradeBranch (file:///C:/Program%20Files/nodejs/node_modules/generator-jhipster/dist/generators/upgrade/generator.js:168:21)\n    at async UpgradeGenerator.executeTask (file:///C:/Program%20Files/nodejs/node_modules/generator-jhipster/node_modules/yeoman-generator/dist/actions/lifecycle.js:244:13)\n    at async runLoop.add.once (file:///C:/Program%20Files/nodejs/node_modules/generator-jhipster/node_modules/yeoman-environment/dist/environment-base.js:395:17) {\n  shortMessage: 'Command failed with exit code 1: npx --no jhipster --force --skip-install --skip-git --ignore-errors --no-insight --skip-checks',\n</code></pre>\n<p>Clearly, it is missing a <code>;</code> at the end of the line <code>.requestMatchers(mvc.pattern(&quot;/management/**&quot;)).hasAuthority(AuthoritiesConstants.ADMIN))</code>.</p>\n<p>I've tried to update <code>npm</code> and <code>node</code> to the latest versions.  But the same problem still exists.</p>\n<pre><code>&gt;npm doctor\nCheck                      Value   Recommendation/Notes\nnpm ping                   ok\nnpm -v                     ok      current: v10.5.2, latest: v10.5.2\nnode -v                    ok      current: v20.12.2, recommended: v20.12.2\nnpm config get registry    ok      using default registry (https://registry.npmjs.org/)\ngit executable in PATH     ok      C:\\Program Files\\Git\\cmd\\git.EXE\nglobal bin folder in PATH  ok      C:\\Program Files\\nodejs\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}