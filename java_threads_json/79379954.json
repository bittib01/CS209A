{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "hibernate",
      "jpa",
      "spring-data-jpa"
    ],
    "owner": {
      "account_id": 219754,
      "reputation": 13658,
      "user_id": 476828,
      "user_type": "registered",
      "accept_rate": 51,
      "profile_image": "https://i.sstatic.net/6CyjQ.jpg?s=256",
      "display_name": "Subodh Joshi",
      "link": "https://stackoverflow.com/users/476828/subodh-joshi"
    },
    "is_answered": false,
    "view_count": 56,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1737610957,
    "creation_date": 1737610957,
    "question_id": 79379954,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79379954/springdatajpa3-transactional-not-performing-update-for-dirty-object",
    "title": "SpringDataJPA3 @Transactional not performing update for dirty object",
    "body": "<p>Here is code scenario</p>\n<pre><code>   @Transactional\n    public User login(String username, String password, String ipAddress, boolean needDevRoleCheck)\n            throws CatalogAPIException, LoginFaultException {\n        return internalLogin(username, password, ipAddress, needDevRoleCheck);\n    }\n</code></pre>\n<p>and</p>\n<pre><code> private User internalLogin(String username, String password, String ipAddress, boolean needDevRoleCheck)\n            throws CatalogAPIException, LoginFaultException {\n\n        User user = null;\n        try {\n            user = userService.getUserByUsername(username.toUpperCase());\n        } catch (ServiceException e) {\n            logger.error(e);\n        }\n      authorizationService.checkDevModeLocked(user);\n    }\n</code></pre>\n<p>User fetched like this</p>\n<pre><code> public User getUserByUsername(String username) throws ServiceException {\n        \n        User user = userRepository.findByUsername(username.toUpperCase());\n        if (user == null) {\n            throw new ServiceException(&quot;definition.user.not.found&quot;, localeService.getMessage(&quot;definition.user.not.found&quot;, username));\n        }\n        return user;\n    }\n</code></pre>\n<p>and</p>\n<pre><code>public void checkDevModeLocked(User user) throws LoginFaultException {\n///some more logic and then \nuser.setDevLogin(Constants.TRUE);\n}\n</code></pre>\n<p>Now you can see user object is updated and in dirty state but after this transaction finished user column is not updated in DB</p>\n<p>But Same code base was working fine Springboot2.6.6/JPA/Hibernate5 but now its using latest release of the Springboot3.4.1/JPA/Hibernate-core6.6.4.</p>\n<p>Is there any major changes from Hibernate to handle the  <code>@Transactional</code> ?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}