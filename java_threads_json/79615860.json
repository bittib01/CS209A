{
  "question": {
    "tags": [
      "java",
      "oop",
      "design-patterns",
      "enums",
      "unit-conversion"
    ],
    "owner": {
      "account_id": 41279613,
      "reputation": 137,
      "user_id": 30213076,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/761725e3b95e908ff1b7383c96fedb5c?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "jamesdiaz",
      "link": "https://stackoverflow.com/users/30213076/jamesdiaz"
    },
    "is_answered": true,
    "view_count": 158,
    "answer_count": 2,
    "score": 6,
    "last_activity_date": 1748450483,
    "creation_date": 1746906454,
    "last_edit_date": 1748450390,
    "question_id": 79615860,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79615860/how-can-i-generalize-a-unit-conversion-method-for-different-enums-in-java",
    "title": "How can I generalize a unit conversion method for different Enums in Java?",
    "body": "<p>I’m currently building a unit converter app in Java (as a beginner), and I want to avoid duplicating logic for each type of unit.</p>\n<p>Right now, I have different enums like Length, Weight, Time, etc., and each enum constant has a conversion factor to a base unit (e.g. meters, kilograms, etc.). These enums all implement a common Units interface:</p>\n<pre><code>public interface Units {}\n\npublic enum Length implements Units {\n    METRE(1.0), KILOMETRE(1000), CENTIMETRE(0.01), ...;\n\n    private final double toMetreFactor;\n\n    Length(double factor) {\n        this.toMetreFactor = factor;\n    }\n\n    public double getToMetreFactor() {\n        return toMetreFactor;\n    }\n}\n</code></pre>\n<p>In my ConverterModel class, I currently have methods like this:</p>\n<pre><code>public double convertLength(double value, Length input, Length output) {\n    double base = value * input.getToMetreFactor();\n    return base / output.getToMetreFactor();\n}\n</code></pre>\n<p>But this means I need to write similar methods for every category (convertWeight, convertTime, etc.).</p>\n<p>I’d like to generalize this logic so I can write one reusable method like:</p>\n<p><code>public double convert(double value, Units from, Units to);</code></p>\n<p>I already have my GUI set up with JComboBox, so I’m passing the selected units as Units. However, I can’t access the conversion factor unless I cast to the specific enum (e.g., Length), which feels clunky and not extensible.</p>\n<p>Is it possible to design the Units interface (or the enums) so that I can call something like from.getToBaseFactor() without casting? Or can I somehow make the convert(...) method universal?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}