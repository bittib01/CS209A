{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "greenplum"
    ],
    "owner": {
      "account_id": 943688,
      "reputation": 3411,
      "user_id": 971355,
      "user_type": "registered",
      "accept_rate": 79,
      "profile_image": "https://i.sstatic.net/824X5yBT.jpg?s=256",
      "display_name": "ka3ak",
      "link": "https://stackoverflow.com/users/971355/ka3ak"
    },
    "is_answered": false,
    "view_count": 84,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1747834163,
    "creation_date": 1736762135,
    "question_id": 79351771,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79351771/get-total-remaining-and-available-space-in-greenplum",
    "title": "Get total remaining and available space in Greenplum",
    "body": "<p>I have a SpringBoot-based microservice which should get information about total available and remaining space in a Greenplum database.</p>\n<p>I did some research and found the following links:\n<a href=\"https://techdocs.broadcom.com/us/en/vmware-tanzu/data-solutions/tanzu-greenplum-command-center/6-9/gp-command-center/topics-ui-storage-usage.html\" rel=\"nofollow noreferrer\">https://techdocs.broadcom.com/us/en/vmware-tanzu/data-solutions/tanzu-greenplum-command-center/6-9/gp-command-center/topics-ui-storage-usage.html</a>\n<a href=\"https://techdocs.broadcom.com/us/en/vmware-tanzu/data-solutions/tanzu-greenplum/7/greenplum-database/admin_guide-managing-monitor.html#topic15\" rel=\"nofollow noreferrer\">https://techdocs.broadcom.com/us/en/vmware-tanzu/data-solutions/tanzu-greenplum/7/greenplum-database/admin_guide-managing-monitor.html#topic15</a></p>\n<p>One of them suggest to run the following query:</p>\n<pre><code>SELECT * FROM gp_toolkit.gp_disk_free ORDER BY dfsegment;\n</code></pre>\n<p>I executed it on DB running in a docker container and got the following output:</p>\n<pre><code>dfsegment|dfhostname   |dfdevice|dfspace  |\n---------+-------------+--------+---------+\n        0| 18565d307fa9| overlay|119968388|\n        1| 18565d307fa9| overlay|119968388|\n</code></pre>\n<p>However this rises questions:</p>\n<ol>\n<li>What is total remaining space? Should I sum values in 'dfspace' column?</li>\n<li>What is total available space (capacity)?</li>\n</ol>\n<p>Besides the service shouldn't have administrator permissions which are required to execute the query above.\nAssuming it's possible to get answers to the questions, how should the microservice get the data?\nShould a stored procedure/function be created by DevOps engineers and made accessible to normal users?</p>\n<p>Using Greenplum 6.26.0</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}