{
  "question": {
    "tags": [
      "java",
      "json",
      "jsonpath",
      "json-path-expression",
      "jayway"
    ],
    "owner": {
      "account_id": 16655382,
      "reputation": 163,
      "user_id": 12036945,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAKawswmaMggsTGzOHtracsZ6VbwFndxdN-O_wSOA=k-s256",
      "display_name": "Kiran Deep",
      "link": "https://stackoverflow.com/users/12036945/kiran-deep"
    },
    "is_answered": true,
    "view_count": 126,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1749982210,
    "creation_date": 1749472197,
    "last_edit_date": 1749481386,
    "question_id": 79658878,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79658878/jayway-jsonpathjson-path-is-failing-to-filter-objects-with",
    "title": "jayway.jsonpath:json-path is failing to filter objects with !=",
    "body": "<p>I am trying to exclude a field and keeps rest of the fields intact using Goessner JSONPath of <code>com.jayway.jsonpath:json-path:2.9.0</code> but apparently it is not working.</p>\n<p>For the following JSON,</p>\n<pre><code>{\n  &quot;firstName&quot;: &quot;John&quot;,\n  &quot;lastName&quot; : &quot;doe&quot;,\n  &quot;age&quot;      : 26,\n  &quot;address&quot;  : {\n    &quot;streetAddress&quot;: &quot;naist street&quot;,\n    &quot;city&quot;         : &quot;Nara&quot;,\n    &quot;postalCode&quot;   : &quot;630-0192&quot;\n  },\n  &quot;phoneNumbers&quot;: [\n    {\n      &quot;type&quot;  : &quot;iPhone&quot;,\n      &quot;number&quot;: &quot;0123-4567-8888&quot;\n    },\n    {\n      &quot;type&quot;  : &quot;home&quot;,\n      &quot;number&quot;: &quot;0123-4567-8910&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I am trying to extract the value of the fields excluding the city, i.e., I expect the output to be as,</p>\n<pre><code>[naist street, 630-0192]\n</code></pre>\n<p>I am using <code>com.jayway.jsonpath:json-path:2.9.0</code> as the library, and the expression I wrote is,</p>\n<pre><code>$.address[?(@!=$.address.city)]\n</code></pre>\n<p>But it fails to give the desired output. While trying on an online <a href=\"https://www.jsonquerytool.com/sample/jsonpathselectmultiplefields\" rel=\"nofollow noreferrer\">Goessner JSONPath tool</a> I acheived desired output.</p>\n<p>Following is the minimal, reproducible example for the issue,</p>\n<pre><code>package org.example;\n\nimport com.jayway.jsonpath.JsonPath;\n\npublic class JavaJsonPath {\n    public static void main(String[] args) {\n        String json = &quot;&quot;&quot;\n        \n                {\n          &quot;firstName&quot;: &quot;John&quot;,\n          &quot;lastName&quot; : &quot;doe&quot;,\n          &quot;age&quot;      : 26,\n          &quot;address&quot;  : {\n            &quot;streetAddress&quot;: &quot;naist street&quot;,\n            &quot;city&quot;         : &quot;Nara&quot;,\n            &quot;postalCode&quot;   : &quot;630-0192&quot;\n          },\n          &quot;phoneNumbers&quot;: [\n            {\n              &quot;type&quot;  : &quot;iPhone&quot;,\n              &quot;number&quot;: &quot;0123-4567-8888&quot;\n            },\n            {\n              &quot;type&quot;  : &quot;home&quot;,\n              &quot;number&quot;: &quot;0123-4567-8910&quot;\n            }\n          ]\n        }\n        &quot;&quot;&quot;;\n\n        Object filtered = JsonPath.read(json, &quot;$.address[?(@ != $.address.city)]&quot;);\n        System.out.println(&quot;Without 'city': &quot; + filtered);\n    }\n}\n</code></pre>\n<p>Is this an issue with the library or do I need to do any workaround?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}