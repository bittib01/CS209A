{
  "question": {
    "tags": [
      "java",
      "monitoring",
      "trace",
      "skywalking"
    ],
    "owner": {
      "account_id": 29315284,
      "reputation": 1,
      "user_id": 22460186,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/8bUtq.jpg?s=256",
      "display_name": "Vladimir Sabo",
      "link": "https://stackoverflow.com/users/22460186/vladimir-sabo"
    },
    "is_answered": true,
    "view_count": 99,
    "accepted_answer_id": 79342910,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1736431619,
    "creation_date": 1734610905,
    "last_edit_date": 1734611238,
    "question_id": 79294269,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79294269/apache-skywalking-java-agent-trace-changes",
    "title": "apache skywalking java agent trace changes",
    "body": "<p>I have a simplified project reflecting the problem <a href=\"https://github.com/vlasabo/RMQ-skywalking/tree/main\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The bottom line is this: there is a producer who puts a message in RabbitMQ, there is a consumer who consumes the message from there and processes it.\nIn the skywalking trace, it can be seen that the trace does not change (and I manually checked it by logging the sw8 headers). I.e., we put the message in a queue with a header, it also lies in the rabbit with a header, consumed with the same header, and when we start processing (in my simplified case, we create an entity based on the message and save) the traceId is changing.</p>\n<p>What I want: to see the entire path in the trace, starting from the request in the producer service, ending with saving in the consumer service.\nWhat I have now: the first trace to read from the queue (including reading), the second trace processing.</p>\n<p>I am sure that the span should change, not the trace. Where did I mess up?</p>\n<p><a href=\"https://i.sstatic.net/pl0tJmfg.png\" rel=\"nofollow noreferrer\">produce &amp; consume</a></p>\n<p><a href=\"https://i.sstatic.net/TgQcfDJj.png\" rel=\"nofollow noreferrer\">processing</a></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}