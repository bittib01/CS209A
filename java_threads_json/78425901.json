{
  "question": {
    "tags": [
      "java",
      "apache-kafka",
      "sasl",
      "confluent-cloud"
    ],
    "owner": {
      "account_id": 3503406,
      "reputation": 12225,
      "user_id": 2929562,
      "user_type": "registered",
      "accept_rate": 88,
      "profile_image": "https://www.gravatar.com/avatar/0708efce40a3a0474d79c80111cb2276?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "PAA",
      "link": "https://stackoverflow.com/users/2929562/paa"
    },
    "is_answered": false,
    "view_count": 578,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1721321080,
    "creation_date": 1714754081,
    "last_edit_date": 1714799530,
    "question_id": 78425901,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78425901/exception-in-thread-main-org-apache-kafka-common-errors-saslauthenticationexce",
    "title": "Exception in thread &quot;main&quot; org.apache.kafka.common.errors.SaslAuthenticationException: Authentication failed",
    "body": "<p>I am trying to use the Confluent Cloud hosted on Azure in my project and we do have API Key and Secret, but I am not able to connect and unable to read the message from kafka topic. I went thriugh the link: <a href=\"https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/best-practices-api-keys.html\" rel=\"nofollow noreferrer\">https://docs.confluent.io/cloud/current/access-management/authenticate/api-keys/best-practices-api-keys.html</a>, but its not clear how to set it into Java consumer code and also getting below error</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.kafka.common.errors.SaslAuthenticationException: Authentication failed\n</code></pre>\n<p>I used below code</p>\n<pre><code>public class HelloConsumer {\n    public static void main(String[] args) {\n        Properties props = new Properties();\n        props.put(ConsumerConfig.CLIENT_ID_CONFIG, AppConfigs.applicationID);\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;XXXXXXXXXX.azure.confluent.cloud:9092&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;someid&quot;);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n        props.put(SaslConfigs.SASL_MECHANISM, &quot;PLAIN&quot;);\n        props.put(SaslConfigs.SASL_JAAS_CONFIG, &quot;org.apache.kafka.common.security.plain.PlainLoginModule required username=\\&quot;&quot; + &quot;apiKeyValue&quot; + &quot;\\&quot; password=\\&quot;&quot; + &quot;secreteValue&quot; + &quot;\\&quot;;&quot;);\n\n        KafkaConsumer&lt;String, String&gt; kafkaConsumer = new KafkaConsumer&lt;&gt;(props);\n        kafkaConsumer.subscribe(Arrays.asList(&quot;test-topic&quot;));\n\n        while(true){\n            ConsumerRecords&lt;String, String&gt; records = kafkaConsumer.poll(Duration.ofMillis(100));\n\n            for (ConsumerRecord&lt;String, String&gt; record : records){\n                System.out.println(&quot;Key: &quot; + record.key() + &quot;, Value: &quot; + record.value());\n                System.out.println(&quot;Partition: &quot; + record.partition() + &quot;, Offset:&quot; + record.offset());\n            }\n        }\n    }\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}