{
  "question": {
    "tags": [
      "java",
      "amazon-web-services",
      "aws-lambda",
      "quarkus",
      "resteasy"
    ],
    "owner": {
      "account_id": 5939721,
      "reputation": 632,
      "user_id": 4671437,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/aToRo.jpg?s=256",
      "display_name": "Stan Ostrovskii",
      "link": "https://stackoverflow.com/users/4671437/stan-ostrovskii"
    },
    "is_answered": false,
    "view_count": 333,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1710006514,
    "creation_date": 1704409036,
    "question_id": 77761648,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77761648/quarkus-project-rest-api-responses-hang-if-quarkus-amazon-lambda-http-dependency",
    "title": "Quarkus project REST API responses hang if quarkus-amazon-lambda-http dependency present",
    "body": "<p>I have the following minimal Quarkus project example. Without the <code>quarkus-amazon-lambda-http</code> dependency, the project returns the correct response when the GET endpoint is called, and even a much larger one (10,000 items).</p>\n<p>However when the <code>quarkus-amazon-lambda-http</code> dependency is added to <code>pom.xml</code> the size of the possible response is severely limited. The code will only run if the response size if very small (it works with 50 items, but not 100).</p>\n<p>When I run the project locally, the response code 200 OK is returned, but no body, and it just hangs trying to retrieve body indefinitely (tried through Postman, browser, curl).</p>\n<p>I have tried with both reactive and non-reactive dependencies for the pom.xml and there is the same result with both. I have tried to use other versions of Quarkus also, such as 3.6.0.</p>\n<p>Resource:</p>\n<pre><code>import jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/cars&quot;)\npublic class ExampleResource {\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public List&lt;Car&gt; cars() {\n        List&lt;Car&gt; carList = new ArrayList&lt;&gt;();\n\n        //works if there are only 50 items in list\n        //without lambda dependency, works if there 10000+\n        for (int i = 0; i &lt; 100; i++) {\n            carList.add(new Car(Long.valueOf(i), &quot;Car(&quot; + i + &quot;)&quot;, Double.valueOf(i) * 100, Double.valueOf(i) + 100,\n                    Double.valueOf(i), new Date(), new Date()));\n        }\n\n        return carList;\n    }\n}\n</code></pre>\n<p>Model object:</p>\n<pre><code>@Data\n@AllArgsConstructor\npublic class Car {\n    private Long id;\n    private String name;\n    private Double weight;\n    private Double length;\n    private Double width;\n    private Date dateBuilt;\n    private Date dateAdded;\n}\n</code></pre>\n<p>pom.xml file dependencies and versions:</p>\n<pre><code>&lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;3.6.4&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.1.2&lt;/surefire-plugin.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-resteasy-reactive-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-resteasy-reactive-jsonb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-amazon-lambda-http&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}