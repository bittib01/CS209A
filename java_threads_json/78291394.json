{
  "question": {
    "tags": [
      "java",
      "android",
      "razorpay"
    ],
    "owner": {
      "account_id": 31294457,
      "reputation": 9,
      "user_id": 24105838,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/491874d785aefaef866c7a907b424888?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Siddharth Pandalai",
      "link": "https://stackoverflow.com/users/24105838/siddharth-pandalai"
    },
    "is_answered": true,
    "view_count": 735,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1715153408,
    "creation_date": 1712567315,
    "question_id": 78291394,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78291394/dynamic-code-loading-issue-on-android-14-devices",
    "title": "Dynamic Code Loading issue on Android 14 devices",
    "body": "<pre><code>public void setPayment(PaymentResponse response){\n        this.response = response;\n        layout.findViewById(R.id.loader).setVisibility(View.GONE);\n        layout.findViewById(R.id.payment_area).setVisibility(View.VISIBLE);\n        if(razorpay==null){\n            //cause of error due to referencing from .aar file\n            razorpay = new Razorpay(getActivity(),response.getPayment().getGatewayKey());\n        }\n        razorpay.setWebView(paymentLayout.findViewById(R.id.payments));\n        //code continues\n    }\n</code></pre>\n<p>For the above code snippet, I am facing the following error message on Android 14 devices:-\njava.lang.SecurityException: writable dex file '/data/user/io.project.package.name/cache/.     ' is not allowed.</p>\n<p>I have the razorpay.aar in my libs folder and also have included the following under dependencies in build.gradle:\nimplementation fileTree(dir: 'libs', include: ['*.aar'])\nimplementation files('libs/razorpay.aar')\nHowever, I am facing this issue on Android 14 devices and haven't been able to figure how to mark it as read only, as required for Android 14.\nCan anyone help me figure out exactly how to fix this issue? It runs smoothly on pre Android 14 devices. There is a more updated dependency version of the same .aar, and using that instead of the .aar seems to sort the issue on Android 14 devices, but it would require more refactoring and changes from server side as well. Hence, a solution fixing it at the application level, using the same .aar would be highly helpful and quicker for us to deploy as a hotfix.\nUsing Android Studio Iguana | 2023.2.1 Patch 1 to compile my build.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}