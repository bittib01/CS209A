{
  "question": {
    "tags": [
      "java",
      "classloader",
      "java-17",
      "java-module",
      "urlclassloader"
    ],
    "owner": {
      "account_id": 1140418,
      "reputation": 5946,
      "user_id": 1124509,
      "user_type": "registered",
      "accept_rate": 53,
      "profile_image": "https://i.sstatic.net/fhxGW.png?s=256",
      "display_name": "Reto H&#246;hener",
      "link": "https://stackoverflow.com/users/1124509/reto-h%c3%b6hener"
    },
    "is_answered": false,
    "view_count": 158,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1721752675,
    "creation_date": 1721729259,
    "question_id": 78782844,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78782844/why-am-i-getting-java-lang-noclassdeffounderror-java-sql-driver-when-using-a-cu",
    "title": "Why am I getting java.lang.NoClassDefFoundError: java/sql/Driver when using a custom class loader?",
    "body": "<p>This works with Java 8:</p>\n<pre><code>public class Test {\n  public static void main(String[] args) throws Exception {\n    URLClassLoader loader = new URLClassLoader(new URL[0], null);\n    System.out.println(&quot;&quot; + loader.loadClass(&quot;java.sql.Driver&quot;));\n  }\n}\n</code></pre>\n<p>But throws ClassNotFoundException with Java 17:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: java.sql.Driver\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    at Test.main(Test.java:16)\n</code></pre>\n<p>Great diagram explaining class loaders (Java 9+):</p>\n<p><a href=\"https://medium.com/@wakefulinsomnia/how-does-java-classloader-system-work-82eaf378f73b\" rel=\"nofollow noreferrer\">https://medium.com/@wakefulinsomnia/how-does-java-classloader-system-work-82eaf378f73b</a></p>\n<p>Related/similar issues:</p>\n<ul>\n<li><a href=\"https://github.com/nextgenhealthcare/connect/discussions/5079\" rel=\"nofollow noreferrer\">https://github.com/nextgenhealthcare/connect/discussions/5079</a></li>\n<li><a href=\"https://github.com/nextgenhealthcare/connect/issues/4719\" rel=\"nofollow noreferrer\">https://github.com/nextgenhealthcare/connect/issues/4719</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69713820/java-lang-noclassdeffounderror-java-sql-driver\">java.lang.NoClassDefFoundError: java/sql/Driver</a></li>\n<li><a href=\"https://github.com/kscripting/kscript/issues/163\" rel=\"nofollow noreferrer\">https://github.com/kscripting/kscript/issues/163</a></li>\n</ul>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}