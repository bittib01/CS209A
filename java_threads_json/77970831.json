{
  "question": {
    "tags": [
      "java",
      "soap",
      "glassfish",
      "war",
      "glassfish-6"
    ],
    "owner": {
      "account_id": 29859733,
      "reputation": 1,
      "user_id": 22883669,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/4ebed9edd55a1362ba30b8d233b9ce6d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "krazytoukan",
      "link": "https://stackoverflow.com/users/22883669/krazytoukan"
    },
    "is_answered": false,
    "view_count": 58,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1721682155,
    "creation_date": 1707512132,
    "question_id": 77970831,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77970831/glassfish6-war-module-doesnt-boot-as-ejb-web-webservice-despite-having-webserv",
    "title": "Glassfish6 WAR Module Doesn&#39;t Boot as ejb,web,webservice despite having @WebService Annotation",
    "body": "<p>I'm in the process of creating a REST-adjacent (i.e. HTTP Method implementation, but not actual REST structure) API wrapper for a SOAP API I've developed for Glassfish6. In developing this, I've created a new module controller for the REST-adjacent controller in addition to the SOAP . The SOAP Controller is annotated with @WebService. Originally, the module was built and deployed as a JAR with</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-ejb-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;ejbVersion&gt;3.1&lt;/ejbVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>It is now built and deployed as a WAR:</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I'm able to build and deploy this module to my Glassfish6 server. However, there is a weird and inconsistent issue wherein, on deploy of the module Glassfish6 will report the Application as having engines ejb,web instead of ejb,web,webservices as seen in the External module in screenshot of the Application Console below:<br />\n<a href=\"https://i.sstatic.net/4ao0W.png\" rel=\"nofollow noreferrer\">ApplicationConsoleGF6</a></p>\n<p>The SOAP Module Controller :</p>\n<pre><code>@WebService(targetNamespace = &quot;http://redactednamespace.com&quot;)\n@Stateless\n@LoginNotRequired\npublic class External extends BaseController {\n\n    @Override\n    protected void setModuleNameInRegistry() {\n        registry.putResource(MODULE_NAME, &quot;External&quot;);\n    }\n\n}\n</code></pre>\n<p>The REST-Adjacent Controller</p>\n<pre><code>@Path(&quot;external/{serviceName}&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@Stateless\npublic class ExternalJson extends BaseJsonController {\n\n\n    @Override\n    protected void setModuleNameInRegistry() {\n        registry.putResource(MODULE_NAME, &quot;External&quot;);\n    }\n\n}\n</code></pre>\n<p>Because webservices isn't active, the SOAP controller throws a 404 when attempting to access, claiming no endpoint is listening. Using the REST Controller does allows for access with the module though.</p>\n<p>Redeploying on its own does not solve the issue. What's even stranger about all of this, is that after several hours (without a redeploy and no additional steps on my side), GF6 will then report that the module is a webservices engine and the SOAP controller can be reached (like what you can see in the Core and Background modules in the screenshot). On subsequent redeploys after that, GF6 does not have an issue with deploying the module correctly as ejb,web,webservices.Obviously, picking SOAP or REST would be the best option, but not really feasible unfortunately at this point, so any advice would be greatly appreciated here. Thanks!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}