{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "jackson"
    ],
    "owner": {
      "account_id": 1073114,
      "reputation": 3413,
      "user_id": 1071914,
      "user_type": "registered",
      "accept_rate": 86,
      "profile_image": "https://www.gravatar.com/avatar/aeb3ec5ff00d360e09d3e7912ca848d4?s=256&d=identicon&r=PG",
      "display_name": "user1071914",
      "link": "https://stackoverflow.com/users/1071914/user1071914"
    },
    "is_answered": true,
    "view_count": 2630,
    "accepted_answer_id": 78562476,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1741929239,
    "creation_date": 1717198186,
    "question_id": 78562434,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78562434/jackson-objectmapper-class-no-longer-in-jackson-databind",
    "title": "jackson ObjectMapper class no longer in jackson-databind?",
    "body": "<p>I am updating an existing application from Spring-boot 2.x to 3.3.0 and Jackson 2.17.1.    Spring Boot pulls in Spring Framework 6.1.8.</p>\n<p>There seems to be a class from jackson-databind that has disappeared or been moved.  I hope that someone can point out what happened to this class, because I can find no clear details about this online.</p>\n<p><strong>Details:</strong>  Upon startup of my Spring Boot application, the Spring Boot application fails with a BeanCreationException:</p>\n<pre><code>Application run failed  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.endpoint.jackson.JacksonEndpointAutoConfiguration': Lookup method resolution failed\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:497)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:367)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1296)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:562)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:335)\n</code></pre>\n<p>This is nothing happening inside my code, this is happening INSIDE Spring Framework when it tries to instantiate this internal bean inside Spring Boot:</p>\n<p><strong>org.springframework.boot.actuate.autoconfigure.endpoint.jackson.JacksonEndpointAutoConfiguration</strong></p>\n<p>The underlying problem seems to be that this class from the jackson-databind library cannot be found:</p>\n<p><strong>com.fasterxml.jackson.databind.ObjectMapper</strong></p>\n<p>The code in the Spring Framework class imports this class directly:</p>\n<pre><code>package org.springframework.boot.actuate.autoconfigure.endpoint.jackson;\n\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport org.springframework.boot.actuate.endpoint.jackson.EndpointObjectMapper;\nimport org.springframework.boot.autoconfigure.AutoConfigureAfter;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\nimport org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.converter.json.Jackson2ObjectMapperBuilder;\n\n/**\n * {@link EnableAutoConfiguration Auto-configuration} for Endpoint Jackson support.\n *\n * @author Phillip Webb\n * @since 3.0.0\n */\n@Configuration(proxyBeanMethods = false)\n@AutoConfigureAfter(JacksonAutoConfiguration.class)\npublic class JacksonEndpointAutoConfiguration {\n\n    @Bean\n    @ConditionalOnProperty(name = &quot;management.endpoints.jackson.isolated-object-mapper&quot;, matchIfMissing = true)\n    @ConditionalOnClass({ ObjectMapper.class, Jackson2ObjectMapperBuilder.class })\n    public EndpointObjectMapper endpointObjectMapper() {\n       ObjectMapper objectMapper = Jackson2ObjectMapperBuilder.json()\n          .featuresToDisable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,\n                SerializationFeature.WRITE_DURATIONS_AS_TIMESTAMPS)\n          .serializationInclusion(Include.NON_NULL)\n          .build();\n       return () -&gt; objectMapper;\n    }\n\n}\n</code></pre>\n<p>This might create a problem for anyone trying to use Jackson and Spring together. Here's a graph of the dependencies (from maven dependency:tree)</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.3.0:compile\n[INFO] |  +- (org.springframework.boot:spring-boot-starter:jar:3.3.0:compile - version managed from 3.3.0; omitted for duplicate)\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.3.0:compile (version managed from 3.3.0)\n[INFO] |  |  +- (org.springframework.boot:spring-boot-starter:jar:3.3.0:compile - version managed from 3.3.0; omitted for duplicate)\n[INFO] |  |  +- (org.springframework:spring-web:jar:6.1.8:compile - version managed from 6.1.8; omitted for duplicate)\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.17.1:compile (version managed from 2.17.1)\n[INFO] |  |  |  \\- (com.fasterxml.jackson.core:jackson-core:jar:2.17.1:compile - version managed from 2.17.1; omitted for duplicate)\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.17.1:compile (version managed from 2.17.1; scope not updated to compile)\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.17.1:compile (version managed from 2.17.1)\n[INFO] |  |  |  \\- (com.fasterxml.jackson.core:jackson-core:jar:2.17.1:compile - version managed from 2.17.1; omitted for duplicate)\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.17.1:compile (version managed from 2.17.1)\n[INFO] |  |     \\- (com.fasterxml.jackson.core:jackson-core:jar:2.17.1:compile - version managed from 2.17.1; omitted for duplicate)\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}