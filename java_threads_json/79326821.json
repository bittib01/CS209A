{
  "question": {
    "tags": [
      "java",
      "kotlin",
      "gradle",
      "avro",
      "avsc"
    ],
    "owner": {
      "account_id": 6210495,
      "reputation": 1,
      "user_id": 4836919,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/8c4c81e5ade26ca46271f1f6384a86b3?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "khir404",
      "link": "https://stackoverflow.com/users/4836919/khir404"
    },
    "is_answered": false,
    "view_count": 72,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1761857271,
    "creation_date": 1735915542,
    "question_id": 79326821,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79326821/trouble-sharing-schemas-between-schemas-when-converting-from-avdl-to-avsc",
    "title": "Trouble sharing schemas between schemas when converting from avdl to avsc",
    "body": "<p>We have a big avro model currently written using IDL (avdl). We create a shared.avdl file with shared records, and then we're using <code>import idl</code> functionality to import the records into other records. We are converting the file to an avsc file, and then it looks like each shared record get's recreated as their own record inside the avsc file.\nIn <a href=\"https://deeptimittalblogger.medium.com/defining-reusable-schemas-in-avro-991f2e21d1ca\" rel=\"nofollow noreferrer\">this</a> tutorial, they say to just use the full declaration of the shared record;\n<code>&quot;type&quot;:&quot;com.deepti.sample.avro.schema.Author&quot;</code>.\nBut this is not the case when auto-generating the avsc file.</p>\n<p>For those of you who also writes your avro model using avdl, how do you define shared records which is used in other records?</p>\n<p>I can add that we are sharing our schemas through SchemaRegistry, and right now we only upload the main avsc files, since they contain all shared records. I saw some suggestions which suggested us to write the model in avsc, but if I'm correct we then need to upload every shared record to SchemaRegistry, and then make every consumer read each individual shared schema? This seems like hazzle... There must be a better way?</p>\n<p>We are currently using the following plugins to convert the avdl file into avsc file;\n<code>com.github.davidmc24.gradle.plugin.avro</code>. This converts the avdl into avpr, and then takes the avpr files and convert them into avsc.</p>\n<p><a href=\"https://stackoverflow.com/questions/48100575/avro-multiple-record-of-same-type-in-single-schema\">Avro multiple record of same type in single schema</a> :\nThis post is about using the same schema multiple times in the same record. I want to use the same schema in different records.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}