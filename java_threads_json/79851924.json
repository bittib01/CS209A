{
  "question": {
    "tags": [
      "java",
      "multithreading",
      "java-21",
      "virtual-threads"
    ],
    "owner": {
      "account_id": 3020485,
      "reputation": 322,
      "user_id": 2561658,
      "user_type": "registered",
      "accept_rate": 33,
      "profile_image": "https://www.gravatar.com/avatar/a4de6e1bcfb46e6077658b3448427e5e?s=256&d=identicon&r=PG",
      "display_name": "John M",
      "link": "https://stackoverflow.com/users/2561658/john-m"
    },
    "is_answered": true,
    "view_count": 121,
    "closed_date": 1766284332,
    "answer_count": 1,
    "score": -5,
    "last_activity_date": 1766305336,
    "creation_date": 1766256348,
    "question_id": 79851924,
    "link": "https://stackoverflow.com/questions/79851924/java-virtual-thread-performance",
    "closed_reason": "Needs details or clarity",
    "title": "Java virtual thread performance",
    "body": "<p>I'm looking into implementing virtual threads and wanted to have an idea of what the benefits are compared to Project Reactor to get an idea of whether the Java 21 juice is worth the squeeze. I'm confused, however, to find that when I compare virtual threads to Reactor to platform threads it's the platform threads that seem to be the most performant.</p>\n<p><a href=\"https://github.com/pmeyerin/thread-performance-comparison/blob/develop/src/threading/Driver.java\" rel=\"nofollow noreferrer\">This very simple class is what I was using for my performance check</a></p>\n<p>I'm seeing</p>\n<pre><code>Platform thread performance: \n----------\nLongest run time: 9\nShortest run time: 5\nAverage run time: 6\nTotal run time: 6416\nMin memory used: 4\nMax memory used: 6\naverage memory used: 5\n\nvirtual thread performance: \n----------\nLongest run time: 15\nShortest run time: 5\nAverage run time: 6\nTotal run time: 6391\nMin memory used: 4\nMax memory used: 7\naverage memory used: 6\n</code></pre>\n<p>The &quot;Longest run time&quot; metric is probably not significant as it is always the first run. Probably something initializing in the JVM the first time it pulls up threads, but the memory usage, should be better for for virtual threads from what I've read.</p>\n<p>Obviously it seems more likely that my test is wrong than that Oracle has been lying about virtual threads, but I'm curious if anyone has any insight into what I've messed up and what the actual difference might look like</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}