{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "apache-camel",
      "amqp",
      "activemq-artemis"
    ],
    "owner": {
      "account_id": 47518,
      "reputation": 21752,
      "user_id": 140803,
      "user_type": "registered",
      "accept_rate": 78,
      "profile_image": "https://www.gravatar.com/avatar/9b0721c1da4f00e69cd58a4cc909768c?s=256&d=identicon&r=PG",
      "display_name": "Blessed Geek",
      "link": "https://stackoverflow.com/users/140803/blessed-geek"
    },
    "is_answered": false,
    "view_count": 82,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1719947587,
    "creation_date": 1714097183,
    "last_edit_date": 1714102097,
    "question_id": 78387899,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78387899/how-to-translate-amqpcomponent-xml-bean-to-java-bean-for-camel-with-spring-boot",
    "title": "How to translate AMQPComponent XML bean to Java bean for Camel with Spring Boot 3",
    "body": "<p>I have an old Camel 2 with the old Spring Framework 4 app. It has been working for many years. I am upgrading it to Spring Boot 3 and Camel 4.5.0.</p>\n<p>It has an amqp XML bean.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;alarmq&quot; class=&quot;org.apache.camel.component.amqp.AMQPComponent&quot;&gt;\n   &lt;constructor-arg value=&quot;${amqPoolConnFty}&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>A Camel route in the app references that AMQP component using the bean id <code>alarmq</code> in the endpoint</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;alarmq:queue:alarm-dispensary&quot;)\n .id(&quot;alarmeater&quot;)\n .to(&quot;direct:blahblah&quot;)\n</code></pre>\n<p><strong>1st question</strong></p>\n<ul>\n<li>Where is the Camel document that says you can use a bean id as component spec of the url of an endpoint?</li>\n<li>what is the pattern of an endpoint with a bean ref</li>\n</ul>\n<p>I would like the answer only for Java DSL. It is not helpful for me to know how to configure Camel in XML.</p>\n<p><strong>2nd question</strong></p>\n<p>I need to translate the AMQP XML bean to <code>@Bean</code> in Java configuration.</p>\n<p>I am thinking the Java bean should look like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;alarmq&quot;)\n@Inject\nAMQPComponent getAMQPComponent(JmsPooledConnectionFactory jmsPoolConnFty) {\n    AMQPComponent amqp = new AMQPComponent(jmsPoolConnFty);\n    amqp.setConcurrentConsumers(5);\n    return amqp;\n\n}\n</code></pre>\n<p>Will Camel recognize the <code>@Bean</code> name as it recognizes the XML bean id, so that I could use the bean name in the from endpoint, like the XML bean id is used?</p>\n<p>If not, how shall the AMQP component Java <code>@Bean</code> be structured?</p>\n<p>Answers should be applicable to Spring Boot 3 and Camel 4.5.0.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}