{
  "question": {
    "tags": [
      "java",
      "openssl",
      "rsa",
      "bouncycastle",
      "azure-keyvault"
    ],
    "owner": {
      "account_id": 9852873,
      "reputation": 53,
      "user_id": 7298379,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/96337729f3da9b829073523ad9f89939?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Sam",
      "link": "https://stackoverflow.com/users/7298379/sam"
    },
    "is_answered": false,
    "view_count": 350,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1728994462,
    "creation_date": 1704398421,
    "last_edit_date": 1704403890,
    "question_id": 77760923,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77760923/java-security-invalidkeyexception-unknown-version-3-bounty-castle",
    "title": "java.security.InvalidKeyException: unknown version: 3 - bounty castle",
    "body": "<p>I am getting the error as &quot;java.security.InvalidKeyException: unknown version: 3&quot; on generatePrivate method below in the code snippet. I am unable to find the root cause why it is causing this error. I retrieved the private key of the parent certificate using the azure SecretClient and then creating the PrivateKey object to pass it for signing the child certificate. Really not sure why generatePrivate method below is throwing an exception when the keySpec is passed that is retrieved from keyvault for parent cert. Not sure what am doing wrong here?</p>\n<pre><code>            var privateKeyBase64 = azureKeyVaultClient.getSecretClient().getSecret(certificateName).getValue();\n            byte[] privateKeyBytes = Base64.getDecoder().decode(privateKeyBase64);\n            var keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n            var privateKeyParent = KeyFactory.getInstance(&quot;RSA&quot;).generatePrivate(keySpec);\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}