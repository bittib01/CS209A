{
  "question": {
    "tags": [
      "java",
      "mybatis",
      "mybatis-plus"
    ],
    "owner": {
      "account_id": 21208230,
      "reputation": 1,
      "user_id": 15597407,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GixFxr3pVBnpma9dLWVN7RddXnYZ2bHA0rlL4I7=k-s256",
      "display_name": "dreamck",
      "link": "https://stackoverflow.com/users/15597407/dreamck"
    },
    "is_answered": false,
    "view_count": 68,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1724379554,
    "creation_date": 1724334081,
    "last_edit_date": 1724379554,
    "question_id": 78901881,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78901881/why-mybatis-updates-fail",
    "title": "Why Mybatis updates fail",
    "body": "<p>Here is the mapper method:</p>\n<p><code>int updateAnchorIndexByBookId(Map&lt;String, Object&gt; params);</code></p>\n<p>and here is the xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;update id=&quot;updateAnchorIndexByBookId&quot; parameterType=&quot;map&quot;&gt;\n        UPDATE ad_novel_chapter_info\n        SET update_time = #{updateTime},\n        is_free =\n        CASE\n        WHEN chapter_index &lt;![CDATA[ &lt; ]]&gt; #{anchorIndex} THEN 1\n        ELSE 0\n        END\n        WHERE book_id = #{bookId}\n    &lt;/update&gt;\n</code></pre>\n<p>and here is the actual sql:</p>\n<p><code>==&gt;  Preparing: UPDATE ad_novel_chapter_info SET update_time = ?, is_free = CASE WHEN chapter_index &lt; ? THEN 1 ELSE 0 END WHERE book_id = ? ==&gt; Parameters: 1724333706334(Long), 90(Integer), 9603(Long) &lt;==    Updates: 0 </code></p>\n<p><strong>but it doesn't work.(no rows are updated)</strong></p>\n<p>I try to run this sql in mysql, it works.\nBut it doesn't work in Mybatis.</p>\n<p><strong>What's wrong?</strong></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}