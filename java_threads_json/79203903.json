{
  "question": {
    "tags": [
      "java",
      "spring",
      "hibernate",
      "jpa"
    ],
    "owner": {
      "account_id": 103902,
      "reputation": 813,
      "user_id": 278060,
      "user_type": "registered",
      "accept_rate": 70,
      "profile_image": "https://www.gravatar.com/avatar/54053890f87a51435c535643f9f681d0?s=256&d=identicon&r=PG",
      "display_name": "Harkonnen",
      "link": "https://stackoverflow.com/users/278060/harkonnen"
    },
    "is_answered": false,
    "view_count": 93,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1732524368,
    "creation_date": 1732027937,
    "last_edit_date": 1732524059,
    "question_id": 79203903,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79203903/error-detached-entity-passed-to-persist-when-selecting-data-via-the-repository",
    "title": "Error &quot;detached entity passed to persist‚Äù when selecting data via the repository, I don&#39;t understand",
    "body": "<p>I'm having trouble updating an entity (Formation) in a ManyToMany relationship with another entity (Intervenant).</p>\n<p>My integration test fails because of the following error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached\nentity passed to persist: fr.foo.bar.model.Intervenant\n</code></pre>\n<p>The problem is that, according to the stacktrace, the exception is caught on a method that just retrieves data, so no call to <code>save()</code> is made. I don't understand why this error appears.</p>\n<p>Here is my test:</p>\n<pre><code>@BeforeEach\nvoid setUp() {\n    Intervenant newIntervenant = new Intervenant();\n    newIntervenant.setIdnum(&quot;IDNUM_NEW&quot;);\n    newIntervenant.setIdentite(&quot;New Intervenant&quot;);\n\n    Formation formation = new Formation();\n    formation.setLibelle(&quot;Sample Formation&quot;);\n    formation.setCodeApogee(&quot;APOGEE123&quot;);\n    formation.setCodeVet(&quot;VET789&quot;);\n    formation.setIntervenants(Set.of(newIntervenant));\n\n    formationDto = formationMapper.toDto(formation);\n}\n    \n@Test\n@Transactional\nvoid whenUpdateFormation_thenIntervenantsAreUpdated() throws Exception {\n    \n    FormationDto createdFormationDto = formationService.create(formationDto);\n\n    formationRepository.flush();\n\n    IntervenantDto newIntervenantDto = new IntervenantDto(null, &quot;New IDNUM&quot;, &quot;New Name&quot;);\n    createdFormationDto.intervenants().add(newIntervenantDto);\n\n    Intervenant existingIntervenant = new Intervenant();\n    existingIntervenant.setIdnum(&quot;IDNUM_EXISTING&quot;);\n    existingIntervenant.setIdentite(&quot;Existing Intervenant&quot;);\n    existingIntervenant = intervenantRepository.saveAndFlush(existingIntervenant);\n    \n    existingIntervenant = intervenantRepository.findById(existingIntervenant.getId()).orElseThrow();\n    createdFormationDto.intervenants().add(intervenantMapper.toDto(existingIntervenant));\n\n    FormationDto updatedFormationDto = formationService.update(createdFormationDto.id(), createdFormationDto); // detached entity passed to persist: fr.foo.bar.model.Intervenant\n    \n    [...]\n}\n</code></pre>\n<p>The exception occurs in the last line of the test, the one calling <code>update()</code></p>\n<p>Here is the <code>update()</code> method:</p>\n<pre><code>@Override\n@Transactional\npublic FormationDto update(Long id, FormationDto formationDto) throws Exception {\n    Formation formation = formationRepository\n            .findById(id)\n            .orElseThrow(() -&gt; new EntityNotFoundException(String.format(&quot;La formation %d n'existe pas&quot;, id)));\n\n    Set&lt;Intervenant&gt; updatedIntervenants = new HashSet&lt;&gt;();\n    for (IntervenantDto intervenantDto : formationDto.intervenants()) {\n        if (intervenantDto.id() == null) {\n            IntervenantDto createdDto = intervenantService.create(intervenantDto);\n            updatedIntervenants.add(intervenantService.toEntity(createdDto));\n        } else {\n            Intervenant existing = intervenantService.getEntity(intervenantDto.id());\n            updatedIntervenants.add(existing);\n        }\n    }\n    formation.setIntervenants(updatedIntervenants);\n\n    Collection&lt;FormationEtudiant&gt; existingEtudiants = formationEtudiantService.findAllByFormation(formation); // detached entity passed to persist: fr.foo.bar.model.Intervenant\n\n    [...]\n}\n</code></pre>\n<p>And the exception occurs when the <code>formationEtudiantService.findAllByFormation()</code> method is called, as shown below:</p>\n<pre><code>@Override\npublic List&lt;FormationEtudiant&gt; findAllByFormation(Formation formation) {\n\n    return formationEtudiantRepository.findAllByFormation(formation);\n}\n</code></pre>\n<p>And here is the repository:</p>\n<pre><code>public interface FormationEtudiantRepository extends JpaRepository&lt;FormationEtudiant, FormationEtudiantId&gt; {\n\n    List&lt;FormationEtudiant&gt; findAllByFormation(Formation formation);\n}\n</code></pre>\n<p>Here's an extract from the Formation entity:</p>\n<pre><code>@Entity(name = &quot;FormationEntity&quot;)\n@Table(name = &quot;formation&quot;)\npublic class Formation implements Identifiable&lt;Long&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;INT UNSIGNED not null&quot;)\n    private Long id;\n\n    @Column(name = &quot;libelle&quot;, length = 100)\n    private String libelle;\n\n    @Column(name = &quot;code_apogee&quot;, length = 100)\n    private String codeApogee;\n\n    @Column(name = &quot;code_vet&quot;, length = 100)\n    private String codeVet;\n\n    @ManyToMany(cascade = {CascadeType.MERGE, CascadeType.PERSIST})\n    @JoinTable(name = &quot;formation_intervenant&quot;,\n            joinColumns = @JoinColumn(name = &quot;id_formation&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;id_intervenant&quot;))\n    private Set&lt;Intervenant&gt; intervenants = new LinkedHashSet&lt;&gt;();\n    \n    public Set&lt;Intervenant&gt; getIntervenants() {\n        return intervenants;\n    }\n\n    public void setIntervenants(Set&lt;Intervenant&gt; intervenants) {\n        this.intervenants = intervenants;\n    }\n}\n</code></pre>\n<p>And finally, the Intervenant entity:</p>\n<pre><code>@Entity(name = &quot;IntervenantEntity&quot;)\n@Table(name = &quot;intervenant&quot;)\npublic class Intervenant implements Identifiable&lt;Long&gt; {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;INT UNSIGNED not null&quot;)\n    private Long id;\n\n    @Column(name = &quot;idnum&quot;, nullable = false, length = 50)\n    private String idnum;\n\n    @Column(name = &quot;identite&quot;, length = 100)\n    private String identite;\n\n    @Override\n    public Long getId() {\n        return id;\n    }\n\n    @ManyToMany(mappedBy = &quot;intervenants&quot;)\n    private Set&lt;Formation&gt; formations = new LinkedHashSet&lt;&gt;();\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getIdnum() {\n        return idnum;\n    }\n\n    public void setIdnum(String idnum) {\n        this.idnum = idnum;\n    }\n\n    public String getIdentite() {\n        return identite;\n    }\n\n    public void setIdentite(String identite) {\n        this.identite = identite;\n    }\n\n    public Set&lt;Formation&gt; getFormations() {\n        return formations;\n    }\n\n    public void setFormations(Set&lt;Formation&gt; formations) {\n        this.formations = formations;\n    }\n}\n</code></pre>\n<p>It really drives me crazy... Can you help me ?</p>\n<p>Edit: here's the stacktrace</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: fr.foo.bar.model.Intervenant\n\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:290)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy167.findAllByFormation(Unknown Source)\n    at fr.foo.bar.services.application.FormationEtudiantServiceImpl.findAllByFormation(FormationEtudiantServiceImpl.java:26)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:699)\n    at fr.foo.bar.services.application.FormationEtudiantServiceImpl$$SpringCGLIB$$0.findAllByFormation(&lt;generated&gt;)\n    at fr.foo.bar.services.application.FormationServiceImpl.update(FormationServiceImpl.java:226)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at fr.foo.bar.services.application.FormationServiceImpl$$SpringCGLIB$$0.update(&lt;generated&gt;)\n    at fr.foo.bar.FormationControllerIntegrationTests.whenUpdateFormation_thenIntervenantsAreUpdated(FormationControllerIntegrationTests.java:138)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.hibernate.PersistentObjectException: detached entity passed to persist: fr.foo.bar.model.Intervenant\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:121)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.persistOnFlush(SessionImpl.java:799)\n    at org.hibernate.engine.spi.CascadingActions$8.cascade(CascadingActions.java:342)\n    at org.hibernate.engine.spi.CascadingActions$8.cascade(CascadingActions.java:332)\n    at org.hibernate.engine.internal.Cascade.cascadeToOne(Cascade.java:511)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:432)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218)\n    at org.hibernate.engine.internal.Cascade.cascadeCollectionElements(Cascade.java:545)\n    at org.hibernate.engine.internal.Cascade.cascadeCollection(Cascade.java:475)\n    at org.hibernate.engine.internal.Cascade.cascadeAssociation(Cascade.java:435)\n    at org.hibernate.engine.internal.Cascade.cascadeProperty(Cascade.java:218)\n    at org.hibernate.engine.internal.Cascade.cascade(Cascade.java:151)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.cascadeOnFlush(AbstractFlushingEventListener.java:155)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.prepareEntityFlushes(AbstractFlushingEventListener.java:145)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:79)\n    at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:48)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1385)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:100)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:305)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:246)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:546)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1032)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 96 more\n</code></pre>\n<p>edit: here is the code called from <code>intervenantService.toEntity()</code></p>\n<pre><code>    @Override\n    public Intervenant toEntity(IntervenantDto intervenantDto) {\n    if ( intervenantDto == null ) {\n        return null;\n    }\n\n    Intervenant intervenant = new Intervenant();\n\n    intervenant.setId( intervenantDto.id() );\n    intervenant.setIdnum( intervenantDto.idnum() );\n    intervenant.setIdentite( intervenantDto.identite() );\n\n    return intervenant;\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}