{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "docker"
    ],
    "owner": {
      "account_id": 8146380,
      "reputation": 645,
      "user_id": 6134928,
      "user_type": "registered",
      "accept_rate": 25,
      "profile_image": "https://www.gravatar.com/avatar/9f8a7fc955c961532e28b7d6ea38b46d?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "OSGI Java",
      "link": "https://stackoverflow.com/users/6134928/osgi-java"
    },
    "is_answered": true,
    "view_count": 92,
    "answer_count": 4,
    "score": 0,
    "last_activity_date": 1766182184,
    "creation_date": 1764016434,
    "last_edit_date": 1766088025,
    "question_id": 79829077,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79829077/what-is-the-best-practice-for-creating-a-docker-image-for-spring-boot-applicatio",
    "title": "What is the best practice for creating a Docker image for Spring Boot applications using layers?",
    "body": "<p>I am aware of two approaches. Below are <code>Dockerfile</code> snippets.</p>\n<pre class=\"lang-none prettyprint-override\"><code># This approach generates and runs application classes stored in the `extracted_layers/application/BOOT-INF/classes/` folder. \n.\n.\n.\nRUN java -Djarmode=layertools -jar app.jar extract --destination extracted_layers\n.\n.\n.\nENTRYPOINT [&quot;java&quot;, &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:MaxRAMPercentage=75.0&quot;, &quot;-XX:+UseG1GC&quot;, &quot;org.springframework.boot.loader.launch.JarLauncher&quot;]\n</code></pre>\n<pre><code># This approach generates and runs the application jar stored in the `extracted_layers/application/` folder\n.\n.\n.\nRUN java -Djarmode=tools -jar app.jar extract --layers --destination extracted_layers\n.\n.\n.\nENTRYPOINT [&quot;java&quot;, &quot;-XX:+UseContainerSupport&quot;, &quot;-XX:MaxRAMPercentage=75.0&quot;, &quot;-XX:+UseG1GC&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n\n</code></pre>\n<p>Notice the difference in the tool used specified by <code>-Djarmode</code> .</p>\n<p>The documentation uses the <code>jar</code> approach: <a href=\"https://docs.spring.io/spring-boot/3.5/reference/packaging/container-images/dockerfiles.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/3.5/reference/packaging/container-images/dockerfiles.html</a></p>\n<p>I would think that using the extracted classes provides a faster startup.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}