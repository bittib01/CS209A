{
  "question": {
    "tags": [
      "java",
      "selenium-webdriver"
    ],
    "owner": {
      "account_id": 10465696,
      "reputation": 11,
      "user_id": 7715184,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/69e7363e1941a2734162ee7675ddee33?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "MarkMck",
      "link": "https://stackoverflow.com/users/7715184/markmck"
    },
    "is_answered": false,
    "view_count": 129,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1742136377,
    "creation_date": 1740043405,
    "last_edit_date": 1742136377,
    "question_id": 79453945,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79453945/test-framework-has-stopped-working-in-headless-mode-on-mac",
    "title": "Test Framework Has Stopped Working In Headless Mode (On Mac)",
    "body": "<p>I have an automation framework written using selenium, maven and java to test my company portal.</p>\n<p>In the last week or so Im having a major issue with headless execution. My tests do not pass on any OS (Mac, Linux and Windows) when executing in headless. When I execute in non-headless all the tests pass. The second I put it into headless it breaks which I find weird.</p>\n<p>The issue mainly seems to be around dropdowns and data not loading or being visible despite putting in waits and waitForElementVisible lines.</p>\n<pre><code>java.lang.AssertionError: Element not clickable or not visible org.openqa.selenium.ElementClickInterceptedException: element click intercepted: Element &lt;md-option value=&quot;LOW&quot; tabindex=&quot;0&quot; role=&quot;option&quot; id=&quot;select_option_84&quot;&gt;...&lt;/md-option&gt; is not clickable at point (458, 380). Other element would receive the click: &lt;md-backdrop class=&quot;md-select-backdrop md-click-catcher ng-scope&quot;&gt;&lt;/md-backdrop&gt;\n</code></pre>\n<p>My chrome options configuration is:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\n            options.setExperimentalOption(&quot;prefs&quot;, chromePrefs);\n            options.addArguments(&quot;--start-maximized&quot;);\n            options.addArguments(&quot;download.default_directory=&quot; + downloadDirPath);\n            options.addArguments(&quot;--test-type&quot;);\n            options.addArguments(&quot;--ignore-certificate-errors&quot;);\n            options.addArguments(&quot;--disable-extensions&quot;);\n            options.addArguments(&quot;--disable-infobars&quot;);\n            options.addArguments(&quot;--remote-allow-origins=*&quot;);\n            options.addArguments(&quot;--disable-popup-blocking&quot;);\n            options.addArguments(&quot;--enable-WebGL&quot;);\n            options.addArguments(&quot;--ignore-gpu-blocklist&quot;);\n            options.addArguments(&quot;--ignore-gpu-blacklist&quot;);\n            options.addArguments(&quot;--headless=new&quot;);\n            options.addArguments(&quot;--no-sandbox&quot;);\n            options.addArguments(&quot;--disable-features=EnableEphemeralApps&quot;); // Added argument\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n            options.addArguments(&quot;--disable-software-rasterizer&quot;);\n            options.addArguments(&quot;--use-webgl=desktop&quot;);\n            options.addArguments(&quot;--disable-search-engine-choice-screen&quot;);\n            options.addArguments(&quot;--window-size=1920,1080&quot;);\n            options.addArguments(&quot;--allow-running-insecure-content&quot;);\n            options.addArguments(&quot;--disable-renderer-accessibility&quot;);\n            driver = new ChromeDriver(options);\n            driver.get(url);\n</code></pre>\n<p>Im using chromeversion 133.0.6943.127 and latest selenium version from maven (4.28.1)</p>\n<p>Iv tried all of ChatGPTs fixes and still cannot get it working so looking for anyone who has experienced something like this before.</p>\n<p>My tests run overnight on headless execution on a jenkins linux server so its essential I get this fixed as Iv currently had to stop them.</p>\n<p>Thanks in advance.</p>\n<p><strong>UPDATE: After further investigation it looks like the headless issue is only occurring on Mac OS. I can see the expected System.out.prints on my jenkins Log for Linux and Windows intellij in headless.\nThe tests fail on Mac OS Headless only but pass in headfull mode</strong></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}