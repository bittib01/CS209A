{
  "question": {
    "tags": [
      "python",
      "java",
      "windows",
      "batch-file",
      "path"
    ],
    "owner": {
      "account_id": 4778339,
      "reputation": 127,
      "user_id": 3860846,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/d40d05d8e4533f0c33c398b1d4f7e4ee?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Bryany",
      "link": "https://stackoverflow.com/users/3860846/bryany"
    },
    "is_answered": true,
    "view_count": 111,
    "accepted_answer_id": 78669040,
    "answer_count": 1,
    "score": -3,
    "last_activity_date": 1719340606,
    "creation_date": 1718916175,
    "last_edit_date": 1718985210,
    "question_id": 78649501,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78649501/bat-script-cant-find-javaw-when-called-from-python-os-command",
    "title": ".bat script can&#39;t find javaw when called from Python os.command",
    "body": "<h3>The Basic Problem</h3>\n<p>I have a batch script that opens a Java .jar file. When I double click the .bat file, it opens the .jar fine.\nThe .bat code:</p>\n<pre><code>start javaw -Djava.library.path=&quot;%~dp0bin&quot; -jar bin\\SoarJavaDebugger.jar %1 %2 %3 %4 %5\n</code></pre>\n<p>Now I want to run this .bat file from Python. When I use <code>os.system(BAT_PATH)</code>, I get a popup error window that says,</p>\n<blockquote>\n<p>&quot;Windows cannot find 'javaw'.&quot;</p>\n</blockquote>\n<p>and a terminal message to the same effect.</p>\n<p>(I want to run this script from Python so I can run the Jar file using some other setup work that the .bat file performs. I'm only showing the relevant portion of the .bat file here though. I tested removing everything else from the .bat file and it does not affect this problem.)</p>\n<p>EDIT: Why use the .bat file at all? I did not write this .bat file; it is tied to a software package I am invoking with my Python script, and I would rather not duplicate everything it does in my script if possible nor bypass the invoked software's normal chain of processing.</p>\n<h3>The Twist</h3>\n<p>Normally I'd think this error meant that that my Java bin folder was not in my <code>%PATH%</code> environment variable, but I double checked that it is, both in my Python environment (using <code>echo $env:PATH</code> in my VSCode terminal) and also in the .bat file environment (using <code>echo %PATH%</code> right before <code>start javaw</code>, and also by using <code>os.system(&quot;echo %PATH%&quot;)</code> in my Python script right before calling <code>os.system(BAT_PATH)</code>). The Java bin folder path prints out successfully in each case.</p>\n<p>My java path is <code>C:\\\\Program Files\\\\Eclipse Adoptium\\\\jdk-21.0.2.13-hotspot\\\\bin</code>, and I double checked that javaw.exe is there.</p>\n<p>I've tried using the <code>/I</code> option on the <code>start</code> command, without any difference.\nI tried replacing <code>os.command(BAT_PATH)</code> with <code>subprocess.Popen(BAT_PATH, shell=False)</code>, without any difference.</p>\n<p>EDIT: Using <code>where javaw</code> returns <code>INFO: Could not find files for the given pattern(s).</code></p>\n<p>And spelling out <code>javaw.exe</code> with the extension makes no difference in the above.</p>\n<p>I am using a work Windows machine that comes with an enterprise security software setup that I can't tweak. (I don't have an admin login.) Could the security system prevent my computer from using <code>PATH</code> to find <code>javaw</code>, even though it has the path in <code>PATH</code>?</p>\n<p>I don't want to use a CALL command that hardcodes the javaw.exe path, because I want this script to work on multiple machines where the Java path might vary.</p>\n<p>Again, double clicking the .bat file works fine. It just fails when trying to start it from Python.</p>\n<p>Why does it behave this way?</p>\n<h3>EDIT: Partial solution</h3>\n<p>I am able to get the file to run by replacing my .bat line with the following:</p>\n<pre><code>start %~dp0bin\\SoarJavaDebugger.jar %1 %2 %3 %4 %5\n</code></pre>\n<p>But I would rather keep the <code>-Djava.library.path</code> option to ensure that everything referenced by the jar runs properly on various systems.</p>\n<p>And I would also just like to know why I get the original error.</p>\n<p>Thanks!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}