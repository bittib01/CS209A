{
  "question": {
    "tags": [
      "java",
      "hibernate",
      "quarkus",
      "database-migration",
      "liquibase"
    ],
    "owner": {
      "account_id": 25578306,
      "reputation": 3,
      "user_id": 19357329,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/ae910e7c7913397263fe6e508b9c8d54?s=256&d=identicon&r=PG",
      "display_name": "R&#233;gis Martin",
      "link": "https://stackoverflow.com/users/19357329/r%c3%a9gis-martin"
    },
    "is_answered": true,
    "view_count": 1358,
    "accepted_answer_id": 79298955,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1734760819,
    "creation_date": 1721133376,
    "last_edit_date": 1721133908,
    "question_id": 78754614,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78754614/how-to-generate-liquibase-changelogs-with-quarkus-using-the-liquibase-hibernate",
    "title": "How to generate Liquibase changelogs with Quarkus using the Liquibase Hibernate extension?",
    "body": "<p>I'm working on a Java application using Quarkus and I'm trying to generate Liquibase changelog files from my JPA entities. Previously, I have successfully used the <a href=\"https://github.com/liquibase/liquibase-hibernate\" rel=\"nofollow noreferrer\">Liquibase Hibernate extension</a> with Kotlin and Spring Boot to achieve this. Here's a brief overview of what I did with Spring Boot:</p>\n<ol>\n<li>Added Liquibase Core and the Liquibase Hibernate 6 extension to my project.</li>\n<li>Configured Liquibase in my build.gradle.kts (URL, db user and password, ...).</li>\n<li>Used the <em>diff</em> command to generate a new changelog file containing the diff between my entities and the referenced database.</li>\n</ol>\n<p>How can I achieve similar functionality in a Quarkus application?</p>\n<p>Here is what I have done so far in my Quarkus project:</p>\n<ol>\n<li><p>Project Setup:</p>\n<ul>\n<li>Created a new Quarkus project.</li>\n<li>Added the following dependencies in pom.xml:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n  ...\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-hibernate-orm-panache&lt;/artifactId&gt;\n    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-liquibase&lt;/artifactId&gt;\n    &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-hibernate6&lt;/artifactId&gt;\n    &lt;version&gt;4.28.0&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<ul>\n<li>Added and configured the Liquibase Maven plugin:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n  ...\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;4.28.0&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;driver&gt;oracle.jdbc.driver.OracleDriver&lt;/driver&gt;\n      &lt;url&gt;jdbc:oracle:thin:@//localhost:1521/ORCLCDB&lt;/url&gt;\n      &lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.yaml&lt;/changeLogFile&gt;\n      &lt;username&gt;foo&lt;/username&gt;\n      &lt;password&gt;bar&lt;/password&gt;\n      &lt;referenceUrl&gt;hibernate:spring:com.example.myapplication?dialect=org.hibernate.dialect.PostgreSQLDialect&amp;&lt;/referenceUrl&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p><strong>Note</strong>: I know I am using the Hibernate Spring connection URL, but I don't know which other Hibernate URL I should use.</p>\n</li>\n<li><p>Liquibase Configuration:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>quarkus.datasource.db-kind=oracle\nquarkus.datasource.jdbc.url=${DB_HOST:jdbc:oracle:thin:@//localhost:1521/ORCLCDB}\nquarkus.datasource.username=${DB_USER:foo}\nquarkus.datasource.password=${DB_PASSWORD:bar}\nquarkus.hibernate-orm.database.generation=none\nquarkus.liquibase.migrate-at-start=true\n</code></pre>\n</li>\n<li><p>Defined my JPA entities. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.foo.repository;\n\n...\n\n@Entity\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n\n    // Getters and setters\n}\n</code></pre>\n</li>\n</ol>\n<p>However, I haven't found a way to generate the Liquibase changelog files from my JPA entities within the Quarkus ecosystem, like I did with Spring Boot.</p>\n<p>Is there a way to generate Liquibase changelog files from JPA entities in Quarkus using the Liquibase Hibernate extension, or is there an alternative approach I should consider?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}