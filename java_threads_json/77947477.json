{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "rest",
      "reactive",
      "webtestclient"
    ],
    "owner": {
      "account_id": 954786,
      "reputation": 1260,
      "user_id": 980296,
      "user_type": "registered",
      "accept_rate": 66,
      "profile_image": "https://www.gravatar.com/avatar/b76d6ebca860afd2e0ad46a17448c6a5?s=256&d=identicon&r=PG",
      "display_name": "Diferdin",
      "link": "https://stackoverflow.com/users/980296/diferdin"
    },
    "is_answered": false,
    "view_count": 624,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1722591232,
    "creation_date": 1707220252,
    "last_edit_date": 1722591232,
    "question_id": 77947477,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77947477/webtestclient-returns-404-instead-of-200",
    "title": "WebTestClient returns 404 instead of 200",
    "body": "<p>I am testing the REST layer of my reactive SpringBoot (3) app and using Spring's WebTestClient:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = ReferenceDataApplication.class)\npublic class RefDataResourceTest {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @BeforeEach\n    void setup() {\n        webTestClient = WebTestClient.bindToController(new RefDataResource()).build();\n    }\n\n    @Test\n    public void shouldGetReferenceDataByTypeCode() {\n        webTestClient\n                .get()\n                .uri(&quot;/api/projects/refData/findByCode&quot;)\n                .exchange()\n                .expectStatus().isOk();\n    }\n}\n</code></pre>\n<p>I defined /api/projects/ as base-path in Spring, and my resource implements the delegate generated by OpenApi generation of the yaml contract:</p>\n<pre><code>@Component\npublic class RefDataResource implements RefDataApiDelegate {\n\n    @Override\n    public Mono&lt;ResponseEntity&lt;Flux&lt;RefDataElementDTO&gt;&gt;&gt; findDataByCode(String code,\n                                                                              ServerWebExchange exchange) {\n\n        return Mono.just(ResponseEntity.ok().build());\n    }\n\n}\n</code></pre>\n<p>When I run the SpringBoot application, I can use Postman to hit the endpoint and I can get the expected 200, however when I use the WebTestClient above I keep getting 404. What am I doing wrong here?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}