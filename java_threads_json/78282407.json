{
  "question": {
    "tags": [
      "java",
      "android",
      "cordova",
      "android-14",
      "google-pixel"
    ],
    "owner": {
      "account_id": 999815,
      "reputation": 429,
      "user_id": 1014953,
      "user_type": "registered",
      "accept_rate": 22,
      "profile_image": "https://www.gravatar.com/avatar/45dd474ab410e4892da7bb7f9e972ca4?s=256&d=identicon&r=PG",
      "display_name": "Jon Schlossberg",
      "link": "https://stackoverflow.com/users/1014953/jon-schlossberg"
    },
    "is_answered": false,
    "view_count": 981,
    "answer_count": 3,
    "score": 6,
    "last_activity_date": 1716551234,
    "creation_date": 1712352311,
    "question_id": 78282407,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78282407/app-now-crashes-on-pixel-devices-running-android-14-in-timepickerdialog",
    "title": "App now crashes on Pixel devices running Android 14 in TimePickerDialog",
    "body": "<p>My app has suddenly started crashing using the TimePickerDialog API.  This is only happening on Google Pixel 6, 7, and 8's running Android 14.  I see there was a security update March 4, 2024 and the crashes started on March 7, 2024 - maybe there's a connection?  No other Android 14 device is affected and other Android versions are fine!</p>\n<p>I have a Cordova app that uses the plugin <a href=\"https://github.com/VitaliiBlagodir/cordova-plugin-datepicker\" rel=\"noreferrer\">https://github.com/VitaliiBlagodir/cordova-plugin-datepicker</a>.</p>\n<p>Crashes occur when the user invokes the date and time picker, chooses the date (which is fine), but anything the user does with the time picker (hits the + or -, types in hour or minute and taps &quot;next&quot;) causes a crash.</p>\n<p>I looked in the Google issues tracker and don't see anything relevant: <a href=\"https://issuetracker.google.com/issues?q=status:open%20timepickerdialog\" rel=\"noreferrer\">https://issuetracker.google.com/issues?q=status:open%20timepickerdialog</a></p>\n<p>Here is a snippet of the code the plugin is using (written a few years ago):</p>\n<pre><code> final TimePickerDialog timeDialog = new TimePickerDialog(currentCtx, theme, timeSetListener, jsonDate.hour,\n        jsonDate.minutes, jsonDate.is24Hour) {\n        public void onTimeChanged(TimePicker view, int hourOfDay, int minute) {\n            timePicker = view;\n            timePickerHour = hourOfDay;\n            timePickerMinute = minute;\n        }\n    };\n</code></pre>\n<p>Here is the crash log</p>\n<pre><code> Exception java.lang.NullPointerException: Attempt to invoke virtual method 'boolean android.widget.EditText.hasFocus()' on a null object reference\n   at android.widget.TimePickerSpinnerDelegate.updateInputState (TimePickerSpinnerDelegate.java:480)\n   at android.widget.TimePickerSpinnerDelegate.-$$Nest$mupdateInputState\n   at android.widget.TimePickerSpinnerDelegate$2.onValueChange (TimePickerSpinnerDelegate.java:119)\n   at android.widget.NumberPicker.notifyChange (NumberPicker.java:2080)\n   at android.widget.NumberPicker.setValueInternal (NumberPicker.java:1850)\n   at android.widget.NumberPicker.validateInputTextView (NumberPicker.java:2030)\n   at android.widget.NumberPicker.-$$Nest$mvalidateInputTextView\n   at android.widget.NumberPicker$3.onFocusChange (NumberPicker.java:769)\n   at android.view.View.onFocusChanged (View.java:8411)\n   at android.widget.TextView.onFocusChanged (TextView.java:12813)\n   at android.view.View.clearFocusInternal (View.java:8241)\n   at android.view.View.clearFocus (View.java:8220)\n   at android.view.ViewGroup.clearFocus (ViewGroup.java:1196)\n   at android.view.ViewGroup.clearFocus (ViewGroup.java:1196)\n   at android.view.ViewGroup.clearFocus (ViewGroup.java:1196)\n   at android.view.ViewGroup.clearFocus (ViewGroup.java:1196)\n   at android.app.TimePickerDialog$1.onClick (TimePickerDialog.java:159)\n   at android.view.View.performClick (View.java:7729)\n   at android.view.View.performClickInternal (View.java:7706)\n   at android.view.View.-$$Nest$mperformClickInternal\n   at android.view.View$PerformClick.run (View.java:30484)\n   at android.os.Handler.handleCallback (Handler.java:959)\n   at android.os.Handler.dispatchMessage (Handler.java:100)\n   at android.os.Looper.loopOnce (Looper.java:232)\n   at android.os.Looper.loop (Looper.java:317)\n   at android.app.ActivityThread.main (ActivityThread.java:8501)\n   at java.lang.reflect.Method.invoke\n   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:552)\n   at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:878)\n</code></pre>\n<p>Any help would be most appreciated!</p>\n<p>Thanks,\n- Jon</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}