{
  "question": {
    "tags": [
      "java",
      "kotlin",
      "connection-pooling",
      "jedis"
    ],
    "owner": {
      "account_id": 1066576,
      "reputation": 629,
      "user_id": 1066983,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/Vk3pP.jpg?s=256",
      "display_name": "SerhiiH",
      "link": "https://stackoverflow.com/users/1066983/serhiih"
    },
    "is_answered": true,
    "view_count": 202,
    "answer_count": 1,
    "score": 2,
    "last_activity_date": 1716309422,
    "creation_date": 1706668660,
    "last_edit_date": 1706769767,
    "question_id": 77910521,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77910521/return-a-connection-to-a-connection-pool-in-jediscluster",
    "title": "Return a connection to a connection pool in JedisCluster",
    "body": "<p>In my code I need to get a connection from  <code>JedisCluster</code> instance for various reasons. Other operations are using <code>jedisCluster</code> instance to send commands:</p>\n<pre><code>val poolConfig = GenericObjectPoolConfig&lt;Connection&gt;().apply {\n   maxTotal = 128\n   maxIdle = 32\n   minIdle = 8\n   setMaxWait(Duration.ofMillis(1000))\n   blockWhenExhausted = true\n}\n...\nval jedisCluster = JedisCluster(HostAndPort(host, port), jedisConfigBuilder.build(), maxAttempts, poolConfig)\n...\nval connection = jedisCluster.getConnectionFromSlot(slotNumber)\n// run operations\n// Now I want to release that connection, but not close it!\n...\n\n</code></pre>\n<p>However the connection is not getting back to the pool and unavailable for picking again. Closing this connection is not a good option, because I still want to reuse it from other places. <br />\nI specifically want to return it to the pool.<br />\nAny Ideas how to do it in a elegant manner?<br />\nI provided kotlin code, but any example in Java is also appreciated!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}