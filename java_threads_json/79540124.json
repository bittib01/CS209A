{
  "question": {
    "tags": [
      "java",
      "findbugs",
      "micrometer",
      "spring-micrometer",
      "spotbugs"
    ],
    "owner": {
      "account_id": 14482834,
      "reputation": 5478,
      "user_id": 10461625,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/fgo5D.jpg?s=256",
      "display_name": "PatPanda",
      "link": "https://stackoverflow.com/users/10461625/patpanda"
    },
    "is_answered": true,
    "view_count": 149,
    "closed_date": 1761991567,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1761895146,
    "creation_date": 1743113054,
    "question_id": 79540124,
    "link": "https://stackoverflow.com/questions/79540124/spotbugs-java-ei-expose-rep2-may-expose-internal-representation-by-storing-an",
    "closed_reason": "Needs details or clarity",
    "title": "Spotbugs + Java: EI_EXPOSE_REP2 may expose internal representation by storing an externally mutable object into MyService.observationRegistry",
    "body": "<p>Small question regarding a Spotbugs finding I am having a hard time fixing.</p>\n<p>In this super simple class:</p>\n<pre><code>import io.micrometer.observation.ObservationRegistry;\n\n@Service\npublic final class MyService {\n\n  private final ObservationRegistry observationRegistry;\n\n  public MyService(final ObservationRegistry registry) {\n     this.observationRegistry = registry;\n    }\n\n</code></pre>\n<p>I am getting flagged on the observationRegistry with</p>\n<blockquote>\n<p><em>may expose internal representation by storing an externally mutable object into MyService.observationRegistry</em></p>\n</blockquote>\n<p>I tried invoking a possible <code>clone()</code> method on the registry, but no luck.</p>\n<p>How do I fix this?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}