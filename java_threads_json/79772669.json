{
  "question": {
    "tags": [
      "java",
      "java-stream"
    ],
    "owner": {
      "account_id": 431428,
      "reputation": 1196,
      "user_id": 815455,
      "user_type": "registered",
      "accept_rate": 79,
      "profile_image": "https://www.gravatar.com/avatar/cbf701232dd4c3abcf5cddc5df2f8239?s=256&d=identicon&r=PG",
      "display_name": "Antje Janosch",
      "link": "https://stackoverflow.com/users/815455/antje-janosch"
    },
    "is_answered": true,
    "view_count": 353,
    "accepted_answer_id": 79772708,
    "answer_count": 6,
    "score": -1,
    "last_activity_date": 1760367585,
    "creation_date": 1758634577,
    "last_edit_date": 1758638271,
    "question_id": 79772669,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79772669/how-to-simplify-a-complex-filter-of-an-optionals-stream",
    "title": "How to simplify a complex filter of an optionals stream",
    "body": "<p>I'm new to <code>Optional</code> in Java and would like to implement the following logic.</p>\n<p>Input is a list of strings (it's not empty).\nIf the list contains <code>chocolate</code>, I want this item. Otherwise, I want the first item matching the pattern <code>.*ap.*</code>. If I still don't get an item, I want the first item of the list.</p>\n<p>I already set up this piece of code which does the job but I want to know whether this code can be simplified:</p>\n<pre><code>List&lt;String&gt; testList = Arrays.asList(&quot;banana&quot;, &quot;apple&quot;, &quot;cheese&quot;, &quot;chocolate&quot;);\n\nString food = testList.stream()\n                      .filter(str -&gt; str.equals(&quot;chocolate&quot;))\n                      .findFirst()\n                      .orElseGet(() -&gt; testList.stream()\n                                               .filter(str -&gt; str.matches(&quot;.*ap.*&quot;))\n                                               .findFirst()\n                                               .orElseGet(() -&gt; testList.get(0)));\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}