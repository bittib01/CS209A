{
  "question": {
    "tags": [
      "java",
      "arrays",
      "data-structures"
    ],
    "owner": {
      "account_id": 29125297,
      "reputation": 1,
      "user_id": 22311747,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtf5u87-dIazx8dbmEqwFAoyIM7_FqEgZ25BLOxpQs49=k-s256",
      "display_name": "Mihir Vijay",
      "link": "https://stackoverflow.com/users/22311747/mihir-vijay"
    },
    "is_answered": false,
    "view_count": 61,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1728761724,
    "creation_date": 1718297351,
    "question_id": 78619213,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78619213/java-how-to-optimize-the-maximum-value-of-iai-after-rotating-the-array",
    "title": "Java: How to optimize the maximum value of i*a[i] after rotating the array?",
    "body": "<p>I am trying to solve a problem where I need to find the maximum value of the sum of i*a[i] for all 0 &lt;= i &lt;= n-1, where a[i] is the element at index i in the array. The only allowed operation is to rotate the array (clockwise or counterclockwise) any number of times.</p>\n<p>The code works fine for arrays with size up to 3000, but it fails for larger arrays. Out of 1115 test cases, only 1110 pass successfully.I believe the problem might be with how the current sum is being calculated in each iteration, especially for large arrays.</p>\n<pre><code>class Solution {\n    long max_sum(int a[], int n) {\n        long sum=0;\n        long sum1=0;\n        for(int i=0;i&lt;n;i++){\n            sum=sum+a[i];\n            sum1=sum1+(a[i]*i);\n        }\n        long sumCurr=sum1;\n        long sumMax=sum1;\n        \n        for(int i=n-1;i&gt;=0;i--){\n            sumCurr = sumCurr-(n*a[i])+sum;\n            sum1=sumCurr;\n            if(sumCurr&gt;sumMax){\n                sumMax=sumCurr;\n            }\n        }\n        return sumMax;\n    }\n}\n</code></pre>\n<p>I also tried modifying the loop like this:</p>\n<pre><code>for (int i = 1; i &lt; n; i++) {\n    sumCurr = sumCurr + sum - n * a[n - i];\n    sum1 = sumCurr;\n    if (sumCurr &gt; sumMax) {\n        sumMax = sumCurr;\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}