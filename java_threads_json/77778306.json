{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "maven",
      "spring-native"
    ],
    "owner": {
      "account_id": 4597208,
      "reputation": 53493,
      "user_id": 3728901,
      "user_type": "registered",
      "accept_rate": 58,
      "profile_image": "https://www.gravatar.com/avatar/8621a1f0563a46ea809098b960d7923f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Vy Do",
      "link": "https://stackoverflow.com/users/3728901/vy-do"
    },
    "is_answered": true,
    "view_count": 1302,
    "accepted_answer_id": 77778553,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1737511533,
    "creation_date": 1704705593,
    "last_edit_date": 1737511533,
    "question_id": 77778306,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77778306/org-apache-commons-logging-logfactory-was-unintentionally-initialized-at-build-t",
    "title": "org.apache.commons.logging.LogFactory was unintentionally initialized at build time",
    "body": "<p>I am using GraalVM 21, JDK 21, Ubuntu 22.04 LTS</p>\n<pre><code># On Ubuntu 22.04 Operating system (WSL 2)\nchmod +x mvnw \n./mvnw -Pnative spring-boot:build-image\n</code></pre>\n<p>Log</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[INFO]     [creator]      - '-H:+StaticExecutableWithDynamicLibC' (origin(s): command line)\n[INFO]     [creator]      - '-H:ResourceConfigurationResources' (origin(s): 'META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-core/native-image.properties' in 'file:///workspace/BOOT-INF/lib/tomcat-embed-core-10.1.17.jar', 'META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-websocket/native-image.properties' in 'file:///workspace/BOOT-INF/lib/tomcat-embed-websocket-10.1.17.jar', 'META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/native-image.properties' in 'file:///workspace/BOOT-INF/lib/tomcat-embed-el-10.1.17.jar')\n[INFO]     [creator]      - '-H:ReflectionConfigurationResources' (origin(s): 'META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-core/native-image.properties' in 'file:///workspace/BOOT-INF/lib/tomcat-embed-core-10.1.17.jar', 'META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-websocket/native-image.properties' in 'file:///workspace/BOOT-INF/lib/tomcat-embed-websocket-10.1.17.jar', 'META-INF/native-image/org.apache.tomcat.embed/tomcat-embed-el/native-image.properties' in 'file:///workspace/BOOT-INF/lib/tomcat-embed-el-10.1.17.jar')\n[INFO]     [creator]     --------------------------------------------------------------------------------\n[INFO]     [creator]     Build resources:\n[INFO]     [creator]      - 8.49GB of memory (68.5% of 12.40GB system memory, determined at start)\n[INFO]     [creator]      - 4 thread(s) (100.0% of 4 available processor(s), determined at start)\n[INFO]     [creator]     Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n[INFO]     [creator]     Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts\n[INFO]     [creator]     SLF4J: No SLF4J providers were found.\n[INFO]     [creator]     SLF4J: Defaulting to no-operation (NOP) logger implementation\n[INFO]     [creator]     SLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\n[INFO]     [creator]     [2/8] Performing analysis...  []                                (58.2s @ 1.13GB)\n[INFO]     [creator]        10,656 reachable types   (85.8% of   12,415 total)\n[INFO]     [creator]        16,663 reachable fields  (61.0% of   27,318 total)\n[INFO]     [creator]        50,655 reachable methods (59.2% of   85,634 total)\n[INFO]     [creator]         3,407 types,   314 fields, and 2,521 methods registered for reflection\n[INFO]     [creator]\n[INFO]     [creator]     Error: Classes that should be initialized at run time got initialized during image building:\n[INFO]     [creator]      org.apache.commons.logging.LogFactory was unintentionally initialized at build time. To see why org.apache.commons.logging.LogFactory got initialized use --trace-class-initialization=org.apache.commons.logging.LogFactory\n[INFO]     [creator]     org.apache.commons.logging.LogFactoryService was unintentionally initialized at build time. To see why org.apache.commons.logging.LogFactoryService got initialized use --trace-class-initialization=org.apache.commons.logging.LogFactoryService\n[INFO]     [creator]     To see how the classes got initialized, use --trace-class-initialization=org.apache.commons.logging.LogFactory,org.apache.commons.logging.LogFactoryService\n[INFO]     [creator]     --------------------------------------------------------------------------------\n[INFO]     [creator]         9.0s (12.6% of total time) in 99 GCs | Peak RSS: 2.49GB | CPU load: 3.71\n[INFO]     [creator]     ================================================================================\n[INFO]     [creator]     Finished generating '....FooserviceApplication' in 1m 10s.\n[INFO]     [creator]     unable to invoke layer creator\n[INFO]     [creator]     unable to contribute native-image layer\n[INFO]     [creator]     error running build\n[INFO]     [creator]     exit status 1\n[INFO]     [creator]     ERROR: failed to build: exit status 1\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  04:35 min\n[INFO] Finished at: 2024-01-08T16:10:40+07:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.2.1:build-image (default-cli) on project fooservice: Execution default-cli of goal org.springframework.boot:spring-boot-maven-plugin:3.2.1:build-image failed: Builder lifecycle 'creator' failed with status code 51 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>How to fix it?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}