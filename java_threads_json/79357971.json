{
  "question": {
    "tags": [
      "java",
      "gis",
      "geotools"
    ],
    "owner": {
      "account_id": 11025255,
      "reputation": 119,
      "user_id": 8098357,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/82843111c25fdbce97407bca43dd77ae?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Guyard",
      "link": "https://stackoverflow.com/users/8098357/guyard"
    },
    "is_answered": true,
    "view_count": 57,
    "accepted_answer_id": 79360900,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1745612268,
    "creation_date": 1736939348,
    "last_edit_date": 1745612268,
    "question_id": 79357971,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79357971/geotools-generate-numberformatexception-on-nasa-wmts",
    "title": "Geotools generate NumberFormatException on Nasa WMTS?",
    "body": "<p>I'm learning to use geotools library for load tile with WMTS protocol.\nI have trying with many different versions 32.1, 31.5, 31.0 in a simple environment exactly define like geotools documentation explained in the url in documentation purposed to use Nasa WMTS server for test.</p>\n<p>The XML capabilities return a LegendURL value that contains a width value defined as 178.0. This parameter caused a NumberFormatExecption on geotools parser.</p>\n<p>Is it a configuration problem on Geotools or a non standard return of Nasa WMTS server ?</p>\n<p>Documentation seems to be obsolete ? Can someone help me ?</p>\n<p>I have follow the documentation at this url:</p>\n<p><a href=\"https://docs.geotools.org/latest/userguide/extension/wmts/index.html\" rel=\"nofollow noreferrer\">https://docs.geotools.org/latest/userguide/extension/wmts/index.html</a></p>\n<p>Trying to connect to WMTS server with the documentation url :</p>\n<p><a href=\"https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/wmts.cgi\" rel=\"nofollow noreferrer\">https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/wmts.cgi</a></p>\n<p>The exception:</p>\n<pre><code>[2025-01-15 11:42:44] [INFOS  ] java.lang.RuntimeException: Parsing failed for width: java.lang.NumberFormatException: For input string: &quot;378.0&quot;\n    at org.geotools.xsd.impl.ParseExecutor.visit(ParseExecutor.java:153)\n    at org.geotools.xsd.impl.BindingWalker$BindingExecutionChain.execute(BindingWalker.java:218)\n    at org.geotools.xsd.impl.BindingWalker.walk(BindingWalker.java:184)\n    at org.geotools.xsd.impl.BindingWalker.walk(BindingWalker.java:188)\n    at org.geotools.xsd.impl.ElementHandlerImpl.startElement(ElementHandlerImpl.java:180)\n    at org.geotools.xsd.impl.ParserHandler.startElement(ParserHandler.java:378)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:518)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:183)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:353)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2726)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:114)\n    at java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:542)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:889)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:825)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1224)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:637)\n    at java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl.parse(SAXParserImpl.java:326)\n    at org.geotools.xsd.Parser.parse(Parser.java:183)\n    at org.geotools.xsd.Parser.parse(Parser.java:125)\n    at org.geotools.ows.wmts.response.WMTSGetCapabilitiesResponse.&lt;init&gt;(WMTSGetCapabilitiesResponse.java:84)\n    at org.geotools.ows.wmts.WMTSSpecification$GetCapsRequest.createResponse(WMTSSpecification.java:381)\n    at org.geotools.ows.wmts.WMTSSpecification$GetCapsRequest.createResponse(WMTSSpecification.java:353)\n    at org.geotools.data.ows.AbstractOpenWebService.internalIssueRequest(AbstractOpenWebService.java:465)\n    at org.geotools.data.ows.AbstractOpenWebService.issueRequest(AbstractOpenWebService.java:493)\n    at org.geotools.data.ows.AbstractOpenWebService.negotiateVersion(AbstractOpenWebService.java:287)\n    at org.geotools.data.ows.AbstractOpenWebService.&lt;init&gt;(AbstractOpenWebService.java:124)\n    at org.geotools.data.ows.AbstractOpenWebService.&lt;init&gt;(AbstractOpenWebService.java:97)\n    at org.geotools.data.ows.AbstractOpenWebService.&lt;init&gt;(AbstractOpenWebService.java:88)\n    at org.geotools.data.ows.AbstractOpenWebService.&lt;init&gt;(AbstractOpenWebService.java:77)\n    at org.geotools.ows.wmts.WebMapTileServer.&lt;init&gt;(WebMapTileServer.java:150)\n    at fr.projetlineaire.phasemanager.maps.WMTSTest$WMTSHelper.&lt;init&gt;(WMTSTest.java:65)\n    at fr.projetlineaire.phasemanager.maps.WMTSTest$WMTSHelper.of(WMTSTest.java:128)\n    at fr.projetlineaire.phasemanager.maps.WMTSTest.launch(WMTSTest.java:28)\n    at fr.projetlineaire.phasemanager.main.MainApp.start(MainApp.java:103)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\nCaused by: java.lang.NumberFormatException: For input string: &quot;378.0&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:662)\n    at java.base/java.math.BigInteger.&lt;init&gt;(BigInteger.java:541)\n    at java.base/java.math.BigInteger.&lt;init&gt;(BigInteger.java:679)\n    at org.geotools.xs.bindings.XSIntegerBinding.parse(XSIntegerBinding.java:96)\n    at org.geotools.xsd.impl.ParseExecutor.visit(ParseExecutor.java:142)\n    ... 44 more\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}