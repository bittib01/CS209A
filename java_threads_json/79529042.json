{
  "question": {
    "tags": [
      "java",
      "spring",
      "pdfbox"
    ],
    "owner": {
      "account_id": 20723826,
      "reputation": 1,
      "user_id": 15217533,
      "user_type": "registered",
      "profile_image": "https://lh6.googleusercontent.com/-aDrUm_F5pK0/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucnZa_Ruo4mtNjIeQGmJ0E_4S45hOw/s96-c/s256-rj/photo.jpg",
      "display_name": "hannkim",
      "link": "https://stackoverflow.com/users/15217533/hannkim"
    },
    "is_answered": false,
    "view_count": 69,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1742756943,
    "creation_date": 1742738001,
    "last_edit_date": 1742756943,
    "question_id": 79529042,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79529042/convert-pdf-file-to-in-order-images-with-pdfbox",
    "title": "convert PDF file to &quot;in order&quot; images with PDFBox",
    "body": "<p><strong>Is it possible to convert each page of the pdf file to jpg in order using apache's pdfbox?</strong></p>\n<p>I'm using version 2.0.27 and I implemented it like the code below, <strong>but there's a problem that it's intermittently saved in a different order.</strong></p>\n<p>The first parameter of renderImageWithDPI is pageIndex, is pageIndex the same as the page order in the actual pdf file?</p>\n<p>The PDFRender has pageTree as PDPageTree internally, and PDPageTree has COSDictionary, Set.\nLooking at the data structure of Tree and Set, I think the order may not be guaranteed.\nBut when I looked up other references, they were all explaining that they were saving each page in order as images, just like my code.</p>\n<p>I don't know if it's right to be saved in order or not, or if there's another way to save it in order.</p>\n<p>Is it possible to save each page &quot;in order&quot; as an image?</p>\n<pre><code>    public List&lt;String&gt; savePdfToImageFiles(String directoryPath, byte[] decodedData) {\n        List&lt;String&gt; savedFiles = new ArrayList&lt;&gt;();\n        \n        try (InputStream streamData = new ByteArrayInputStream(decodedData)) {\n            try (PDDocument document = PDDocument.load(streamData)) {\n                PDFRenderer pdfRenderer = new PDFRenderer(document);\n                Path path = Path.of(directoryPath);\n                Files.createDirectories(path);\n\n                for (int page = 0; page &lt; document.getNumberOfPages(); page++) {\n                    final float DPI = 150;\n                    BufferedImage image = pdfRenderer.renderImageWithDPI(page, DPI);\n\n                    Path result = path.resolve((page + 1) + &quot;.jpg&quot;);\n                    ImageIO.write(image, &quot;JPEG&quot;, result.toFile());\n                    image.flush();\n                    savedFiles.add(result.toString());\n                }\n            }\n        } catch (IOException e) {\n            log.error(&quot;Failed to save PDF to image files: {}&quot;, directoryPath, e);\n        }\n        \n        return savedFiles;\n    }\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}