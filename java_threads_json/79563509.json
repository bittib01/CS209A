{
  "question": {
    "tags": [
      "java",
      "json",
      "xml",
      "org.json"
    ],
    "owner": {
      "account_id": 34390696,
      "reputation": 11,
      "user_id": 26543688,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/LhovOIpd.png?s=256",
      "display_name": "Harry",
      "link": "https://stackoverflow.com/users/26543688/harry"
    },
    "is_answered": false,
    "view_count": 142,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1761115395,
    "creation_date": 1744175830,
    "last_edit_date": 1744199437,
    "question_id": 79563509,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79563509/how-to-convert-xml-data-with-attributes-to-json-format",
    "title": "How to convert XML data with attributes to JSON format",
    "body": "<p>I am using this method to convert XML data to JSON.</p>\n<pre><code>import org.json.XML;\nimport org.json.JSONObject;\n\nclass DataParserUtil \n{\n    public JSONObject convertXMLToJson(String xml) {\n        JSONObject json = XML.toJSONObject(xml,true);\n        System.out.println(json.toString(2));\n        return json;\n    }    \n}\n</code></pre>\n<p>This method return the JSONObject to Controller class. The controller class stores the JSONObject data in HashMap and passes it to the client module.</p>\n<pre><code>Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n...\nJSONObject xmlResult = jsonConversionService.convertXMLToJson(data);\nresponse.put(&quot;Data&quot;, xmlResult.toMap());\n...\nActionContext.getContext().put(&quot;jsonResponse&quot;, response);\n</code></pre>\n<p>is really effective for most XML data. But, it slightly fails when it comes to XML data with attributes.</p>\n<p>For this <strong>sample input</strong> - <code>&lt;root type=&quot;student&quot;&gt;&lt;name&gt;John&lt;/name&gt;&lt;/root&gt;</code>\nI am getting it almost right, except <code>@type</code> is displayed as <code>type</code>.</p>\n<p><strong>Expected Output:</strong></p>\n<pre><code>{ &quot;data&quot; : \n   { &quot;root&quot; : \n       { &quot;@type&quot; : &quot;student&quot;, \n         &quot;name&quot; : &quot;John&quot; \n}}} \n</code></pre>\n<p><strong>Output (I receive):</strong></p>\n<pre><code>{ &quot;data&quot; : \n   { &quot;root&quot; : \n       { \n         &quot;type&quot; : &quot;student&quot;, \n         &quot;name&quot; : &quot;John&quot; \n}}} \n</code></pre>\n<p>What should I change in my code to get it in the proper format ?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}