{
  "question": {
    "tags": [
      "java",
      "kotlin",
      "gradle",
      "testing"
    ],
    "owner": {
      "account_id": 36828971,
      "reputation": 13,
      "user_id": 27939211,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/c9fbfbe47e7dc0924b56d389803f3b7b?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "FedMam",
      "link": "https://stackoverflow.com/users/27939211/fedmam"
    },
    "is_answered": true,
    "view_count": 110,
    "accepted_answer_id": 79216865,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1732319195,
    "creation_date": 1732318683,
    "question_id": 79216849,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79216849/cannot-run-kotlin-tests-in-a-java-project",
    "title": "Cannot run Kotlin tests in a Java project",
    "body": "<p>I've created a Java Gradle project, but, for a reason, the tests for it have to be in Kotlin. Let's take this test, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package org.***.***\n\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\n\nclass TestTest {\n    @Test\n    fun testThat2Plus3Is5() {\n        Assertions.assertEquals(5, 2 + 3)\n    }\n}\n</code></pre>\n<p>But when I run the tests using <code>./gradlew test</code>, they don't seem to run at all. It says that 'Test events were not received'. And when I run this test using IntelliJ IDEA, it fails with the following error:</p>\n<pre><code>Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:160)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverSafely(EngineDiscoveryOrchestrator.java:134)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discover(EngineDiscoveryOrchestrator.java:80)\n    at org.junit.platform.launcher.core.DefaultLauncher.discover(DefaultLauncher.java:110)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.junit.platform.commons.JUnitException: ClassSelector [className = 'org.fedmam.msqueue.TestTest'] resolution failed\n    at org.junit.platform.launcher.listeners.discovery.AbortOnFailureLauncherDiscoveryListener.selectorProcessed(AbortOnFailureLauncherDiscoveryListener.java:39)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:102)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.run(EngineDiscoveryRequestResolution.java:82)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolver.resolve(EngineDiscoveryRequestResolver.java:113)\n    at org.junit.jupiter.engine.discovery.DiscoverySelectorResolver.resolveSelectors(DiscoverySelectorResolver.java:46)\n    at org.junit.jupiter.engine.JupiterTestEngine.discover(JupiterTestEngine.java:69)\n    at org.junit.platform.launcher.core.EngineDiscoveryOrchestrator.discoverEngineRoot(EngineDiscoveryOrchestrator.java:152)\n    ... 13 more\nCaused by: org.junit.platform.commons.PreconditionViolationException: Could not load class with name: org.fedmam.msqueue.TestTest\n    at org.junit.platform.engine.discovery.ClassSelector.lambda$getJavaClass$0(ClassSelector.java:75)\n    at org.junit.platform.commons.function.Try$Failure.getOrThrow(Try.java:335)\n    at org.junit.platform.engine.discovery.ClassSelector.getJavaClass(ClassSelector.java:74)\n    at org.junit.jupiter.engine.discovery.ClassSelectorResolver.resolve(ClassSelectorResolver.java:66)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.lambda$resolve$2(EngineDiscoveryRequestResolution.java:134)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:647)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:185)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolve(EngineDiscoveryRequestResolution.java:125)\n    at org.junit.platform.engine.support.discovery.EngineDiscoveryRequestResolution.resolveCompletely(EngineDiscoveryRequestResolution.java:91)\n    ... 18 more\nCaused by: java.lang.ClassNotFoundException: org.fedmam.msqueue.TestTest\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    at org.junit.platform.commons.util.ReflectionUtils.lambda$tryToLoadClass$9(ReflectionUtils.java:829)\n    at org.junit.platform.commons.function.Try.lambda$call$0(Try.java:57)\n    at org.junit.platform.commons.function.Try.of(Try.java:93)\n    at org.junit.platform.commons.function.Try.call(Try.java:57)\n    at org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(ReflectionUtils.java:792)\n    at org.junit.platform.commons.util.ReflectionUtils.tryToLoadClass(ReflectionUtils.java:748)\n    ... 33 more\n\nProcess finished with exit code 254\n</code></pre>\n<p>Here's how <code>build.gradle</code> looks:</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n    id 'java'\n}\n\ngroup 'org.***'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    testImplementation 'org.jetbrains.kotlinx:lincheck:2.34'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>Here's how the project structure looks:</p>\n<pre><code>- src\n  - main\n    - java\n      - org.***.***\n        - ...\n  - test\n    - java  // no matter if I rename it to java or kotlin\n      - org.***.***\n        - ...\n        - TestTest.kt\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}