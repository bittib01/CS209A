{
  "question": {
    "tags": [
      "java",
      "pact",
      "pact-jvm"
    ],
    "owner": {
      "account_id": 14364899,
      "reputation": 1,
      "user_id": 10376246,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/8BCyI.jpg?s=256",
      "display_name": "Luis Nu&#241;o",
      "link": "https://stackoverflow.com/users/10376246/luis-nu%c3%b1o"
    },
    "is_answered": false,
    "view_count": 187,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1722928356,
    "creation_date": 1720743467,
    "last_edit_date": 1722928356,
    "question_id": 78738110,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78738110/can-i-build-a-dslpart-using-an-existing-one-as-part-of-the-new-one",
    "title": "Can I build a DslPart using an existing one as part of the new one?",
    "body": "<p>I'm writing some Pact Tests of an endpoint that returns an specific product when the id is passed as path param or an array of all products when no id is specified:</p>\n<p><em>{baseUrl}/products/1</em></p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;product1&quot;,\n    &quot;type&quot;: &quot;example&quot;,\n    &quot;attributes&quot;: [\n        {\n            &quot;attrib1&quot;: &quot;text1&quot;,\n            &quot;attrib2&quot;: &quot;text2&quot;,\n            &quot;attrib3&quot;: &quot;text3&quot;,\n        },\n        {\n            &quot;attrib1&quot;: &quot;string1&quot;,\n            &quot;attrib2&quot;: &quot;string2&quot;,\n            &quot;attrib3&quot;: &quot;string2&quot;,\n        },\n    ]\n}\n</code></pre>\n<p><em>{baseUrl}/products</em></p>\n<pre><code>{\n    &quot;products&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;product1&quot;,\n            &quot;type&quot;: &quot;example&quot;,\n            &quot;attributes&quot;: [\n                {\n                    &quot;attrib1&quot;: &quot;text1&quot;,\n                    &quot;attrib2&quot;: &quot;text2&quot;,\n                    &quot;attrib3&quot;: &quot;text3&quot;\n                },\n                {\n                    &quot;attrib1&quot;: &quot;string1&quot;,\n                    &quot;attrib2&quot;: &quot;string2&quot;,\n                    &quot;attrib3&quot;: &quot;string3&quot;\n                }\n            ]\n        },\n        {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;product2&quot;,\n            &quot;type&quot;: &quot;example&quot;,\n            &quot;attributes&quot;: [\n                {\n                    &quot;attrib1&quot;: &quot;text1&quot;,\n                    &quot;attrib2&quot;: &quot;text2&quot;,\n                    &quot;attrib3&quot;: &quot;text3&quot;\n                },\n                {\n                    &quot;attrib1&quot;: &quot;string1&quot;,\n                    &quot;attrib2&quot;: &quot;string2&quot;,\n                    &quot;attrib3&quot;: &quot;string3&quot;\n                },\n                {\n                    &quot;attrib1&quot;: &quot;abc1&quot;,\n                    &quot;attrib2&quot;: &quot;abc2&quot;,\n                    &quot;attrib3&quot;: &quot;abc3&quot;\n                }\n            ]\n        },\n        {\n            &quot;id&quot;: 3,\n            &quot;name&quot;: &quot;product3&quot;,\n            &quot;type&quot;: &quot;example&quot;,\n            &quot;attributes&quot;: [\n                {\n                    &quot;attrib1&quot;: &quot;text1&quot;,\n                    &quot;attrib2&quot;: &quot;text2&quot;,\n                    &quot;attrib3&quot;: &quot;text3&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>I'm building the JSON body of an individual product by using a Lambda DSL:</p>\n<pre><code>DslPart product = newJsonBody((body) -&gt; {\n    body.numberType(&quot;id&quot;, 1);\n    body.stringType(&quot;name&quot;, &quot;product1&quot;);\n    body.stringType(&quot;type&quot;, &quot;example&quot;);\n    body.array(&quot;attributes&quot;, (attributes) -&gt; {\n        attributes.object((attrib) -&gt; {\n            attrib.stringType(&quot;attrib1&quot;, &quot;text1&quot;);\n            attrib.stringType(&quot;attrib2&quot;, &quot;text2&quot;);\n            attrib.stringType(&quot;attrib3&quot;, &quot;text3&quot;);\n        });\n    });\n}).build();\n</code></pre>\n<p>So far so good, but now want to build the response body of the list of products and I would like to reuse the <code>DslPart product</code> that I already have.</p>\n<p>Something like this:</p>\n<pre><code>DslPart productList = newJsonBody((body) -&gt; {\n    body.array(&quot;products&quot;, (products) -&gt; {\n        products.object(product);        // This is not possible, a LambdaDslObject is required\n    });\n}).build();\n</code></pre>\n<p>Until now the only way I have found is to rewriting the entire product inside the products array</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}