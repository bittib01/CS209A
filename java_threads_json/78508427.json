{
  "question": {
    "tags": [
      "java",
      "jackson",
      "jackson-databind",
      "java-record"
    ],
    "owner": {
      "account_id": 17087522,
      "reputation": 3,
      "user_id": 12364355,
      "user_type": "registered",
      "profile_image": "https://graph.facebook.com/1925710647575604/picture?type=large",
      "display_name": "Alejandro Castellanos",
      "link": "https://stackoverflow.com/users/12364355/alejandro-castellanos"
    },
    "is_answered": false,
    "view_count": 792,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1717657598,
    "creation_date": 1716233015,
    "last_edit_date": 1717657598,
    "question_id": 78508427,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78508427/com-fasterxml-jackson-databind-exc-mismatchedinputexception-cannot-deserialize",
    "title": "com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.Character` from Object value",
    "body": "<p>I'n new in Java and I'm having this error deserializing a JSON to a Java record.</p>\n<p>This is my record:</p>\n<pre><code>imports...\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic record Character(\n        @JsonAlias(&quot;fullName&quot;) String name,\n        @JsonAlias(&quot;hogwartsHouse&quot;) String house,\n        @JsonAlias(&quot;birthdate&quot;) String birthdate,\n        @JsonAlias(&quot;index&quot;) Integer characterID) {\n}\n\n</code></pre>\n<p>This is the JSON I'm receiving from the API:</p>\n<pre><code>{\n    &quot;fullName&quot;:&quot;Harry James Potter&quot;,\n    &quot;nickname&quot;:&quot;Harry&quot;,\n    &quot;hogwartsHouse&quot;:&quot;Gryffindor&quot;,\n    &quot;interpretedBy&quot;:&quot;Daniel Radcliffe&quot;,\n    &quot;children&quot;:[&quot;James Sirius Potter&quot;,&quot;Albus Severus Potter&quot;,&quot;Lily Luna Potter&quot;],\n    &quot;image&quot;:&quot;https://raw.githubusercontent.com/fedeperin/potterapi/main/public/images/characters/harry_potter.png&quot;,\n    &quot;birthdate&quot;:&quot;Jul 31, 1980&quot;,\n    &quot;index&quot;:0\n}\n</code></pre>\n<p>And this is the method where I'm trying to deserialize:</p>\n<pre><code>public class Principal {\n    private final String URI = &quot;https://potterapi-fedeperin.vercel.app/es/characters?index=0&quot;;\n    private APIConsumption apiConsumption = new APIConsumption();\n    private ConvertData converter = new ConvertData();\n    private ObjectMapper mapper = new ObjectMapper();\n\n\n    public void showMain(){\n        var json = apiConsumption.consumeAPI(URI);\n        System.out.println(json);\n        // Character harry = null;\n        try {\n            Character harry = mapper.readValue(json.toString(), Character.class);\n            System.out.println(harry.toString());\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>And this is the complete exception I'm getting:</p>\n<pre><code>java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.Character` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 1]\n    at dev.alexcastellanos.potterapi.main.Principal.showMain(Principal.java:23) ~[classes/:na]\n    at dev.alexcastellanos.potterapi.PotterApiApplication.run(PotterApiApplication.java:19) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.lambda$callRunner$5(SpringApplication.java:790) ~[spring-boot-3.2.5.jar:3.2.5]\n    at org.springframework.util.function.ThrowingConsumer$1.acceptWithException(ThrowingConsumer.java:83) ~[spring-core-6.1.6.jar:6.1.6]\n    at org.springframework.util.function.ThrowingConsumer.accept(ThrowingConsumer.java:60) ~[spring-core-6.1.6.jar:6.1.6]\n    at org.springframework.util.function.ThrowingConsumer$1.accept(ThrowingConsumer.java:88) ~[spring-core-6.1.6.jar:6.1.6]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:798) ~[spring-boot-3.2.5.jar:3.2.5]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:789) ~[spring-boot-3.2.5.jar:3.2.5]\n    at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:774) ~[spring-boot-3.2.5.jar:3.2.5]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:774) ~[spring-boot-3.2.5.jar:3.2.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:341) ~[spring-boot-3.2.5.jar:3.2.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]\n    at dev.alexcastellanos.potterapi.PotterApiApplication.main(PotterApiApplication.java:12) ~[classes/:na]\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `java.lang.Character` from Object value (token `JsonToken.START_OBJECT`)\n at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 1, column: 1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1767) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1541) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1446) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.DeserializationContext.extractScalarFromObject(DeserializationContext.java:958) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$CharacterDeserializer.deserialize(NumberDeserializers.java:479) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.deser.std.NumberDeserializers$CharacterDeserializer.deserialize(NumberDeserializers.java:425) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4905) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3848) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3816) ~[jackson-databind-2.17.0.jar:2.17.0]\n    at dev.alexcastellanos.potterapi.main.Principal.showMain(Principal.java:20) ~[classes/:na]\n    ... 21 common frames omitted\n</code></pre>\n<p>First I was using generic types but I changed it to use Character class directly but it didn't solve the error.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}