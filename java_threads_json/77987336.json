{
  "question": {
    "tags": [
      "java",
      "ffmpeg"
    ],
    "owner": {
      "account_id": 25842452,
      "reputation": 191,
      "user_id": 19577809,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0c31aa70066ac8b04d9bf857f5842eb3?s=256&d=identicon&r=PG",
      "display_name": "Thor",
      "link": "https://stackoverflow.com/users/19577809/thor"
    },
    "is_answered": true,
    "view_count": 295,
    "accepted_answer_id": 77989009,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1718850307,
    "creation_date": 1707821557,
    "last_edit_date": 1718850307,
    "question_id": 77987336,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77987336/get-fps-without-processbuilder-or-runtime-getruntime-exec",
    "title": "Get fps without ProcessBuilder or Runtime.getRuntime().exec()",
    "body": "<p>With <a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">FFmpeg CLI Wrapper for Java</a> I want to get frames per second of a video. The command to do it is:</p>\n<pre><code>ffmpeg -i video.mp4 2&gt;&amp;1 | sed -n &quot;s/.*, \\(.*\\) fps.*/\\1/p&quot;\n</code></pre>\n<p>which outputs <code>24</code>. How do I do this in Java? I don't want to use <code>ProcessBuilder</code> or <code>Runtime.getRuntime().exec()</code> as they start an another process. To capture a screenshot from a video I wrote this code:</p>\n<pre><code>public void captureScreenshots(String videoPath, String outputPath, int intervalInSeconds) {\n    FFmpeg ffmpeg = null;\n    try {\n        ffmpeg = new FFmpeg();\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    int videoFrameRate=getFrameRate(videoPath);\n    int frameInterval=videoFrameRate*intervalInSeconds;\n\n    String videoFilter=&quot;select='not(mod(n,24))',setpts='N/(24*TB)'&quot;;\n\n    FFmpegBuilder builder = new FFmpegBuilder()\n            .setInput(videoPath)\n            .addOutput(outputPath)\n            .setVideoFilter(videoFilter)\n            .setFormat(&quot;image2&quot;)\n            .done();\n\n    FFmpegExecutor executor = null;\n    try {\n        executor = new FFmpegExecutor(ffmpeg);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    executor.createJob(builder).run();\n}\n</code></pre>\n<p>In a similar way I want to get fps.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}