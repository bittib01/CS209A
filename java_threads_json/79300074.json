{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "cors",
      "spring-saml"
    ],
    "owner": {
      "account_id": 20065530,
      "reputation": 11,
      "user_id": 18197011,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgPaFIIYDWX7TfCLnvYI16mLoWQPIMPD-48Deit=k-s256",
      "display_name": "Fennix 900",
      "link": "https://stackoverflow.com/users/18197011/fennix-900"
    },
    "is_answered": false,
    "view_count": 365,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1734950662,
    "creation_date": 1734813644,
    "question_id": 79300074,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79300074/invalid-cors-request-or-requests-dont-work",
    "title": "Invalid CORS request or requests dont work",
    "body": "<p>After building my vite project and integrating it into my java spring boot application. I am messing around with cors configurations. When haven no configuration, I can login via SAML SSO where i have microsoft azure as my service provider, and go to the project. But there only the GET requests work. When applying these cors settings, I cant login anymore and i get a blank page which says &quot;invalid cors request&quot;:</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors(cors -&gt; cors.configurationSource(request -&gt; {\n                    CorsConfiguration config = new CorsConfiguration();\n                    config.setAllowedOrigins(List.of(&quot;http://localhost:8080&quot;));\n                    config.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;OPTIONS&quot;));\n                    config.setAllowCredentials(true); // Allow cookies or authentication headers\n                    config.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Content-Type&quot;, &quot;X-Requested-With&quot;));\n                    return config;\n                }))\n                .csrf().disable() // Disable CSRF \n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/saml2/**&quot;).permitAll() // Allow SAML endpoints\n                        .requestMatchers(&quot;/login/**&quot;).permitAll() // Allow SAML endpoints\n                        .requestMatchers(&quot;https://localhost:8080/**&quot;).permitAll() // Allow SAML endpoints\n                        .anyRequest().authenticated() // Adjust based on your requirements\n                );\n        return http.build();\n    }\n}\n</code></pre>\n<p>Besides the Security config. Everything else works perfectly fine. I used this config for developing too, but now where SAML and vite are both connected to the backend, at least one of those two doesnt work.</p>\n<p>I also tried playing around with the request mathers, added some other stack overflow issues to the code. But nothign worked so far.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}