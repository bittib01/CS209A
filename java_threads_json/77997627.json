{
  "question": {
    "tags": [
      "java",
      "jsp",
      "nullpointerexception",
      "javabeans",
      "el"
    ],
    "owner": {
      "account_id": 1762033,
      "reputation": 85,
      "user_id": 1608879,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/fe6ff3acf71c58c7dff2290a69e9a1ff?s=256&d=identicon&r=PG",
      "display_name": "azeemofwalsall",
      "link": "https://stackoverflow.com/users/1608879/azeemofwalsall"
    },
    "is_answered": true,
    "view_count": 430,
    "accepted_answer_id": 78010521,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1733666636,
    "creation_date": 1707951268,
    "last_edit_date": 1733601698,
    "question_id": 77997627,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77997627/jakarta-el-elexception-java-lang-nullpointerexception-cannot-invoke-string-tr",
    "title": "jakarta.el.ELException: java.lang.NullPointerException: Cannot invoke &quot;String.trim()&quot; because &quot;in&quot; is null",
    "body": "<p>I am learning JSP and JavaBeans.</p>\n<p>I have written a simple web app that calculates loan repayments. The app correctly sets the bean's fields with user input (from a form). The bean also contains a method <code>calculatePayment()</code>, which for some reason I can't call from the JSP page.</p>\n<p>I have searched the net and reviewed the code with no success. Any help would be welcome.</p>\n<p>The server log reports:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.jasper.JasperException: An exception occurred processing [/index.jsp] at line [56]\n\n53:         &lt;table&gt;\n54:             &lt;tr&gt;\n55:                 &lt;td&gt;Annual payment is&lt;/td&gt;\n56:                 &lt;td&gt;${loanBean.calculatePayment()}&lt;/td&gt;\n57:             &lt;/tr&gt;\n58:         &lt;/table&gt;\n59:     &lt;/body&gt;\n</code></pre>\n<p>and:</p>\n<p><strong>Root Cause</strong>:</p>\n<blockquote>\n<p>jakarta.el.ELException: java.lang.NullPointerException: Cannot invoke &quot;String.trim()&quot; because &quot;in&quot; is null</p>\n</blockquote>\n<p>Here are snippets of the code:</p>\n<p>the <code>calculatePayment()</code> method in <code>LoanBean</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String calculatePayment() {\n    double P = Double.parseDouble(loanAmount);\n    double r = Double.parseDouble(rate);\n    double t = Double.parseDouble(term);\n        \n    double A = P*(Math.pow(1 + r, t));\n        \n    DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n    String num_string = df.format(A);\n    return num_string;    \n}\n</code></pre>\n<p>and my JSP page - instantiating the bean and specifying fields to set:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot; session=&quot;true&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;Klausen_Chapter5_Problem1_LoanCalculator&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;jsp:useBean id=&quot;loanBean&quot;  scope=&quot;session&quot;  class=&quot;loancalculator.beans.LoanBean&quot;/&gt;\n\n        &lt;jsp:setProperty name=&quot;loanBean&quot; property=&quot;arrangementFee&quot;/&gt;\n        &lt;jsp:setProperty name=&quot;loanBean&quot; property=&quot;loanAmount&quot;/&gt;\n        &lt;jsp:setProperty name=&quot;loanBean&quot; property=&quot;rate&quot;/&gt;\n        &lt;jsp:setProperty name=&quot;loanBean&quot; property=&quot;term&quot;/&gt;\n        &lt;h1&gt;Loan Calculation&lt;/h1&gt;\n        &lt;form name=&quot;form1&quot;  method=&quot;post&quot;&gt;\n            &lt;table&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Arrangement fee :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot;  name=&quot;arrangementFee&quot; value=&quot;${loanBean.arrangementFee}&quot;/&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Enter loan amount :&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;text&quot;  name=&quot;loanAmount&quot;  value=&quot;${loanBean.loanAmount}&quot;&lt;/td&gt;\n                &lt;/tr&gt;\n                                     -----   more rows and input elements ----\n\n                &lt;tr&gt;&lt;td&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=&quot;submit&quot;  value=&quot;Clear&quot;/&gt;\n                        &lt;input type=&quot;submit&quot;  value=&quot;Calculate&quot;/&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/form&gt;\n        \n        &lt;br&gt;&lt;br&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Annual payment is&lt;/td&gt;\n                &lt;td&gt;${loanBean.calculatePayment()}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I've looked carefully at the code and searched the net for answers, but to no avail.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}