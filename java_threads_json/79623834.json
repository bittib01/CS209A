{
  "question": {
    "tags": [
      "java",
      "spring",
      "kotlin",
      "hibernate"
    ],
    "owner": {
      "account_id": 3103021,
      "reputation": 1402,
      "user_id": 3663124,
      "user_type": "registered",
      "accept_rate": 56,
      "profile_image": "https://www.gravatar.com/avatar/2c576242a4d62aa0fac0ba0178105384?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "fedest",
      "link": "https://stackoverflow.com/users/3663124/fedest"
    },
    "is_answered": true,
    "view_count": 96,
    "accepted_answer_id": 79624942,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1747389658,
    "creation_date": 1747326588,
    "question_id": 79623834,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79623834/spring-repository-find-by-id-on-related-table",
    "title": "Spring repository: find by id on related table",
    "body": "<p>I have two models (written in Kotlin):</p>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\nclass AModel(\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n)\n</code></pre>\n<p>and a second one with a one to one relation to this previos one</p>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\nclass BModel(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    @field:OneToOne\n    @JoinColumn(name = &quot;original_a_id&quot;)\n    var originalA: AModel? = null,\n)\n</code></pre>\n<p>Then in BRepository I have a method to fetch a instance of B by the id of the related model A.</p>\n<p><code>fun findByOriginalAId(originalAId: Long): BModel?</code></p>\n<p>That until recently it worked correctly, but I'm trying to upgrade my app to Spring 3.4 and latest version of Hibernate and suddenly this is a problem.\nThis method on the repository no longer finds the model.\nThe only change I implemented was to change the type of the id fields to Long? and default to null, and deleage to hibernate the actual value generation, which I read I need to do.</p>\n<p>I found a workaround for the repository method to annotate it with</p>\n<p><code>@Query(&quot;SELECT b FROM BModel b WHERE b.originalA.id = :originalAId&quot;)</code></p>\n<p>But why do I suddenly need to do this? Is there a way to obtain the same result without the cumbersome annotation?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}