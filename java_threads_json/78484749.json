{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "rabbitmq",
      "spring-rabbit"
    ],
    "owner": {
      "account_id": 7307904,
      "reputation": 59,
      "user_id": 6295841,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/2a0376786dcfd1a4a9da0f311e521935?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "User1254",
      "link": "https://stackoverflow.com/users/6295841/user1254"
    },
    "is_answered": true,
    "view_count": 632,
    "accepted_answer_id": 79404097,
    "answer_count": 1,
    "score": 2,
    "last_activity_date": 1738361652,
    "creation_date": 1715784393,
    "last_edit_date": 1715793850,
    "question_id": 78484749,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78484749/rabbitmq-queue-is-not-created-on-spring-startup",
    "title": "RabbitMQ queue is not created on spring startup",
    "body": "<p>Please help me to solve issues with Spring rabbitmq queue creation. I've searched every stakcoverflow posted questions, but non seems to work.</p>\n<p>I am using Spring 2.7.18. My rabbit configuration class:</p>\n<pre><code>@Configuration\npublic class RabbitConfiguration {\n\n    private final RabbitProperties rabbitProperties;\n\n    public RabbitConfiguration(RabbitProperties rabbitProperties) {\n        this.rabbitProperties = rabbitProperties;\n    }\n\n    @Bean\n    public AmqpAdmin amqpAdmin(ConnectionFactory connectionFactory) {\n        AmqpAdmin amqpAdmin = new RabbitAdmin(connectionFactory);\n        amqpAdmin.declareQueue(createQueue());\n        return amqpAdmin;\n    }\n\n    @Bean\n    public Declarables queues() {\n        return new Declarables(createQueue());\n    }\n\n    @Bean\n    public Queue createQueue() {  \n        return new Queue(&quot;queueName&quot;, true, false, false);\n    }\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory) {\n        return new RabbitTemplate(connectionFactory);\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.rabbitmq.addresses=xxx\nspring.rabbitmq.virtual-host=xxx\nspring.rabbitmq.username=xxx\nspring.rabbitmq.password=xxx\nspring.rabbitmq.ssl.enabled=true\nspring.rabbitmq.ssl.algorithm=TLSv1.2\n</code></pre>\n<p>I see that my application created connection.\nIf I have queue created via Rabbit admin panel I can send messages to the rabbit.\nHowever, then I delete the queue via admin panel it's not created.\nI am thinking that queue should be created either during app start up or either sending a message to the rabbit. Am I wrong? :(\nI use service only to send messages via <em><strong>rabbitTemplate.convertAndSend()</strong></em></p>\n<pre><code>Created new connection: rabbitConnectionFactory#373052b5:0/SimpleConnection@8ca3b65 [delegate=amqp://xxx@xxxx:xxx/vhost, localPort= xxxx]\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}