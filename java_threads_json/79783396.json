{
  "question": {
    "tags": [
      "java",
      "hbase",
      "java-module",
      "java-platform-module-system",
      "hbase-client"
    ],
    "owner": {
      "account_id": 44212054,
      "reputation": 11,
      "user_id": 31634986,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0e1874220d99fb3e03a28b76f06c20b7?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Dev Hingu",
      "link": "https://stackoverflow.com/users/31634986/dev-hingu"
    },
    "is_answered": false,
    "view_count": 71,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1759731027,
    "creation_date": 1759731027,
    "question_id": 79783396,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79783396/split-package-problem-in-hbase-client-module-in-apache-hbase",
    "title": "Split Package problem in hbase-client module in apache hbase",
    "body": "<p>I am working on creating module-info.java file for hbase-client module in apache hbase project. Now, hbase-client has direct incoming dependency on hbase-common module.</p>\n<p>In apache hbase project, most of the packages are split across all modules.This is standard split package problem while migrating existing code to JPMS.</p>\n<p>I want some workaround of this split package problem as i cannot re-structure the packages of hbase.</p>\n<p>I've gone through some workaround but that's for like when we have two incoming dependencies which contains the same package. In that case we can create single modular jar but that can't be useful for hbase because that will result in single modular jar for hbase and that defies the motive of this project.</p>\n<p>This is my module-info.java file for hbase-client</p>\n<pre><code>module org.apache.hadoop.hbase.client {\n  requires audience.annotations;\n  requires commons.crypto;\n  requires org.apache.commons.io;\n  requires org.apache.commons.lang3;\n  requires hadoop.common;\n  requires hbase.common;\n  requires com.google.gson;\n  requires com.google.common;\n  requires hbase.unsafe;\n  requires java.management;\n  requires java.security.sasl;\n  requires jcip.annotations;\n  requires org.jruby.jcodings;\n  requires org.jruby.joni;\n  requires metrics.core;\n  requires io.opentelemetry.api;\n  requires io.opentelemetry.context;\n  requires org.slf4j;\n  requires zookeeper;\n  requires hbase.shaded.protobuf;\n  //  requires hbase.protocol.shaded;\n  //  requires hbase.shaded.netty;\n  //  requires zookeeper.jute;\n\n  exports org.apache.hadoop.hbase;\n}\n</code></pre>\n<p>I am getting this error while compiling it</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project hbase-client: Compilation failure: Compilation failure: \n[ERROR] the unnamed module reads package org.apache.hadoop.hbase from both hbase.common and org.apache.hadoop.hbase.client\n[ERROR] the unnamed module reads package org.apache.hadoop.hbase.exceptions from both hbase.common and org.apache.hadoop.hbase.client\n[ERROR] the unnamed module reads package org.apache.hadoop.hbase.filter from both hbase.common and org.apache.hadoop.hbase.client\n[ERROR] the unnamed module reads package org.apache.hadoop.hbase.security from both hbase.common and org.apache.hadoop.hbase.client\n[ERROR] the unnamed module reads package org.apache.hadoop.hbase.util from both hbase.common and org.apache.hadoop.hbase.client\n[ERROR] the unnamed module reads package org.apache.hadoop.hbase.zookeeper from both hbase.common and org.apache.hadoop.hbase.client\n[ERROR] module org.slf4j reads package org.apache.hadoop.hbase from both org.apache.hadoop.hbase.client and hbase.common\n[ERROR] module org.slf4j reads package org.apache.hadoop.hbase.zookeeper from both org.apache.hadoop.hbase.client and hbase.common\n[ERROR] module org.slf4j reads package org.apache.hadoop.hbase.util from both org.apache.hadoop.hbase.client and hbase.common\n[ERROR] module org.slf4j reads package org.apache.hadoop.hbase.security from both org.apache.hadoop.hbase.client and hbase.common\n[ERROR] module org.slf4j reads package org.apache.hadoop.hbase.filter from both org.apache.hadoop.hbase.client and hbase.common\n[ERROR] module org.slf4j reads package org.apache.hadoop.hbase.exceptions from both org.apache.hadoop.hbase.client and hbase.common\n....\n....\n....\n</code></pre>\n<p>It's like big UnNamed Module(HBase) is reading same package from hbase.client and hbase.common.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}