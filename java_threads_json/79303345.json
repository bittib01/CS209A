{
  "question": {
    "tags": [
      "java",
      "tomcat",
      "servlets",
      "struts2",
      "jetty"
    ],
    "owner": {
      "account_id": 13133376,
      "reputation": 268,
      "user_id": 9487223,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/827a70958d5e8815c01583486a63ca23?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Karan",
      "link": "https://stackoverflow.com/users/9487223/karan"
    },
    "is_answered": false,
    "view_count": 133,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1734963303,
    "creation_date": 1734963303,
    "question_id": 79303345,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79303345/error-starting-java-struts-6-app-in-tomcat",
    "title": "Error starting Java Struts 6 app in Tomcat",
    "body": "<p>I am having an issue deploying my application with Apache Tomcat 9 and Java 14, the application runs fine with Jetty server but I am having an issue when deploying it on Tomcat.\nHere is the error I get</p>\n<pre><code> org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method [manageApp]\n        java.lang.IllegalStateException: Error starting child\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661)\n            at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1751)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n            at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n            at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n            at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:453)\n            at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:407)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n            at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n            at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n            at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n            at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n            at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n            at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n            at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n            at java.base/java.lang.Thread.run(Thread.java:832)\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/enadmintool]]\n            at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:419)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:186)\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n            ... 42 more\n        Caused by: java.lang.IllegalArgumentException: Invalid &lt;url-pattern&gt; [login] in servlet mapping\n            at org.apache.catalina.core.StandardContext.addServletMappingDecoded(StandardContext.java:3032)\n            at org.apache.catalina.Context.addServletMappingDecoded(Context.java:917)\n            at org.apache.catalina.startup.ContextConfig.configureContext(ContextConfig.java:1500)\n            at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1287)\n            at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:961)\n            at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:290)\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:114)\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4820)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n            ... 43 more\n    23-Dec-2024 08:50:55.370 SEVERE [RMI TCP Connection(2)-127.0.0.1] org.apache.tomcat.util.modeler.BaseModelMBean.invoke Exception invoking method [createStandardContext]\n        javax.management.RuntimeOperationsException: Exception invoking method [manageApp]\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:304)\n            at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n            at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n            at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:453)\n            at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:407)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n            at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n            at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n            at java.management/com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1466)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1307)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1406)\n            at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n            at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n            at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n            at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n            at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:587)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:828)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:705)\n            at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n            at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:704)\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n            at java.base/java.lang.Thread.run(Thread.java:832)\n        Caused by: java.lang.IllegalStateException: Error starting child\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:686)\n            at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:658)\n            at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:661)\n            at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1751)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n            at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:294)\n            ... 34 more\n        Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/enadmintool]]\n            at org.apache.catalina.util.LifecycleBase.handleSubClassException(LifecycleBase.java:419)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:186)\n            at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:683)\n            ... 42 more\n        Caused by: java.lang.IllegalArgumentException: Invalid &lt;url-pattern&gt; [login] in servlet mapping\n            at org.apache.catalina.core.StandardContext.addServletMappingDecoded(StandardContext.java:3032)\n            at org.apache.catalina.Context.addServletMappingDecoded(Context.java:917)\n            at org.apache.catalina.startup.ContextConfig.configureContext(ContextConfig.java:1500)\n            at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1287)\n            at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:961)\n            at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:290)\n            at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:114)\n            at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4820)\n            at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n            ... 43 more\n</code></pre>\n<p>Seems the error is with the LoginAction class, here is my LoginAction Class:</p>\n<pre><code>package com.keybox.manage.action;\n\nimport com.keybox.common.util.AppConfig;\nimport com.keybox.common.util.AuthUtil;\nimport com.keybox.manage.db.AuthDB;\nimport com.keybox.manage.model.Auth;\nimport com.keybox.manage.model.User;\nimport com.keybox.manage.util.OTPUtil;\nimport com.opensymphony.xwork2.ActionSupport;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.struts2.ServletActionContext;\nimport org.apache.struts2.convention.annotation.*;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.servlet.Servlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\n\n/**\n * Action to auth to keybox\n */\n@Namespace(&quot;/&quot;)\n@ParentPackage(&quot;struts-default&quot;)\npublic class LoginAction extends ActionSupport {\n\n    private static final Logger loginAuditLogger = LoggerFactory.getLogger(&quot;com.keybox.manage.action.LoginAudit&quot;);\n    private HttpServletResponse servletResponse;\n    private HttpServletRequest servletRequest;\n    private Auth auth;\n    private static final String AUTH_ERROR = &quot;Authentication Failed: Login credentials are invalid&quot;;\n    private static final String AUTH_ERROR_NO_PROFILE = &quot;Authentication Failed: There are no profiles assigned to this account&quot;;\n    private boolean otpEnabled = &quot;required&quot;.equals(AppConfig.getProperty(&quot;oneTimePassword&quot;)) || &quot;optional&quot;.equals(AppConfig.getProperty(&quot;oneTimePassword&quot;));\n    private String _csrf;\n\n    @Action(value = &quot;login&quot;, results = {\n            @Result(name = &quot;success&quot;, location = &quot;/login.jsp&quot;)\n    })\n    public String login() {\n        HttpSession session = ServletActionContext.getRequest().getSession(false);\n        if (session == null) {\n            session = ServletActionContext.getRequest().getSession(true);\n        }\n        _csrf = AuthUtil.generateCSRFToken(session);\n        return SUCCESS;\n    }\n\n    @Action(value = &quot;admin/menu&quot;, results = {\n            @Result(name = &quot;success&quot;, location = &quot;/admin/menu.jsp&quot;)\n    })\n    public String menu() {\n        return SUCCESS;\n    }\n\n    @Action(value = &quot;loginSubmit&quot;, results = {\n            @Result(name = &quot;input&quot;, location = &quot;/login.jsp&quot;),\n            @Result(name = &quot;change_password&quot;, location = &quot;/admin/userSettings.action&quot;, type = &quot;redirect&quot;),\n            @Result(name = &quot;otp&quot;, location = &quot;/admin/viewOTP.action&quot;, type = &quot;redirect&quot;),\n            @Result(name = &quot;success&quot;, location = &quot;/admin/menu.action&quot;, type = &quot;redirect&quot;)\n    })\n    public String loginSubmit() {\n        String retVal = SUCCESS;\n        String authToken = AuthDB.login(auth);\n        String clientIP = AuthUtil.getClientIPAddress(servletRequest);\n\n        if (authToken != null) {\n            User user = AuthDB.getUserByAuthToken(authToken);\n            if (user != null) {\n                String sharedSecret = null;\n                if (otpEnabled) {\n                    sharedSecret = AuthDB.getSharedSecret(user.getId());\n                    if (StringUtils.isNotEmpty(sharedSecret) &amp;&amp; (auth.getOtpToken() == null || !OTPUtil.verifyToken(sharedSecret, auth.getOtpToken()))) {\n                        loginAuditLogger.info(auth.getUsername() + &quot; (&quot; + clientIP + &quot;) - &quot; + AUTH_ERROR);\n                        addActionError(AUTH_ERROR);\n                        return INPUT;\n                    }\n                }\n                if (!User.MANAGER.equals(user.getUserType()) &amp;&amp; (user.getProfileList() == null || user.getProfileList().size() &lt;= 0)) {\n                    loginAuditLogger.info(auth.getUsername() + &quot; (&quot; + clientIP + &quot;) - &quot; + AUTH_ERROR_NO_PROFILE);\n                    addActionError(AUTH_ERROR_NO_PROFILE);\n                    return INPUT;\n                }\n\n                AuthUtil.setAuthToken(ServletActionContext.getRequest().getSession(), authToken);\n                AuthUtil.setUserId(ServletActionContext.getRequest().getSession(), user.getId());\n                AuthUtil.setAuthType(ServletActionContext.getRequest().getSession(), user.getAuthType());\n                AuthUtil.setTimeout(ServletActionContext.getRequest().getSession());\n                AuthUtil.setUsername(ServletActionContext.getRequest().getSession(), user.getUsername());\n\n                if (otpEnabled &amp;&amp; StringUtils.isEmpty(sharedSecret)) {\n                    retVal = &quot;otp&quot;;\n                } else if (&quot;changeme&quot;.equals(auth.getPassword()) &amp;&amp; Auth.AUTH_BASIC.equals(user.getAuthType())) {\n                    retVal = &quot;change_password&quot;;\n                }\n                loginAuditLogger.info(auth.getUsername() + &quot; (&quot; + clientIP + &quot;) - Authentication Success&quot;);\n            }\n        } else {\n            loginAuditLogger.info(auth.getUsername() + &quot; (&quot; + clientIP + &quot;) - &quot; + AUTH_ERROR);\n            addActionError(AUTH_ERROR);\n            retVal = INPUT;\n        }\n\n        return retVal;\n    }\n\n    @Action(value = &quot;logout&quot;, results = {\n            @Result(name = &quot;success&quot;, location = &quot;/login.action&quot;, type = &quot;redirect&quot;)\n    })\n    public String logout() {\n        AuthUtil.deleteAllSession(ServletActionContext.getRequest().getSession(true));\n        return SUCCESS;\n    }\n\n    public void validateLoginSubmit() {\n        if (auth.getUsername() == null || auth.getUsername().trim().isEmpty()) {\n            addFieldError(&quot;auth.username&quot;, &quot;Required&quot;);\n        }\n        if (auth.getPassword() == null || auth.getPassword().trim().isEmpty()) {\n            addFieldError(&quot;auth.password&quot;, &quot;Required&quot;);\n        }\n    }\n\n    // Getters and setters for auth, servletRequest, servletResponse, and _csrf\n    public Auth getAuth() {\n        return auth;\n    }\n\n    public void setAuth(Auth auth) {\n        this.auth = auth;\n    }\n\n    public HttpServletResponse getServletResponse() {\n        return servletResponse;\n    }\n\n    public void setServletResponse(HttpServletResponse servletResponse) {\n        this.servletResponse = servletResponse;\n    }\n\n    public HttpServletRequest getServletRequest() {\n        return servletRequest;\n    }\n\n    public void setServletRequest(HttpServletRequest servletRequest) {\n        this.servletRequest = servletRequest;\n    }\n\n    public String get_csrf() {\n        return _csrf;\n    }\n\n    public void set_csrf(String _csrf) {\n        this._csrf = _csrf;\n    }\n}\n</code></pre>\n<p>And here are my struts.xml and web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n        &quot;-//Apache Software Foundation//DTD Struts Configuration 6.0//EN&quot;\n        &quot;https://struts.apache.org/dtds/struts-6.0.dtd&quot;&gt;\n&lt;struts&gt;\n    &lt;package name=&quot;default&quot; namespace=&quot;/&quot; extends=&quot;struts-default&quot;&gt;\n\n        &lt;result-types&gt;\n            &lt;result-type name=&quot;redirect&quot; class=&quot;com.keybox.common.result.CSRFRedirectionResult&quot;/&gt;\n        &lt;/result-types&gt;\n        &lt;interceptors&gt;\n            &lt;interceptor name=&quot;CSRFToken&quot; class=&quot;com.keybox.common.interceptor.CSRFInterceptor&quot;/&gt;\n            &lt;interceptor name=&quot;HSTS&quot; class=&quot;com.keybox.common.interceptor.HTTPStrictTransportSecurityInterceptor&quot;/&gt;\n            &lt;interceptor name=&quot;Clickjacking&quot; class=&quot;com.keybox.common.interceptor.ClickjackingInterceptor&quot;/&gt;\n            &lt;interceptor-stack name=&quot;keyboxStack&quot;&gt;\n                &lt;interceptor-ref name=&quot;CSRFToken&quot;&gt;\n                    &lt;param name=&quot;excludeMethods&quot;&gt;login,logout&lt;/param&gt;\n                &lt;/interceptor-ref&gt;\n                &lt;interceptor-ref name=&quot;HSTS&quot;/&gt;\n                &lt;interceptor-ref name=&quot;Clickjacking&quot;/&gt;\n                &lt;interceptor-ref name=&quot;defaultStack&quot;/&gt;\n            &lt;/interceptor-stack&gt;\n        &lt;/interceptors&gt;\n\n        &lt;global-results&gt;\n            &lt;result name=&quot;invalid.token&quot;&gt;/&lt;/result&gt;\n        &lt;/global-results&gt;\n\n        &lt;action name=&quot;login&quot; class=&quot;com.keybox.manage.action.LoginAction&quot; method=&quot;login&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/login.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    \n\n    &lt;/package&gt;\n\n    &lt;package name=&quot;admin&quot; namespace=&quot;/admin&quot; extends=&quot;struts-default&quot;&gt;\n        &lt;action name=&quot;menu&quot; class=&quot;com.keybox.manage.action.LoginAction&quot; method=&quot;menu&quot;&gt;\n            &lt;result name=&quot;success&quot;&gt;/admin/menu.jsp&lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n\n\n\n    &lt;constant name=&quot;struts.convention.default.parent.package&quot; value=&quot;default&quot;/&gt;\n&lt;/struts&gt;\n</code></pre>\n<p>web.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee\n                             http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\n         version=&quot;3.1&quot;&gt;\n\n    &lt;session-config&gt;\n        &lt;cookie-config&gt;\n            &lt;http-only&gt;true&lt;/http-only&gt;\n            &lt;secure&gt;true&lt;/secure&gt;\n        &lt;/cookie-config&gt;\n    &lt;/session-config&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;AuthFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;com.keybox.common.filter.AuthFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;AuthFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/manage/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;AuthFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/admin/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;INCLUDE&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.action&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n    &lt;error-page&gt;\n        &lt;location&gt;/error.jsp&lt;/location&gt;\n    &lt;/error-page&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}