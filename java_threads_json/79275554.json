{
  "question": {
    "tags": [
      "java",
      "gradle",
      "cucumber",
      "pitest"
    ],
    "owner": {
      "account_id": 38389412,
      "reputation": 21,
      "user_id": 28749425,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/7e01a056fcb26caaa8e88937196f6baf?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Dani&#235;l Gerritsen",
      "link": "https://stackoverflow.com/users/28749425/dani%c3%abl-gerritsen"
    },
    "is_answered": false,
    "view_count": 236,
    "answer_count": 0,
    "score": 2,
    "last_activity_date": 1739936386,
    "creation_date": 1734015111,
    "last_edit_date": 1739936386,
    "question_id": 79275554,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79275554/how-do-i-make-pitest-work-with-a-multi-module-project-with-cucumber-tests-that-a",
    "title": "How do i make Pitest work with a multi-module project with cucumber tests that are in a separate module",
    "body": "<p>I have this approximate project structure:</p>\n<pre><code>project/\n├── module-with-java-code/\n│   ├── main\n│   ├── test\n│   └── build.gradle\n├── module-with-cucumber-features/\n│   ├── features [test]/\n│   │   ├── feature-test-folder-1/\n│   │   │   ├── test-1.feature\n│   │   │   └── -...\n│   │   └── ...\n│   ├── test/\n│   │   ├── glue/\n│   │   │   └── glues...\n│   │   ├── TestNgCucumberTest for feature-test-folder-1\n│   │   └── ...\n│   └── build.gradle\n├── way more more modules...\n└── build.gradle\n</code></pre>\n<p>I want to execute Pitest on code in <strong>module-with-java-code</strong> but i want to run it with tests inside its own module <strong>and</strong> the feature tests from <strong>module-with-cucumber-features</strong>.</p>\n<p>The versions i am using:</p>\n<ul>\n<li>gradle: 8.11.1</li>\n<li>pitest-gradle-plugin: 'info.solidsoft.pitest' version '1.15.0'</li>\n<li>pitest-testng-plugin: 'org.pitest:pitest-testng-plugin:1.0.0'</li>\n<li>pitest-junit5-plugin: 'org.pitest:pitest-junit5-plugin:1.2.1'</li>\n<li>cucumber\n<ul>\n<li>'io.cucumber:cucumber-jvm-deps:1.0.6',</li>\n<li>'io.cucumber:cucumber-picocontainer:7.20.1',</li>\n<li>'io.cucumber:cucumber-java:7.20.1',</li>\n<li>'io.cucumber:cucumber-testng:7.20.1',</li>\n<li>'me.jvt.cucumber:reporting-plugin:7.11.0'</li>\n</ul>\n</li>\n</ul>\n<p>I have tried to follow the documentation on <a href=\"https://gradle-pitest-plugin.solidsoft.info/\" rel=\"nofollow noreferrer\">gradle-pitest-plugin</a> together with <a href=\"https://github.com/szpak/gradle-pitest-plugin/tree/master/src/funcTest/resources/testProjects/multiproject\" rel=\"nofollow noreferrer\">the multi-module example</a></p>\n<p>What i was expecting was that it would recognize the cucumber tests (e.g. TestNgCucumberTest) and for each mutation execute the cucumber tests and the unit tests.</p>\n<p>However i am running into some problems with the configuration:\nI tried to configure it in the <strong>module-with-cucumber-features</strong>\nHere it give an error: No mutations found</p>\n<pre class=\"lang-none prettyprint-override\"><code>configure(project(':module-with-cucumber-features')) {\n    apply plugin: 'info.solidsoft.pitest'\n    dependencies {\n        implementation project(':module-with-java-code')\n    }\n\n    configurations { mutableCodeBase { transitive false } }\n    dependencies { mutableCodeBase project(':module-with-java-code') }\n    pitest {\n        mutators = [&quot;ALL&quot;]\n        mainSourceSets = [project(':module-with-java-code').sourceSets.main]\n        testSourceSets = [sourceSets.test]\n        targetTests = ['com.example.TestNgCucumberTest']\n        additionalMutableCodePaths = [configurations.mutableCodeBase.singleFile]\n    }\n}\n</code></pre>\n<p>I tried to configure it in the root project\nHere it give an error: &quot;Could not get unknown property 'implementation' for configuration container for project ':module-with-java-code' of type org.gradle.api.internal.artifacts.configurations.DefaultConfigurationContainer&quot;</p>\n<pre><code>configure(project(':module-with-cucumber-features')) {\n    apply plugin: 'info.solidsoft.pitest'\n    apply plugin: 'java'\n\n    dependencies {\n        implementation project(':module-with-java-code')\n    }\n\n    //Additional configuration to resolve :module-with-java-code project JAR as mutable code path for PIT\n    configurations {\n        mutableCodeBase { transitive false }\n        dependencies {\n            mutableCodeBase.extendsFrom(project(':module-with-java-code').configurations.implementation)\n        }\n    }\n    pitest {\n        timestampedReports = false\n        mainSourceSets = [project.sourceSets.main, project(':module-with-java-code').sourceSets.main]\n        //Generates deprecation warning in Gradle 5.6+\n        //Asked for recommendation: https://discuss.gradle.org/t/accessing-other-module-dependency-files-without-mutable-project-state-warnings/35048\n        additionalMutableCodePaths = configurations.mutableCodeBase.files\n//        additionalMutableCodePaths = project(':module-with-java-code').jar.outputs.files.getFiles()  //Workaround\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}