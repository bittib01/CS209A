{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "apache-kafka",
      "spring-kafka",
      "apache-kafka-connect"
    ],
    "owner": {
      "account_id": 39942829,
      "reputation": 31,
      "user_id": 29528927,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/bde6e85eea8dbab241065ec1395560ef?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "abhijeet cyberevolve",
      "link": "https://stackoverflow.com/users/29528927/abhijeet-cyberevolve"
    },
    "is_answered": true,
    "view_count": 363,
    "answer_count": 2,
    "score": 3,
    "last_activity_date": 1747820438,
    "creation_date": 1746430831,
    "last_edit_date": 1747820438,
    "question_id": 79606504,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79606504/kafka-performance-issue",
    "title": "Kafka Performance Issue",
    "body": "<p>I'm currently working on a project using Java Spring Boot with Apache Kafka. We have multiple microservices communicating through Kafka, and our system is designed to process around 100,000 events (logs) per second (EPS),and each packet size is around 3 KB.\nHowever, I'm facing a significant performance issue. I've tried several Kafka and Spring Boot configuration optimizations, but the issue still persists.</p>\n<p>One critical observation:</p>\n<p>When I include the Kafka producer logic in my service, the overall performance drops drastically. But when I comment out the Kafka producer code, the processing becomes very fast.\nThis clearly points to the Kafka producer being a bottleneck, but I'm not sure what specifically is causing the issue â€” whether it's improper configuration, blocking I/O, synchronous sending, or something else.</p>\n<p>Has anyone experienced a similar issue?\nAny help or insights would be greatly appreciated.</p>\n<p>This is my kafka producer configuration:</p>\n<pre><code>KafkaProducerConfig.java\n\nBean(name = &quot;packetData&quot;)\n    public KafkaProducer&lt;String, PacketData&gt; packetDataKafkaProducer() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaURLConfiguration.getKafkaURL());\n        config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        config.put(ProducerConfig.DELIVERY_TIMEOUT_MS_CONFIG, 600000);\n        config.put(ProducerConfig.BATCH_SIZE_CONFIG, 200000);\n        config.put(ProducerConfig.LINGER_MS_CONFIG, 10);\n        config.put(ProducerConfig.COMPRESSION_TYPE_CONFIG, COMPRESSION_TYPE);\n        return new KafkaProducer&lt;&gt;(config, new StringSerializer(), new JsonSerializer&lt;&gt;());\n    }\n\nProducerService.java\n\nProducerRecord&lt;String, Object&gt; records = new ProducerRecord&lt;&gt;(driver.getCollectionTopic(), packetData);\n        kafkaProducer.send(records);\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}