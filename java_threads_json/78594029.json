{
  "question": {
    "tags": [
      "java",
      "algorithm"
    ],
    "owner": {
      "account_id": 32776732,
      "reputation": 107,
      "user_id": 25474027,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/7714b61050e2186d6d4c957bd1581c57?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Sid",
      "link": "https://stackoverflow.com/users/25474027/sid"
    },
    "is_answered": true,
    "view_count": 245,
    "accepted_answer_id": 78594432,
    "answer_count": 1,
    "score": 2,
    "last_activity_date": 1735649026,
    "creation_date": 1717795091,
    "last_edit_date": 1735649026,
    "question_id": 78594029,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78594029/find-maximum-of-all-minimum-sum",
    "title": "Find maximum of all minimum sum",
    "body": "<p>Given integer arrays <code>A</code> and <code>B</code> of size <code>n</code></p>\n<p>Find all possible combinations (subsets) of size<code> 1, 2, 3, ..., n</code>. We get 2 power n possibilities</p>\n<p>For each combination (subset) of A, find the minimum in that subset, say min, and multiply this value with sum of items for that combination from Array B.</p>\n<p>Find the maximum value from all the above minimums. Return the result in modulo (10^9+ 7).</p>\n<p><strong>Constraints:</strong></p>\n<pre><code>n in range 1 to 10^5\n1 &lt;= A[i], B[i] &lt;= 10^6\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>A = [1,1,3]\nB = [1,2,2]\n\nindices:  A      min         B    sum         min*sum\n                 (subset A)       (subset B)\n--------------------------------------------------------------\n[0]       1       1          1       1        1*1=1\n[1]       1       1          2       2        1*2=2\n[2]       3       3          2       2        3*2=6\n[0,1]     1,1     1          1,2     3        1*3=3\n[0,2]     1,3     1          1,2     3        1*3=3\n[1,2]     1,3     1          2,2     4        1*4=4\n[0,1,2]   1,1,3   1          1,2,2   5        1*5=5\n\nResult = max( all min*sum) = max(1,2,6,3,3,4,5) = 6\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>public static int solve(List&lt;Integer&gt; A, List&lt;Integer&gt; B) {\n        int n = A.size();\n        long max = 0;\n    final int MOD = 1_000_000_007;\n        // Loop through all subsets using bitmasking\n        for (int mask = 0; mask &lt; (1 &lt;&lt; n); mask++) {\n            int min = Integer.MAX_VALUE;\n            long sum = 0;\n\n            for (int i = 0; i &lt; n; i++) {\n                if ((mask &amp; (1 &lt;&lt; i)) != 0) {\n                    min = Math.min(min, A.get(i));\n                    sum += B.get(i);\n                    sum %= MOD; // To prevent overflow\n                }\n            }\n            long current = (int) ((long) min * sum % MOD);\n            max = Math.max(max, current);\n        }\n\n        return (int) max;\n     }\n</code></pre>\n<p>This was asked during a interview as part of hackerrank, when I used this code, it passed only 4 out of 15 test cases. Many failed with wrong output and time out errors.</p>\n<p>What is the correct approach to solve this?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}