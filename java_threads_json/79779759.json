{
  "question": {
    "tags": [
      "java",
      "jakarta-ee",
      "jsr352",
      "java-batch"
    ],
    "owner": {
      "account_id": 5289146,
      "reputation": 9950,
      "user_id": 4222206,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/416696430ab23f397a5dbeda73e72896?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "queeg",
      "link": "https://stackoverflow.com/users/4222206/queeg"
    },
    "is_answered": true,
    "view_count": 131,
    "accepted_answer_id": 79782677,
    "answer_count": 3,
    "score": 2,
    "last_activity_date": 1759654860,
    "creation_date": 1759304658,
    "last_edit_date": 1759610857,
    "question_id": 79779759,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79779759/how-to-terminate-partition-yet-succeed-on-the-job",
    "title": "How to terminate partition yet succeed on the job?",
    "body": "<p>I have a Jakarta Batch application that runs jobs with partitions. Under some conditions the processor signals there is nothing else to be done by throwing an exception. As this exception shall neither fail the job nor fail the transaction on the current chunk I added this exception to the <a href=\"https://jakarta.ee/specifications/batch/2.0/jakarta-batch-spec-2.0#skipping-exceptions\" rel=\"nofollow noreferrer\">skippable exceptions</a>.</p>\n<p>While this has the effect of allowing the job to continue, there are two effects I do not like:</p>\n<ul>\n<li>all the remaining items are still processed although no more work can be performed. Hence I want the partition to terminate but allow other partitions to still run.</li>\n<li>The job as a whole is marked as FAILED. In this one case preempting the work is ok for the application thus I'd like the job to be marked as SUCCESS. After all preempted partitions do not need to be investigated by an operator.</li>\n<li>The step/job still needs to be able to fail when encountering other problems (=other exceptions)</li>\n</ul>\n<p>How can I implement the desired behaviour?</p>\n<p><strong>Update: I tried different scenarios, none of which really brought me to my intended solution:</strong></p>\n<ul>\n<li><strong>Do nothing (just a normal partitioned step)</strong>\nAll items are processed and written (no early exit)</li>\n<li><strong>Throw Exception</strong>\nThe partition breaks the read/process/write loop,\nthe chunk gets rolled back and the step fails. Unless the exception was thrown on a chunks first item I loose the previous items.</li>\n<li><strong>Throw skippable Exception</strong>\nThe partition continues the read/process/write loop,\nchunk writes all possible data and the step ends with success. But\nthat means all non-processable items are still read and processed.</li>\n<li><strong>Throw skippable Exception and set exit status</strong>\nThe partition continues the read/process/write loop,\nchunk writes all possible data and the step ends with success</li>\n</ul>\n<p>I doubt a PartitionAnalyzer would change the behaviour as it can tweak the step's result having looked at all the partition results. My problem is that only by throwing a non-skippable exception I can exit the partition but it results in a rollback.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}