{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "docker",
      "kubernetes"
    ],
    "owner": {
      "account_id": 17626981,
      "reputation": 61,
      "user_id": 12791861,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/8f18f595e8c490be8ace324323d8210a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Lemurumschlag",
      "link": "https://stackoverflow.com/users/12791861/lemurumschlag"
    },
    "is_answered": false,
    "view_count": 151,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1751450653,
    "creation_date": 1737380997,
    "last_edit_date": 1751450653,
    "question_id": 79371532,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79371532/why-throws-the-pod-an-invocationtargetexception",
    "title": "Why throws the POD an InvocationTargetException",
    "body": "<p>I am new in Kubernetes and I want to run a basic Spring-Boot-application inside a namespace.</p>\n<p>The Pod alsways tries to start and throws this Error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown\nSource)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)\nat org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)\nat org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)\nCaused by: java.lang.reflect.InvocationTargetException</p>\n</blockquote>\n<p>and this Error:</p>\n<blockquote>\n<blockquote>\n<p>Caused by: java.lang.StackOverflowError\nat java.base/java.lang.ThreadLocal.getCarrierThreadLocal(Unknown Source)\nat java.base/java.lang.System$2.getCarrierThreadLocal(Unknown Source)\nat java.base/jdk.internal.misc.CarrierThreadLocal.get(Unknown Source)\nat java.base/sun.nio.fs.NativeBuffers.getNativeBufferFromCache(Unknown\nSource)\nat java.base/sun.nio.fs.UnixNativeDispatcher.copyToNativeBuffer(Unknown\nSource)\nat java.base/sun.nio.fs.UnixNativeDispatcher.stat(Unknown Source)\nat java.base/sun.nio.fs.UnixFileAttributes.get(Unknown Source)\nat java.base/sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(Unknown\nSource)\nat java.base/sun.nio.fs.UnixFileSystemProvider.readAttributes(Unknown\nSource)\nat java.base/sun.nio.fs.LinuxFileSystemProvider.readAttributes(Unknown\nSource)\nat java.base/java.nio.file.Files.readAttributes(Unknown Source)\nat java.base/java.util.zip.ZipFile$Source.get(Unknown Source)\nat java.base/java.util.zip.ZipFile$CleanableResource.(Unknown\nSource)\nat java.base/java.util.zip.ZipFile.(Unknown Source)\nat java.base/java.util.zip.ZipFile.(Unknown Source)\nat java.base/java.util.jar.JarFile.(Unknown Source)\nat java.base/java.util.jar.JarFile.(Unknown Source)\nat java.base/java.util.jar.JarFile.(Unknown Source)\nat org.springframework.boot.loader.jar.NestedJarFile.(NestedJarFile.java:141)\nat org.springframework.boot.loader.jar.NestedJarFile.(NestedJarFile.java:124)\nat org.springframework.boot.loader.net.protocol.jar.UrlNestedJarFile.(UrlNestedJarFile.java:42)\nat org.springframework.boot.loader.net.protocol.jar.UrlJarFileFactory.createJarFileForNested(UrlJarFileFactory.java:86)\nat org.springframework.boot.loader.net.protocol.jar.UrlJarFileFactory.createJarFile(UrlJarFileFactory.java:55)\nat org.springframework.boot.loader.net.protocol.jar.UrlJarFiles.getOrCreate(UrlJarFiles.java:72)\nat org.springframework.boot.loader.net.protocol.jar.JarUrlConnection.connect(JarUrlConnection.java:289)\nat org.springframework.boot.loader.net.protocol.jar.JarUrlConnection.getJarFile(JarUrlConnection.java:99)\nat org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.getJarFile(JarUrlClassLoader.java:188)\nat org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.definePackage(JarUrlClassLoader.java:146)\nat org.springframework.boot.loader.net.protocol.jar.JarUrlClassLoader.definePackageIfNecessary(JarUrlClassLoader.java:129)</p>\n</blockquote>\n</blockquote>\n<p>I am using Helm as well, but with the helm files is everything fine.</p>\n<p>My Dockerfile looks like that:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FROM /ubi8/minimum/java-21:8.10-1088-1-java21.0.5_11\n    \n    \nCOPY /target/*-spring-boot.jar app.jar\n    \nENTRYPOINT [&quot;java&quot;, &quot;-Xms2G&quot;, &quot;-Xmx2G&quot;, &quot;-XX:+UseG1GC&quot;, &quot;-XX:+ExitOnOutOfMemoryError&quot;, &quot;-jar&quot;, &quot;app.jar&quot;]\n    \nLABEL COMMIT_ID=${COMMIT_ID}\n</code></pre>\n<p>And my POM looks like that:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;21&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n        &lt;maven-compiler-plugin.version&gt;3.13.0&lt;/maven-compiler-plugin.version&gt;\n        &lt;maven-clean-plugin.version&gt;3.4.0&lt;/maven-clean-plugin.version&gt;\n        &lt;maven-surefire-plugin-version&gt;3.5.2&lt;/maven-surefire-plugin-version&gt;\n        &lt;maven-dependency-plugin.version&gt;3.8.1&lt;/maven-dependency-plugin.version&gt;\n        &lt;maven-spring-boot-plugin.version&gt;3.4.0&lt;/maven-spring-boot-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;${java.version}&lt;/release&gt;\n                    &lt;parameters&gt;true&lt;/parameters&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-spring-boot-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;spring-boot&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-dependency-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;properties&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-clean-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;OWASP&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                        &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>Thanks in advance!\nMaybe somebody can help me :)</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}