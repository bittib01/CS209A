{
  "question": {
    "tags": [
      "java",
      "vert.x",
      "vertx4"
    ],
    "owner": {
      "account_id": 35078832,
      "reputation": 1,
      "user_id": 26965337,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/92dcb302dd7f0dd7a51442442bf7701a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Ryszard Rodzynka",
      "link": "https://stackoverflow.com/users/26965337/ryszard-rodzynka"
    },
    "is_answered": false,
    "view_count": 82,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1724416317,
    "creation_date": 1724416317,
    "question_id": 78905928,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78905928/simulating-the-passage-of-time-in-unit-tests-with-vert-x-version-4",
    "title": "Simulating the passage of time in unit tests with Vert.x version 4",
    "body": "<p>Could someone advise if itâ€™s possible to simulate the passage of time in Vert.x 4, and how to do so?</p>\n<p>In Vert.x version 3, it was possible to simulate the passage of time in unit tests using TestScheduler, for example:</p>\n<pre><code>   @Test\n    void simulateTimeFlow(Vertx vertx, VertxTestContext testContext) {\n        // Use a TestScheduler for controlling time\n        TestScheduler testScheduler = RxHelper.scheduler(vertx);\n\n        // Simulate time-based logic\n        vertx.setTimer(5000, id -&gt; {\n            testContext.completeNow();  // Complete the test after 5 seconds (simulated)\n        });\n\n        // Advance the TestScheduler's time by 5 seconds\n        testScheduler.advanceTimeBy(5, TimeUnit.SECONDS);\n\n        // Await completion\n        testContext.awaitCompletion(5000, TimeUnit.MILLISECONDS);\n    }\n</code></pre>\n<p>It appears that this functionality is not available in Vert.x 4, which makes testing more complex applications challenging since unit tests need to wait for the actual configured time to complete. While configuring shorter wait times in unit tests is an option, it is not ideal. Ideally, there should be a way to inject a test clock into the Vert.x instance to control time during tests. However, Vert.x 4 does not provide a Clock in its API.</p>\n<p>It tried using latest TestScheduler t = RxHelper.scheduler(vertx) but it only works for rx java vertx not core vertx instance.</p>\n<p>I also looked for setClock in VertxOptions but obviously its not there.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}