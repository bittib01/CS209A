{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "http",
      "proxy",
      "apache-camel"
    ],
    "owner": {
      "account_id": 3375477,
      "reputation": 726,
      "user_id": 2833679,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/OA9i8K18.jpg?s=256",
      "display_name": "Alex",
      "link": "https://stackoverflow.com/users/2833679/alex"
    },
    "is_answered": false,
    "view_count": 105,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1719139713,
    "creation_date": 1719071752,
    "last_edit_date": 1719139713,
    "question_id": 78656547,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78656547/apache-camel-http-proxy-not-working-or-works-with-unavailable-proxyauthhost",
    "title": "apache camel http proxy not working or works with unavailable proxyAuthHost?",
    "body": "<p>I am new to Apache Camel and learn from coding.\nMy simple router is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n        http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd &quot;&gt;\n\n    &lt;camelContext id=&quot;camelContext&quot; xmlns=&quot;http://camel.apache.org/schema/spring&quot;&gt;\n        &lt;route&gt;\n            &lt;from uri=&quot;timer:timer?repeatCount=1&quot;/&gt;\n            &lt;to uri=&quot;https://v2.jokeapi.dev/joke/Any&quot;/&gt;\n            &lt;log message=&quot;${body}&quot;/&gt;\n        &lt;/route&gt;\n    &lt;/camelContext&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>and the test for this router is</p>\n<pre><code>@CamelSpringBootTest\npublic class JokeIT {\n\n    @Autowired\n    CamelContext camelContext;\n\n    @Test\n    void  test_positive() throws InterruptedException {\n        NotifyBuilder notification = new NotifyBuilder(camelContext)\n                .from(&quot;timer:timer?repeatCount=1&quot;).whenDone(1)\n                .create();\n        camelContext.start();\n        notification.matches(10, TimeUnit.SECONDS) ;\n        camelContext.stop();\n    }\n\n}\n</code></pre>\n<p>I run test as</p>\n<pre><code>mvn clean compile test-compile failsafe:integration-test\n</code></pre>\n<p>Test passed and prints response body as expected.\nBut what is strange that it passed even with</p>\n<pre><code>&lt;to uri=&quot;https://v2.jokeapi.dev/joke/Any?proxyAuthHost=abcd&quot;/&gt;\n</code></pre>\n<p>I tried set proxyHost in query string with the same result. The test still prints response body.\nHow it can be? Or I missed something?\nI expect the test should fail with unavailable proxy.</p>\n<p>Minimal reproducible example can be found at <a href=\"https://github.com/alepekhin/camel-proxy\" rel=\"nofollow noreferrer\">https://github.com/alepekhin/camel-proxy</a></p>\n<p>Thank you in advance.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}