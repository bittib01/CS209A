{
  "question": {
    "tags": [
      "java",
      "junit5",
      "junit-jupiter"
    ],
    "owner": {
      "account_id": 21332,
      "reputation": 5489,
      "user_id": 51754,
      "user_type": "registered",
      "accept_rate": 76,
      "profile_image": "https://i.sstatic.net/qP9ow.jpg?s=256",
      "display_name": "Bob Rivers",
      "link": "https://stackoverflow.com/users/51754/bob-rivers"
    },
    "is_answered": true,
    "view_count": 339,
    "accepted_answer_id": 79469164,
    "answer_count": 2,
    "score": 3,
    "last_activity_date": 1740561929,
    "creation_date": 1740077752,
    "last_edit_date": 1740308886,
    "question_id": 79455558,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79455558/not-able-to-use-junit5-system-exit",
    "title": "Not able to use junit5-system-exit",
    "body": "<p>I'm trying to write some unit tests for a command line application which makes use of <code>System.exit(1)</code> to signal a failed execution.</p>\n<p>Since we are using Java 21, in order to avoid problems with the security manager as described <a href=\"https://stackoverflow.com/questions/309396/how-to-test-methods-that-call-system-exit/79258150#79258150\">here</a>, we thought about using the approach proposed <a href=\"https://stackoverflow.com/a/79258150/51754\">here</a>, which uses the\njunit5-system-exit extension (<a href=\"https://todd.ginsberg.com/post/testing-system-exit/\" rel=\"nofollow noreferrer\">site</a>; <a href=\"https://github.com/tginsberg/junit5-system-exit/tree/master\" rel=\"nofollow noreferrer\">GitHub</a>).</p>\n<p>Following the instructions from GitHub, my <code>pom.xml</code> looks like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;argLine/&gt;\n&lt;/properties&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.11.3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.ginsberg&lt;/groupId&gt;\n        &lt;artifactId&gt;junit5-system-exit&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;properties&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;@{argLine} -javaagent:${com.ginsberg:junit5-system-exit:jar}&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>However, when I execute the tests, it fails with the following message:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: SystemExitExtension Agent not loaded, please see documentation</p>\n</blockquote>\n<p>So, it seems that I'm not able to configure Surefire properly. I have tried different approaches, but without luck. What am I doing wrong?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}