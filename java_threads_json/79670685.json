{
  "question": {
    "tags": [
      "java",
      "spring-mvc"
    ],
    "owner": {
      "account_id": 938881,
      "reputation": 15320,
      "user_id": 967330,
      "user_type": "registered",
      "accept_rate": 90,
      "profile_image": "https://www.gravatar.com/avatar/b731ee0bd2400959e9d13737e42c6418?s=256&d=identicon&r=PG",
      "display_name": "Thom",
      "link": "https://stackoverflow.com/users/967330/thom"
    },
    "is_answered": true,
    "view_count": 125,
    "accepted_answer_id": 79670772,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1750280444,
    "creation_date": 1750251675,
    "last_edit_date": 1750256629,
    "question_id": 79670685,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79670685/not-a-bug-in-spring-framework-forward",
    "title": "(Not a) Bug in spring framework forward",
    "body": "<p>I believe I've uncovered a bug in spring framework with the <code>forward:</code> notation. This is happening with XML based spring applications.</p>\n<p>I found this while upgrading my existing spring framework application from Spring 3 to Spring 6. I have created a project to reproduce.</p>\n<p>Starting with build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'war'  // Add war plugin for web application\n}\n\ngroup = 'com.avenuinsights'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    def springVersion = '6.2.7'\n    implementation &quot;org.springframework:spring-webmvc:${springVersion}&quot;\n    implementation &quot;org.springframework:spring-context:${springVersion}&quot;\n    implementation group: 'jakarta.servlet', name: 'jakarta.servlet-api', version: '6.1.0'\n    implementation group: 'jakarta.servlet.jsp', name: 'jakarta.servlet.jsp-api', version: '3.1.1'\n    implementation group: 'jakarta.servlet.jsp.jstl', name: 'jakarta.servlet.jsp.jstl-api', version: '3.0.2'\n    implementation group: 'org.glassfish.web', name: 'jakarta.servlet.jsp.jstl', version: '3.0.1'\n    testImplementation platform('org.junit:junit-bom:5.10.0')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>The web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\n         version=&quot;4.0&quot;&gt;\n\n    &lt;!-- Configure the Spring DispatcherServlet --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring-mvc.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;!-- Map all requests to the DispatcherServlet --&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n<p>and the spring-mvc.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans.xsd\n       http://www.springframework.org/schema/mvc\n       http://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt;\n\n    &lt;!-- Enable Spring MVC features --&gt;\n    &lt;mvc:annotation-driven /&gt;\n\n    &lt;!-- Configure controllers as beans --&gt;\n    &lt;bean id=&quot;firstController&quot; class=&quot;org.example.forwardxml.controller.FirstController&quot; /&gt;\n    &lt;bean id=&quot;secondController&quot; class=&quot;org.example.forwardxml.controller.SecondController&quot; /&gt;\n    &lt;bean id=&quot;thirdController&quot; class=&quot;org.example.forwardxml.controller.ThirdController&quot; /&gt;\n\n    &lt;bean class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&gt;\n        &lt;property name=&quot;mappings&quot;&gt;\n            &lt;value&gt;\n                /first=firstController\n                /second=secondController\n                /third=thirdController\n            &lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Define the View Resolver --&gt;\n    &lt;bean class=&quot;org.example.forwardxml.resolver.TranslatingViewResolver&quot;/&gt;\n\n    &lt;bean id=&quot;urlViewResolver&quot; class=&quot;org.springframework.web.servlet.view.UrlBasedViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.InternalResourceView&quot;/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>FirstController.java</p>\n<pre><code>public class FirstController extends AbstractController {\n\n    @Override\n    protected ModelAndView handleRequestInternal(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        System.out.println(&quot;FirstController: Processing request...&quot;);\n        // Forward to the second controller\n        return new ModelAndView(&quot;second.one&quot;);\n    }\n}\n</code></pre>\n<p>SecondController.java</p>\n<pre><code>public class SecondController extends AbstractController {\n\n    @Override\n    protected ModelAndView handleRequestInternal(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        System.out.println(&quot;SecondController: Processing request...&quot;);\n        // Forward to the third controller\n        return new ModelAndView(&quot;third.one&quot;);\n    }\n}\n</code></pre>\n<p>and ThirdController.java</p>\n<pre><code>public class ThirdController extends AbstractController {\n\n    @Override\n    protected ModelAndView handleRequestInternal(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        System.out.println(&quot;ThirdController: Processing request...&quot;);\n\n        // Create a model and view to display &quot;Hello, World!&quot;\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;hello.view&quot;);\n        modelAndView.addObject(&quot;message&quot;, &quot;Hello, World!&quot;);\n\n        return modelAndView;\n    }\n}\n</code></pre>\n<p>and finally the TranslatingViewResolver.java</p>\n<pre><code>public class TranslatingViewResolver extends AbstractCachingViewResolver {\n    public static final String HELLO = &quot;hello.view&quot;;\n    public static final String SECOND = &quot;second.one&quot;;\n    public static final String THIRD = &quot;third.one&quot;;\n\n    @Override\n    protected View loadView(String viewName, Locale locale) throws Exception {\n        if (SECOND.equals(viewName)) {\n            // Forward to the second controller\n            return new InternalResourceView(&quot;forward:/second&quot;);\n        } else if (THIRD.equals(viewName)) {\n            // Forward to the third controller\n            return new InternalResourceView(&quot;forward:/third&quot;);\n        } else if (HELLO.equals(viewName)) {\n            // Forward to the hello JSP\n            return new JstlView(&quot;/WEB-INF/views/hello.jsp&quot;);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Now, I believe that what should happen is that I should go to</p>\n<p>localhost:8080/forwardxml/first</p>\n<p>And it should return the jsp saying &quot;Hello, World!&quot; What I'm getting is:</p>\n<p><a href=\"https://i.sstatic.net/Wii4C9rw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/Wii4C9rw.png\" alt=\"enter image description here\" /></a></p>\n<p>If I've made a mistake, please let me know, but this looks like a bug according to the documentation. If you recreate and think this is an issue, please comment as well.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}