{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "maven"
    ],
    "owner": {
      "account_id": 7524459,
      "reputation": 1521,
      "user_id": 6224662,
      "user_type": "registered",
      "accept_rate": 71,
      "profile_image": "https://i.sstatic.net/dGqKn.png?s=256",
      "display_name": "fireball.1",
      "link": "https://stackoverflow.com/users/6224662/fireball-1"
    },
    "is_answered": true,
    "view_count": 4348,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1726570735,
    "creation_date": 1706786995,
    "last_edit_date": 1706787341,
    "question_id": 77919810,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77919810/after-upgrading-to-java-21-org-springframework-boot-autoconfigure-context-prope",
    "title": "After upgrading to java 21: org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer",
    "body": "<p>I recently upgraded my spring boot project to java 21. Post the upgrade I am facing the below issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.context.PropertyPlaceholderAutoConfiguration.propertySourcesPlaceholderConfigurer\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:428) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:289) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:775) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:597) ~[spring-context-6.1.1.jar:6.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:323) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]\n    at com.company.core.app.Application.main(Application.java:30) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]\nCaused by: java.lang.IllegalArgumentException: Invalid value type for attribute 'factoryBeanObjectType': java.lang.String\n    at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getTypeForFactoryBeanFromAttributes(FactoryBeanRegistrySupport.java:86) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:838) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:620) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:573) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:532) ~[spring-beans-6.1.1.jar:6.1.1]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:247) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:240) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:230) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:183) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:158) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.2.0.jar:3.2.0]\n    ... 20 common frames omitted\n</code></pre>\n<p>My best guess is that there is some dependency version mismatch, but I can't decipher which dependency to drill down on. My dependency tree looks like the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> +- org.springframework.security:spring-security-web:jar:6.2.0:compile\n[INFO] |  +- org.springframework:spring-core:jar:6.1.1:compile\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:6.1.1:compile\n[INFO] |  +- org.springframework:spring-aop:jar:6.1.1:compile\n[INFO] |  +- org.springframework:spring-beans:jar:6.1.1:compile\n[INFO] |  \\- org.springframework:spring-context:jar:6.1.1:compile\n[INFO] +- org.springframework.security:spring-security-core:jar:6.2.0:compile\n[INFO] |  +- org.springframework.security:spring-security-crypto:jar:6.2.0:compile\n[INFO] |  \\- io.micrometer:micrometer-observation:jar:1.12.0:compile\n[INFO] |     \\- io.micrometer:micrometer-commons:jar:1.12.0:compile\n[INFO] +- org.springframework:spring-expression:jar:6.1.1:compile\n[INFO] +- org.springframework:spring-web:jar:6.1.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:3.2.0:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:3.2.0:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:3.2.0:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.4.11:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.4.11:compile\n[INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.22.0:compile\n[INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:2.0.9:compile\n[INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:2.2:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:3.2.0:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.15.3:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.15.3:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.15.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.15.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.15.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.15.3:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.2.0:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.16:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.16:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.16:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:6.1.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:3.2.0:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:3.2.0:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.2.0:test\n[INFO] |  +- com.jayway.jsonpath:json-path:jar:2.8.0:test\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.1:test\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.2:test\n[INFO] |  +- net.minidev:json-smart:jar:2.5.0:test\n[INFO] |  |  \\- net.minidev:accessors-smart:jar:2.5.0:test\n[INFO] |  |     \\- org.ow2.asm:asm:jar:9.3:test\n[INFO] |  +- org.assertj:assertj-core:jar:3.24.2:test\n[INFO] |  |  \\- net.bytebuddy:byte-buddy:jar:1.14.10:compile\n[INFO] |  +- org.awaitility:awaitility:jar:4.2.0:test\n[INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n[INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.10.1:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.10.1:test\n[INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.3.0:test\n[INFO] |  |  |  +- org.junit.platform:junit-platform-commons:jar:1.10.1:test\n[INFO] |  |  |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n[INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.10.1:test\n[INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.10.1:test\n[INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.10.1:test\n[INFO] |  +- org.mockito:mockito-core:jar:5.7.0:test\n[INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.14.10:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:3.3:test\n[INFO] |  +- org.mockito:mockito-junit-jupiter:jar:5.7.0:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n[INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO] |  +- org.springframework:spring-test:jar:6.1.1:test\n[INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n[INFO] +- org.springframework.boot:spring-boot-devtools:jar:3.2.0:runtime\n[INFO] |  +- org.springframework.boot:spring-boot:jar:3.2.0:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:3.2.0:compile\n[INFO] +- com.googlecode.json-simple:json-simple:jar:1.1:compile\n[INFO] +- com.google.code.gson:gson:jar:2.10.1:compile\n[INFO] +- org.projectlombok:lombok:jar:1.18.30:compile\n[INFO] +- org.modelmapper.extensions:modelmapper-jackson:jar:2.4.2:compile\n[INFO] |  \\- org.modelmapper:modelmapper:jar:2.4.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.22.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.22.0:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-mongodb:jar:3.2.0:compile\n[INFO] |  +- org.mongodb:mongodb-driver-sync:jar:4.11.1:compile\n[INFO] |  |  +- org.mongodb:bson:jar:4.11.1:compile\n[INFO] |  |  \\- org.mongodb:mongodb-driver-core:jar:4.11.1:compile\n[INFO] |  |     \\- org.mongodb:bson-record-codec:jar:4.11.1:runtime\n[INFO] |  \\- org.springframework.data:spring-data-mongodb:jar:4.2.0:compile\n[INFO] |     +- org.springframework:spring-tx:jar:6.1.1:compile\n[INFO] |     \\- org.springframework.data:spring-data-commons:jar:3.2.0:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-openfeign:jar:4.0.4:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:4.0.4:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:4.0.4:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.12.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk18on:jar:1.73:compile\n[INFO] |  |        \\- org.bouncycastle:bcutil-jdk18on:jar:1.73:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-openfeign-core:jar:4.0.4:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-aop:jar:3.2.0:compile\n[INFO] |  |  |  \\- org.aspectj:aspectjweaver:jar:1.9.20.1:compile\n[INFO] |  |  \\- io.github.openfeign.form:feign-form-spring:jar:3.8.0:compile\n[INFO] |  |     \\- io.github.openfeign.form:feign-form:jar:3.8.0:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-commons:jar:4.0.4:compile\n[INFO] |  +- io.github.openfeign:feign-core:jar:12.4:compile\n[INFO] |  \\- io.github.openfeign:feign-slf4j:jar:12.4:compile\n[INFO] +- org.bouncycastle:bcprov-ext-jdk18on:jar:1.77:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-security:jar:3.2.0:compile\n[INFO] +- org.springframework.security:spring-security-oauth2-resource-server:jar:6.2.0:compile\n[INFO] |  \\- org.springframework.security:spring-security-oauth2-core:jar:6.2.0:compile\n[INFO] +- org.springframework.security:spring-security-oauth2-jose:jar:6.2.0:compile\n[INFO] |  \\- com.nimbusds:nimbus-jose-jwt:jar:9.24.4:compile\n[INFO] |     \\- com.github.stephenc.jcip:jcip-annotations:jar:1.0-1:compile\n[INFO] +- org.springframework.security:spring-security-config:jar:5.7.10:compile\n[INFO] +- javax.validation:validation-api:jar:2.0.1.Final:compile\n[INFO] +- javax.servlet:javax.servlet-api:jar:3.1.0:compile\n[INFO] +- org.hibernate.validator:hibernate-validator:jar:8.0.1.Final:compile\n[INFO] |  +- jakarta.validation:jakarta.validation-api:jar:3.0.2:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.5.3.Final:compile\n[INFO] |  \\- com.fasterxml:classmate:jar:1.6.0:compile\n[INFO] +- io.springfox:springfox-boot-starter:jar:3.0.0:compile\n[INFO] |  +- io.springfox:springfox-oas:jar:3.0.0:compile\n[INFO] |  |  +- io.swagger.core.v3:swagger-annotations:jar:2.1.2:compile\n[INFO] |  |  +- io.swagger.core.v3:swagger-models:jar:2.1.2:compile\n[INFO] |  |  +- io.springfox:springfox-spi:jar:3.0.0:compile\n[INFO] |  |  +- io.springfox:springfox-schema:jar:3.0.0:compile\n[INFO] |  |  +- io.springfox:springfox-core:jar:3.0.0:compile\n[INFO] |  |  +- io.springfox:springfox-spring-web:jar:3.0.0:compile\n[INFO] |  |  |  \\- io.github.classgraph:classgraph:jar:4.8.83:compile\n[INFO] |  |  +- io.springfox:springfox-spring-webmvc:jar:3.0.0:compile\n[INFO] |  |  +- io.springfox:springfox-spring-webflux:jar:3.0.0:compile\n[INFO] |  |  +- io.springfox:springfox-swagger-common:jar:3.0.0:compile\n[INFO] |  |  \\- org.mapstruct:mapstruct:jar:1.3.1.Final:runtime\n[INFO] |  +- io.springfox:springfox-data-rest:jar:3.0.0:compile\n[INFO] |  +- io.springfox:springfox-bean-validators:jar:3.0.0:compile\n[INFO] |  +- io.springfox:springfox-swagger2:jar:3.0.0:compile\n[INFO] |  |  +- io.swagger:swagger-annotations:jar:1.5.20:compile\n[INFO] |  |  \\- io.swagger:swagger-models:jar:1.5.20:compile\n[INFO] |  +- io.springfox:springfox-swagger-ui:jar:3.0.0:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:2.0.9:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:2.0.0.RELEASE:compile\n[INFO] |  \\- org.springframework.plugin:spring-plugin-metadata:jar:2.0.0.RELEASE:compile\n[INFO] +- io.github.openfeign:feign-okhttp:jar:11.10:compile\n[INFO] |  \\- com.squareup.okhttp3:okhttp:jar:4.12.0:compile\n[INFO] |     \\- org.jetbrains.kotlin:kotlin-stdlib-jdk8:jar:1.9.20:compile\n[INFO] |        +- org.jetbrains.kotlin:kotlin-stdlib:jar:1.9.20:compile\n[INFO] |        |  \\- org.jetbrains:annotations:jar:13.0:compile\n[INFO] |        \\- org.jetbrains.kotlin:kotlin-stdlib-jdk7:jar:1.9.20:compile\n[INFO] +- com.squareup.okio:okio:jar:3.4.0:compile\n[INFO] |  \\- com.squareup.okio:okio-jvm:jar:3.4.0:compile\n[INFO] |     \\- org.jetbrains.kotlin:kotlin-stdlib-common:jar:1.9.20:compile\n[INFO] +- com.microsoft.azure:applicationinsights-web-auto:jar:2.5.1:compile\n[INFO] +- com.opencsv:opencsv:jar:5.7.1:compile\n[INFO] |  +- org.apache.commons:commons-lang3:jar:3.13.0:compile\n[INFO] |  +- org.apache.commons:commons-text:jar:1.10.0:compile\n[INFO] |  +- commons-beanutils:commons-beanutils:jar:1.9.4:compile\n[INFO] |  |  +- commons-logging:commons-logging:jar:1.2:compile\n[INFO] |  |  \\- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] +- commons-fileupload:commons-fileupload:jar:1.5:compile\n[INFO] +- commons-io:commons-io:jar:2.11.0:compile\n[INFO] \\- org.codehaus.plexus:plexus-utils:jar:3.5.1:compile\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}