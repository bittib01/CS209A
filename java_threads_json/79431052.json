{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-websocket"
    ],
    "owner": {
      "account_id": 28725684,
      "reputation": 15,
      "user_id": 21998546,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AAcHTte7EFNY0rJgwP9Gp8S4S9wCZKe6N2Xk2ZpPaUboaQ=k-s256",
      "display_name": "Abubakr Shoaliev",
      "link": "https://stackoverflow.com/users/21998546/abubakr-shoaliev"
    },
    "is_answered": false,
    "view_count": 359,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1745494472,
    "creation_date": 1739299803,
    "last_edit_date": 1739301331,
    "question_id": 79431052,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79431052/how-to-handle-ping-messages-in-java-spring-websocket",
    "title": "How to handle ping messages in Java Spring WebSocket",
    "body": "<p>Can you please help me on how can I handle ping messages when extending a websocket handler?\nCurrently I am extending the Spring's <code>AbstractWebSocketHandler</code>, but even though I see that there exists <code>handlePongMessage()</code> method, there is no any <code>handlePingMessage()</code> function.</p>\n<p>I have tried to handle ping messages in a following way (see handleMessage() implementation):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class MyHandler extends AbstractWebSocketHandler {\n\n        // some other methods here...\n\n        @Override\n        public void handleMessage(@NonNull WebSocketSession session, @NonNull WebSocketMessage&lt;?&gt; message) {\n            try {\n                if (message instanceof PingMessage) {\n                    log.info(&quot;Received Ping from server. Sending Pong.&quot;); // I never see this log in the console when running a program\n                    session.sendMessage(new PongMessage(((PingMessage) message).getPayload()));\n                    return;\n                } else if (! (message instanceof TextMessage)) return;\n\n                String s = (String) message.getPayload();\n                // doing some processing here...\n\n            } catch (Exception e) {\n                log.error(&quot;Failed to read json data&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>However, after running the program, the <code>Received Ping from server</code> log is never printed out in the console. Therefore I assume that my implementation doesn't work actually.\nMoreover, after some time my websocket gets disconnected from the server with the following error: <code>Disconnected from websocket with code 1006 and reason &quot;Unexpected Status of SSLEngineResult after an unwrap() operation&quot;</code>\nAnd I assume this happens due to not handling the ping messages.</p>\n<p>Thank you a lot for your time!</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}