{
  "question": {
    "tags": [
      "java",
      "azure-application-insights",
      "azure-application-insights-profiler"
    ],
    "owner": {
      "account_id": 7020410,
      "reputation": 521,
      "user_id": 5380023,
      "user_type": "registered",
      "accept_rate": 75,
      "profile_image": "https://lh4.googleusercontent.com/-kdr_fpiP1cw/AAAAAAAAAAI/AAAAAAAAAXQ/KVN9ajnoOcA/s256-rj/photo.jpg",
      "display_name": "Pankaj Devrani",
      "link": "https://stackoverflow.com/users/5380023/pankaj-devrani"
    },
    "is_answered": true,
    "view_count": 719,
    "accepted_answer_id": 78165809,
    "answer_count": 3,
    "score": 0,
    "last_activity_date": 1744644189,
    "creation_date": 1708324848,
    "question_id": 78018762,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78018762/how-to-configure-sampling-for-java-application-dependency-calls-using-the-depend",
    "title": "How to configure sampling for java application dependency calls using the dependency properties in applicationinsights.json file",
    "body": "<p>I have deployed a java application in AKS with Appinsights. I am using <code>applicationinsights.json</code> to configure the appinsights in the service deployed.\nAnd I want to sample the dependency calls which has <code>Base name</code> property with certain value as per the below screenshot.</p>\n<p><a href=\"https://i.sstatic.net/v7zXw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/v7zXw.png\" alt=\"enter image description here\" /></a></p>\n<p>I have used below <code>applicationinsights.json</code> configuration file. But it did not work for me.\nI tried with strict and Regex both but that also did not work.\nCan someone please tell me how I can sample the above dependency call with <code>Base name</code> property or any other properties if possible.</p>\n<pre><code>{\n    &quot;role&quot;: {\n        &quot;name&quot;: &quot;ROLE_NAME&quot;\n    },\n    &quot;heartbeat&quot;: {\n        &quot;intervalSeconds&quot;: 60\n    },\n    &quot;preview&quot;: {\n        &quot;processors&quot;: [\n            {\n                &quot;type&quot;: &quot;attribute&quot;,\n                &quot;actions&quot;: [\n                    {\n                        &quot;key&quot;: &quot;http.url&quot;,\n                        &quot;pattern&quot;: &quot;(?&lt;redacted&gt;\\\\?.*)&quot;,\n                        &quot;replace&quot;: &quot;\\\\?***&quot;,\n                        &quot;action&quot;: &quot;mask&quot;\n                    }\n                ],\n                &quot;id&quot;: &quot;/log/maskQueryString&quot;\n            }\n        ],\n        &quot;sampling&quot;: {\n            &quot;overrides&quot;: [\n                {\n                    &quot;telemetryType&quot;: &quot;dependency&quot;,\n                    &quot;attributes&quot;: [\n                        {\n                            &quot;key&quot;: &quot;Base name&quot;,\n                            &quot;value&quot;: &quot;&lt;value of the property&gt;&quot;,\n                            &quot;matchType&quot;: &quot;strict&quot;\n                        }\n                    ],\n                    &quot;percentage&quot;: 0\n                }\n            ]\n        }\n    }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}