{
  "question": {
    "tags": [
      "java",
      "android",
      "apache-commons-io"
    ],
    "owner": {
      "account_id": 145567,
      "reputation": 18699,
      "user_id": 355456,
      "user_type": "registered",
      "accept_rate": 70,
      "profile_image": "https://www.gravatar.com/avatar/f4f63b1cbaf53262345fadcc4eac11ee?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Hong",
      "link": "https://stackoverflow.com/users/355456/hong"
    },
    "is_answered": true,
    "view_count": 91,
    "accepted_answer_id": 79736254,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1755251621,
    "creation_date": 1755207472,
    "last_edit_date": 1755251621,
    "question_id": 79735922,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79735922/post-2-5-versions-of-commons-iocommons-io-crashes-apps-on-android-devices-lower",
    "title": "Post 2.5 versions of commons-io:commons-io crashes apps on Android devices lower than Android 8",
    "body": "<p>This is related to <a href=\"https://stackoverflow.com/q/78321937/355456\">an earlier question regarding commons-io:commons-io</a>.</p>\n<p>Everything is fine if version 2.5 is used.</p>\n<pre><code>implementation 'commons-io:commons-io:2.5'\n</code></pre>\n<p>If I use any newer version, such as the latest version 2.20</p>\n<pre><code>implementation 'commons-io:commons-io:2.20'\n</code></pre>\n<p>The following crash happens on Android devices lower than Android 8:</p>\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: [Ljava/nio/file/OpenOption;\n    at org.apache.commons.io.file.PathUtils.&lt;clinit&gt;(PathUtils.java:201)\n    at org.apache.commons.io.build.AbstractStreamBuilder.&lt;clinit&gt;(AbstractStreamBuilder.java:47)\n    at org.apache.commons.io.output.UnsynchronizedByteArrayOutputStream.builder(UnsynchronizedByteArrayOutputStream.java:101)\n    at org.apache.commons.io.IOUtils.toByteArray(IOUtils.java:2681)\n</code></pre>\n<p>It is caused by the following code:</p>\n<pre><code>InputStream stream\n...\nbyte[] foo = IOUtils.toByteArray(stream);\n</code></pre>\n<p>Desugaring is enabled:</p>\n<pre><code>coreLibraryDesugaringEnabled = false\n\ncoreLibraryDesugaring com.android.tools:desugar_jdk_libs:2.1.5\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/78321937/is-it-possible-to-use-newer-versions-of-commons-io-for-older-android-devices?noredirect=1#comment138098201_78321937\">A comment suggests it is related to Java 8</a>.</p>\n<p>Could anyone offer a tip on its remedy?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}