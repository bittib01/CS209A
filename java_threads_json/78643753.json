{
  "question": {
    "tags": [
      "java",
      "android",
      "android-camera",
      "android-source"
    ],
    "owner": {
      "account_id": 9514210,
      "reputation": 427,
      "user_id": 7071193,
      "user_type": "registered",
      "accept_rate": 50,
      "profile_image": "https://i.sstatic.net/K9woC.jpg?s=256",
      "display_name": "jesusjimsa",
      "link": "https://stackoverflow.com/users/7071193/jesusjimsa"
    },
    "is_answered": false,
    "view_count": 76,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1719996856,
    "creation_date": 1718816188,
    "last_edit_date": 1718880793,
    "question_id": 78643753,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78643753/android-where-does-camerainfo-gets-the-information-from",
    "title": "Android: Where does CameraInfo gets the information from?",
    "body": "<p>I am working on an Android device with a camera set up in vertical orientation. The problem I am trying to fix is that, when you take a picture with the Camera app, the image gets saved in horizontal mode instead of vertical mode. Basically, it's like it's rotating the image when saving it.</p>\n<p>I have managed to make the camera save the images in vertical orientation by modifying the <em>LegacyCamera</em> app's code in <code>packages/apps/LegacyCamera/src/com/android/camera/Camera.java</code>. I have done this in the <code>storeImage</code> function:</p>\n<pre><code>private void storeImage(final byte[] data, Location loc, int width,\n                int height, long dateTaken, int previewWidth) {\n            String title = Util.createJpegName(dateTaken);\n            int orientation = Exif.getOrientation(data);\n            CameraInfo info = CameraHolder.instance().getCameraInfo()[mCameraId];    // This is my change\n\n            // Fix the orientation\n            orientation = info.orientation;    // This is also my change\n\n            Uri uri = Storage.addImage(mContentResolver, title, dateTaken,\n                    loc, orientation, data, width, height);\n</code></pre>\n<p>This does work, however, I would prefer to not have to modify the system code. Instead, I would like to change some configuration file or something like that to make the orientation of the pictures correct.</p>\n<p>So, basically, my question is, where does <em>CameraInfo</em> gets its information from? I have been trying to find something in the Android documentation or in the code, but I haven't been able to see where it's reading that value from. Is there a way I can find that?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}