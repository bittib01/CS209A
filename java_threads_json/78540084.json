{
  "question": {
    "tags": [
      "java",
      "json"
    ],
    "owner": {
      "account_id": 15517999,
      "reputation": 11,
      "user_id": 11194897,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/920d271f5a867f1c15817a19612ea23a?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "vss",
      "link": "https://stackoverflow.com/users/11194897/vss"
    },
    "is_answered": false,
    "view_count": 70,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1724635207,
    "creation_date": 1716825483,
    "last_edit_date": 1724635207,
    "question_id": 78540084,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78540084/appending-data-to-json-file",
    "title": "Appending data to json file",
    "body": "<p>When I am calling the <code>writeToJsonFile</code> <strike>function</strike> method, it's writing properly to the file, but when I am calling <code>UpdateJSONFileData</code>, instead of appending the data to file it's overwriting.</p>\n<p>The objective here is to write the data to file by either passing directly key and value or by passing the object</p>\n<pre><code>public static void writeTojsonFile(String key, \n                                   String value, \n                                   String fileName, \n                                   Object object)\n{\nJSONObject jsonObject = new JSONObject();\nObjectMapper objectMapper= new ObjectMapper();\ntry{\n  FileWriter file = new FileWriter(filePath);\n  if(object == null)\n  {\n     jsonObject.put(key, value);\n     file.write(jsonObject.toJSONString());\n     file.flush();\n   }\n else\n {\n     objectMapper.writeValue(new File(fileName), object);\n  }\n}catch (IOException e) {\ne.printStackTrace();\n}}\n\npublic static void UpdateJSONFileData(String Key, \n                                      String value, \n                                      String filePath, \n                                      Object object) throws\n                                           FileNotFoundException, \n                                           IOException, \n                                           ParseException {\n\nObjectMapper objectMapper = new ObjectMapper()\nObjectNode objectNode = new ObjectNode(null);\nobjectNode = objectMapper.readValue(new File(filePath), objectNode.getClass());\nif(object == null)\n   {\n       objectNode.put(key, value);\n       objectMapper.writeValue(new File(filePath), objectNode);\n   }\nelse{\n       objectMapper.writeValue(new File(filePath), object);\n    }\n}\n</code></pre>\n<p>Currently I am calling the <strike>function</strike> method as</p>\n<pre><code>writeTojsonFile(&quot;Role&quot;, &quot;Engineer&quot;, &quot;/src/employeeInfo.json&quot;, null)\n\nJSONObject empInfo = new JSONObject();\nempInfo.put(&quot;ID&quot;,&quot;1234&quot;);\nempInfo.put(&quot;Name&quot;,&quot;John&quot;)\n\nUpdateJSONFileData(&quot;&quot;,&quot;&quot;, &quot;/src/employeeInfo.json&quot;, empInfo)\n</code></pre>\n<p>Required output is:</p>\n<pre><code>{&quot;Role&quot;:&quot;Engineer&quot;,&quot;ID&quot;:&quot;1234&quot;, &quot;Name&quot;:&quot;John&quot;}\n</code></pre>\n<p>but it's overwriting as:</p>\n<pre><code>{&quot;ID&quot;:&quot;1234&quot;, &quot;Name&quot;:&quot;John&quot;}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}