{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "multipartform-data",
      "resttemplate"
    ],
    "owner": {
      "account_id": 15683450,
      "reputation": 97,
      "user_id": 11791924,
      "user_type": "registered",
      "profile_image": "https://lh6.googleusercontent.com/-9XdNkZ61ZLw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reezyRI8oW_zUDBoYeqEpdPgPUQ8A/mo/s256-rj/photo.jpg",
      "display_name": "FPS Bard",
      "link": "https://stackoverflow.com/users/11791924/fps-bard"
    },
    "is_answered": false,
    "view_count": 346,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1736447711,
    "creation_date": 1723818479,
    "last_edit_date": 1723819116,
    "question_id": 78879602,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78879602/receive-multivaluemap-multipart-form-data-with-resttemplate",
    "title": "Receive MultiValueMap multipart/form-data with RestTemplate",
    "body": "<p>I have problem with this case, hope somebody will help me.</p>\n<p>So I have mocked get server:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/getMsgFileExt&quot;,\n            produces = MediaType.MULTIPART_FORM_DATA_VALUE)\n    public ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; getMsgFileExt() throws IOException {\n    MultiValueMap&lt;String, Object&gt; formData = new LinkedMultiValueMap&lt;&gt;();\n    Path path = Paths.get(&quot;C:\\\\Users\\\\User\\\\IdeaProjects\\\\ccgw_sources\\\\TKmock\\\\src\\\\main\\\\resources\\\\test.txt.zip.total.zip&quot;);\n    formData.add(&quot;xml&quot;, respDataMsgInfo);\n    formData.add(&quot;zip&quot;, Base64.getEncoder().encodeToString(Files.readAllBytes(path)));\n        return new ResponseEntity&lt;&gt;(formData, HttpStatus.OK);\n}\n</code></pre>\n<p>And Receiver on client side :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String uri = String.format(&quot;%s/getMsgFileExt&quot;, customsUrl);\n\nUriComponents builder = UriComponentsBuilder.fromHttpUrl(uri)\n  .queryParam(&quot;id&quot;, id)\n  .build();\n\n ResponseEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; response = customsCardRestTemplate.exchange(builder.toUriString(), HttpMethod.GET,\n                                                                                                  null,\n                                                                                                  new ParameterizedTypeReference&lt;&gt;() {});\nMultiValueMap&lt;String, Object&gt; map = response.getBody();\n</code></pre>\n<p>But i got this exception :</p>\n<pre><code>Could not extract response: no suitable HttpMessageConverter found for response type [org.springframework.util.MultiValueMap&lt;java.lang.String, java.lang.Object&gt;] and content type [multipart/form-data]\n</code></pre>\n<p>I already read this topic <a href=\"https://stackoverflow.com/questions/65762857/resttemplate-multipart-form-data-response\">RestTemplate &amp; multipart/form-data response</a>, but I am sure that spring boot has another solution.\nOr Maybe we have another way to send/receive multipart with xml and zip?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}