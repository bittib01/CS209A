{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "jooq"
    ],
    "owner": {
      "account_id": 26325024,
      "reputation": 35,
      "user_id": 19986475,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AItbvmle6HH1N-9L5qhHtD9jIWpnTc3ZjGIXWWFKoHLc=k-s256",
      "display_name": "aleks",
      "link": "https://stackoverflow.com/users/19986475/aleks"
    },
    "is_answered": true,
    "view_count": 117,
    "accepted_answer_id": 79530472,
    "answer_count": 2,
    "score": 2,
    "last_activity_date": 1742803462,
    "creation_date": 1742295300,
    "last_edit_date": 1742295475,
    "question_id": 79517149,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79517149/how-to-exclude-null-values-when-performing-update-in-jooq-rest-api-patch",
    "title": "How to exclude null values when performing update in JOOQ (REST API PATCH)?",
    "body": "<pre class=\"lang-java prettyprint-override\"><code>public BankResponse update(BankUpdateRequest request, Integer id) {\n  UpdateSetFirstStep&lt;BankRecord&gt; update = dsl.update(BANK);\n  UpdateSetMoreStep&lt;BankRecord&gt; moreStep = null;\n\n  if (request.naziv() != null) moreStep = update.set(BANK.NAME, request.naziv());\n  if (request.ziroRacun() != null) moreStep = (moreStep != null ? moreStep : update).set(BANK.BANK_ACCOUNT, request.ziroRacun());\n  if (request.fax() != null) moreStep = (moreStep != null ? moreStep : update).set(BANK.FAX, request.fax());\n\n  if (moreStep == null) {\n     throw new IllegalStateException(&quot;No fields to update&quot;);\n  }\n\n  return moreStep\n        .where(BANK.ID.eq(id))\n        .returning()\n        .fetchOptional()\n        .map(r -&gt; r.into(BankResponse.class))\n        .orElseThrow(() -&gt; new ResourceNotFoundException(EntityType.BANK, id));\n}\n</code></pre>\n<p>Is there a more elegant way to do this in Java JOOQ?\nThe current approach works, but it's going to get increasingly more complex the more fields there are in a given record.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}