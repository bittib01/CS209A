{
  "question": {
    "tags": [
      "java",
      "visual-studio",
      "java-native-interface"
    ],
    "owner": {
      "account_id": 326771,
      "reputation": 3201,
      "user_id": 648725,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/c124c6ce39ee7062616218687d4b4fc8?s=256&d=identicon&r=PG",
      "display_name": "Dmitry Negoda",
      "link": "https://stackoverflow.com/users/648725/dmitry-negoda"
    },
    "is_answered": false,
    "view_count": 44,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1724355980,
    "creation_date": 1724337008,
    "last_edit_date": 1724355980,
    "question_id": 78902106,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78902106/how-do-i-debug-a-jni-dll-using-visual-studio-c-debugger",
    "title": "How do I debug a JNI dll using Visual Studio C++ debugger?",
    "body": "<p>I have written a JNI library. It works fine when running in java.exe - the output from printf in the C code is shown in the console. However, when I run java.exe from the Visual studio debugger - the debugger does not start, and an internal exception is thrown. I can still run java.exe from Visual Studio without debugging and it runs fine. I also tried to run a separate java.exe process and connect to it through the debugger. I receive lots of messages like this:</p>\n<pre><code>Exception thrown at 0x00007FFDA4CAB699 in java.exe: Microsoft C++ exception: JdsError&lt;ipc::TimeoutExpiredError&gt; at memory location 0x000000135E31F1C0\n</code></pre>\n<p>and nothing happens. I run the &quot;Debug&quot; configuration of my dll, of course. I loaded the dll using System.loadLibrary(...).</p>\n<pre><code>JRE version: Java(TM) SE Runtime Environment (22.0.2+9) (build 22.0.2+9-70)\nJava VM: Java HotSpot(TM) 64-Bit Server VM (22.0.2+9-70, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, windows-amd64)\n</code></pre>\n<p>I tried Oracle JDK 11, OpenJDK 11 - same result. The Java main() method is not even invoked when run under the debugger.</p>\n<p>I use Visual Studio 2022</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}