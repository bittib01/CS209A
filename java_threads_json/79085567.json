{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "mybatis-plus"
    ],
    "owner": {
      "account_id": 36506864,
      "reputation": 11,
      "user_id": 27774151,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0f3e0ab6a365e56f75fb2f9dc766fdf4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Carl",
      "link": "https://stackoverflow.com/users/27774151/carl"
    },
    "is_answered": false,
    "view_count": 929,
    "answer_count": 3,
    "score": 0,
    "last_activity_date": 1752822389,
    "creation_date": 1728898190,
    "question_id": 79085567,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79085567/org-springframework-beans-factory-beandefinitionstoreexception-invalid-bean-def",
    "title": "org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name &#39;bookDao&#39; defined in file",
    "body": "<p>I just started to learn some springboot project, here is a problem which i have no idea how to solve it and i do not even know what's happenning.</p>\n<p>BookDao.java</p>\n<pre><code>package com.carl.dao;\n\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\nimport com.carl.domain.Book;\nimport org.apache.ibatis.annotations.Mapper;\n\n@Mapper\npublic interface BookDao extends BaseMapper&lt;Book&gt; {\n}\n</code></pre>\n<p>Book.java</p>\n<pre><code>package com.carl.domain;\n\nimport lombok.Data;\n \n@Data\npublic class Book  {\n    private Integer id;\n    private String type;\n    private String name;\n    private String description;\n}\n</code></pre>\n<p>SSMPApplication.java</p>\n<pre><code>package com.carl;\n\nimport org.mybatis.spring.annotation.MapperScan;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@MapperScan(&quot;com.carl.dao&quot;)\npublic class SSMPApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SSMPApplication.class, args);\n    }\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>server:\n  port: 8888\n\nspring:\n  datasource:\n    druid:\n      driver-class-name: com.mysql.cj.jdbc.Driver\n      url: jdbc:mysql://localhost:3306/books?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8\n      username: root\n      password: root\n  main:\n    allow-bean-definition-overriding: true\n\nmybatis-plus:\n  global-config:\n    db-config:\n      id-type: auto\n  configuration:\n    log-impl: org.apache.ibatis.logging.commons.JakartaCommonsLoggingImpl\n  mapper-locations: classpath*:mapper/*.xml\n  type-aliases-package: com.carl.domain\n</code></pre>\n<p>BookDaoTestCase.java</p>\n<pre><code>package com.carl.dao;\n\nimport com.carl.domain.Book;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\npublic class BookDaoTestCase {\n\n    @Autowired\n    private BookDao bookDao;\n\n    @Test\n    void getBookById() {\n        System.out.println(bookDao.selectById(1));\n    }\n\n    @Test\n    void getAllBooks() {\n        System.out.println(bookDao.selectList(null));\n    }\n\n    @Test\n    void updateBookById() {\n        Book book = new Book();\n        book.setId(10);\n        book.setType(&quot;a&quot;);\n        book.setName(&quot;a&quot;);\n        book.setDescription(&quot;a&quot;);\n        System.out.println(bookDao.updateById(book));\n    }\n\n    @Test\n    void deleteBookById() {\n        System.out.println(bookDao.deleteById(0));\n    }\n\n    @Test\n    void addNewBook() {\n        Book book = new Book();\n        book.setType(&quot;b&quot;);\n        book.setName(&quot;b&quot;);\n        book.setDescription(&quot;b&quot;);\n        System.out.println(bookDao.insert(book));\n    }\n\n}\n</code></pre>\n<p>That's pretty much all I have right now, and i get the wrong situations below</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@748d2277 testClass = com.carl.dao.BookDaoTestCase, locations = [], classes = [com.carl.SSMPApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@41e1e210, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1ba9117e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@10163d6, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@793be5ca, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@fa49800, org.springframework.boot.test.context.SpringBootTestAnnotation@ee5424e7], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nCaused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'bookDao' defined in file [/Users/zhanghuanjin/Documents/Projects/Springboot/springboot_01_01_quickstart/target/classes/com/carl/dao/BookDao.class]: Invalid value type for attribute 'factoryBeanObjectType': java.lang.String\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryBean(AbstractAutowireCapableBeanFactory.java:857)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getType(AbstractBeanFactory.java:743)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAnnotationOnBean(DefaultListableBeanFactory.java:735)\n    at org.springframework.boot.sql.init.dependency.AnnotationDependsOnDatabaseInitializationDetector.detect(AnnotationDependsOnDatabaseInitializationDetector.java:36)\n    at org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor.detectDependsOnInitializationBeanNames(DatabaseInitializationDependencyConfigurer.java:152)\n    at org.springframework.boot.sql.init.dependency.DatabaseInitializationDependencyConfigurer$DependsOnDatabaseInitializationPostProcessor.postProcessBeanFactory(DatabaseInitializationDependencyConfigurer.java:115)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:363)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:789)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:607)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:335)\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)\n</code></pre>\n<p>Very confused about what's going on, please make comment if you know anything.</p>\n<p>I'm trying to figure what causes the problem and how to fix it</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}