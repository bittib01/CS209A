{
  "question": {
    "tags": [
      "java",
      "solr"
    ],
    "owner": {
      "account_id": 25917617,
      "reputation": 44,
      "user_id": 24144398,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/a3ca783f3676ed18df87a73bd40b53ff?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Cosmin Drăguşanu",
      "link": "https://stackoverflow.com/users/24144398/cosmin-dr%c4%83gu%c5%9fanu"
    },
    "is_answered": false,
    "view_count": 294,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1721931765,
    "creation_date": 1721744482,
    "last_edit_date": 1721931765,
    "question_id": 78784001,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78784001/solr-9-6-works-only-on-docker",
    "title": "Solr 9.6 works only on docker",
    "body": "<p>After I installed solr on my machine to test for upgrade implementation to the latest 9.6.1 version I get no error in starting up solr, however when I access localhost:8983 or localhost:8983/solr/#/ I get ERR_EMPTY_RESPONSE.\nThe logs look like this:\nstarting logs:</p>\n<pre><code>./solr start\n\n*** [WARN] *** Your open file limit is currently 1024.  \n It should be set to 65000 to avoid operational disruption.\n If you no longer wish to see this warning, set SOLR_ULIMIT_CHECKS to false in your profile or solr.in.sh\n*** [WARN] ***  Your Max Processes Limit is currently 55511.\n It should be set to 65000 to avoid operational disruption.\n If you no longer wish to see this warning, set SOLR_ULIMIT_CHECKS to false in your profile or solr.in.sh\nWaiting up to 180 seconds to see Solr running on port 8983 [|]  \nStarted Solr server on port 8983 (pid=7807). Happy searching!\n</code></pre>\n<p><strong>this is the solr.log:</strong></p>\n<pre><code>2024-07-23 14:02:14.374 INFO  (main) [c: s: r: x: t:] o.e.j.s.Server jetty-10.0.20; built: 2024-01-29T20:46:45.278Z; git: 3a745c71c23682146f262b99f4ddc4c1bc41630c; jvm 11.0.23+9-post-Ubuntu-1ubuntu122.04.1\n2024-07-23 14:02:17.943 WARN  (main) [c: s: r: x: t:] o.e.j.u.DeprecationWarning Using @Deprecated Class org.eclipse.jetty.servlet.listener.ELContextCleaner\n2024-07-23 14:02:18.028 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider Using logger factory org.apache.logging.slf4j.Log4jLoggerFactory\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider  ___      _       Welcome to Apache Solr™ version 9.6.1\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider / __| ___| |_ _   Starting in standalone mode on port 8983\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider \\__ \\/ _ \\ | '_|  Install dir: /mnt/c/users/cosmin/Downloads/solr-9.6.1\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider |___/\\___/_|_|    Start time: 2024-07-23T14:02:18.047773Z\n2024-07-23 14:02:18.051 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider Solr started with &quot;-XX:+CrashOnOutOfMemoryError&quot; that will crash on any OutOfMemoryError exception. The cause of the OOME will be logged in the crash file at the following path: /mnt/c/users/cosmin/Downloads/solr-9.6.1/server/logs/jvm_crash_7807.log\n2024-07-23 14:02:18.121 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider Solr Home: /mnt/c/users/cosmin/Downloads/solr-9.6.1/server/solr (source: system property: solr.solr.home)\n2024-07-23 14:02:18.168 INFO  (main) [c: s: r: x: t:] o.a.s.c.SolrXmlConfig Loading solr.xml from /mnt/c/users/cosmin/Downloads/solr-9.6.1/server/solr/solr.xml\n2024-07-23 14:02:18.269 INFO  (main) [c: s: r: x: t:] o.a.s.c.SolrResourceLoader Added 1 libs to classloader, from paths: [/mnt/c/users/cosmin/Downloads/solr-9.6.1/lib]\n2024-07-23 14:02:20.368 INFO  (main) [c: s: r: x: t:] o.a.s.u.t.SimplePropagator Always-on trace id generation enabled.\n2024-07-23 14:02:21.010 WARN  (main) [c: s: r: x: t:] o.a.s.u.StartupLoggingUtils Jetty request logging enabled. Will retain logs for last 3 days. See chapter &quot;Configuring Logging&quot; in reference guide for how to configure.\n2024-07-23 14:02:21.020 WARN  (main) [c: s: r: x: t:] o.a.s.c.CoreContainer Not all security plugins configured!  authentication=disabled authorization=disabled.  Solr is only as secure as you make it. Consider configuring authentication/authorization before exposing Solr to users internal or external.  See https://s.apache.org/solrsecurity for more info\n2024-07-23 14:02:21.541 INFO  (main) [c: s: r: x: t:] o.a.s.c.CorePropertiesLocator Found 0 core definitions underneath /mnt/c/users/cosmin/Downloads/solr-9.6.1/server/solr\n2024-07-23 14:02:22.219 WARN  (main) [c: s: r: x: t:] o.g.j.m.i.MessagingBinders A class jakarta.activation.DataSource for a default provider MessageBodyWriter&lt;jakarta.activation.DataSource&gt; was not found. The provider is not available.\n2024-07-23 14:02:22.950 INFO  (main) [c: s: r: x: t:] o.a.s.j.SolrRequestAuthorizer Creating a new SolrRequestAuthorizer\n2024-07-23 14:02:23.242 INFO  (main) [c: s: r: x: t:] o.e.j.s.h.ContextHandler Started o.e.j.w.WebAppContext@6c451c9c{solr-jetty-context.xml,/solr,file:///mnt/c/users/cosmin/Downloads/solr-9.6.1/server/solr-webapp/webapp/,AVAILABLE}{/mnt/c/users/cosmin/Downloads/solr-9.6.1/server/solr-webapp/webapp}\n2024-07-23 14:02:23.259 INFO  (main) [c: s: r: x: t:] o.e.j.s.RequestLogWriter Opened /mnt/c/users/cosmin/Downloads/solr-9.6.1/server/logs/2024_07_23.request.log\n2024-07-23 14:02:23.266 INFO  (main) [c: s: r: x: t:] o.e.j.s.AbstractConnector Started ServerConnector@878452d{HTTP/1.1, (http/1.1, h2c)}{127.0.0.1:8983}\n2024-07-23 14:02:23.270 INFO  (main) [c: s: r: x: t:] o.e.j.s.Server Started Server@6326d182{STARTING}[10.0.20,sto=0] @11571ms\n</code></pre>\n<p>about the CrashOnOutOfMemoryError warning i have no crash report\nand i get roughly the same from solr-8983-console.log</p>\n<pre><code>OpenJDK 64-Bit Server VM warning: Failed to reserve shared memory. (error = 1)\nOpenJDK 64-Bit Server VM warning: Failed to reserve shared memory. (error = 12)\nOpenJDK 64-Bit Server VM warning: Failed to reserve shared memory. (error = 12)\n2024-07-23 14:02:14.374 INFO  (main) [c: s: r: x: t:] o.e.j.s.Server jetty-10.0.20; built: 2024-01-29T20:46:45.278Z; git: 3a745c71c23682146f262b99f4ddc4c1bc41630c; jvm 11.0.23+9-post-Ubuntu-1ubuntu122.04.1\n2024-07-23 14:02:17.943 WARN  (main) [c: s: r: x: t:] o.e.j.u.DeprecationWarning Using @Deprecated Class org.eclipse.jetty.servlet.listener.ELContextCleaner\n2024-07-23 14:02:18.028 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider Using logger factory org.apache.logging.slf4j.Log4jLoggerFactory\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider  ___      _       Welcome to Apache Solr™ version 9.6.1\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider / __| ___| |_ _   Starting in standalone mode on port 8983\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider \\__ \\/ _ \\ | '_|  Install dir: /mnt/c/users/cosmin/Downloads/solr-9.6.1\n2024-07-23 14:02:18.047 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider |___/\\___/_|_|    Start time: 2024-07-23T14:02:18.047773Z\n2024-07-23 14:02:18.051 INFO  (main) [c: s: r: x: t:] o.a.s.s.CoreContainerProvider Solr started with &quot;-XX:+CrashOnOutOfMemoryError&quot; that will crash on any OutOfMemoryError exception. The cause of the OOME will be logged in the crash file at the following path: /mnt/c/users/cosmin/Downloads/solr-9.6.1/server/logs/jvm_crash_7807.log\n</code></pre>\n<p><strong>the status is running</strong> and I do not see any problem in the logs\nI am using java 11 which is the recommended version</p>\n<p>I tried reinstalling the tar file and starting solr again.\ni increased the open file limit to:</p>\n<pre><code>ulimit -n 65000\nulimit -u 65000\n</code></pre>\n<p>I tried allocating more memory to java heap\nSOLR_HEAP=&quot;512m&quot;\nand SOLR_JAVA_MEM=&quot;-Xms512m -Xmx1g&quot;\ni checked the ports and moved solr to 8984 but still the same issue\nOnly when i installed solr on docker it worked but since i need to delete and remake a lot of cores i would’ve prefered running solr on local machine instead of docker.\nWsl and vms also don’t work</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}