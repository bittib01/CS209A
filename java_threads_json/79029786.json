{
  "question": {
    "tags": [
      "python",
      "java",
      "google-chrome",
      "selenium-webdriver"
    ],
    "owner": {
      "account_id": 35071565,
      "reputation": 1,
      "user_id": 26960498,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/8c13d8d80e3f0f79c723aada38031576?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "海绵宝宝",
      "link": "https://stackoverflow.com/users/26960498/%e6%b5%b7%e7%bb%b5%e5%ae%9d%e5%ae%9d"
    },
    "is_answered": false,
    "view_count": 101,
    "answer_count": 1,
    "score": -2,
    "last_activity_date": 1735847771,
    "creation_date": 1727409616,
    "last_edit_date": 1735847771,
    "question_id": 79029786,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79029786/the-same-command-runs-perfectly-when-executed-directly-on-the-linux-server-but",
    "title": "The same command runs perfectly when executed directly on the Linux server, but it fails when called from the Java program when use selenium",
    "body": "<p>I have a Python script that uses pyhtml2pdf:</p>\n<pre class=\"lang-py prettyprint-override\"><code>\nimport os\nimport sys\nfrom pyhtml2pdf import converter\n\ndef convert_html_to_pdf(html_path, pdf_path):\n    absolute_html_path = os.path.abspath(html_path)\n    converter.convert(f'file:///{absolute_html_path}', pdf_path, 60, False, 0, False)\n\nif __name__ == &quot;__main__&quot;:\n    if len(sys.argv) != 3:\n        print(&quot;Usage: python3 test.py &lt;html_path&gt; &lt;pdf_path&gt;&quot;)\n    else:\n        html_path = sys.argv[1]\n        pdf_path = sys.argv[2]\n        convert_html_to_pdf(html_path, pdf_path)\n</code></pre>\n<p>When I run the command directly on a Linux server:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>DISPLAY=:99 python3 test.py 298.html 298.pdf\n</code></pre>\n<p>it executes perfectly, and 298.pdf is generated. However, when I try to run this command from within a Java program using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String comds = &quot;DISPLAY=:99 python3 test.py 298.html 298.pdf&quot;;\nRuntime.getRuntime().exec(comds);\n</code></pre>\n<p>I encounter the error:</p>\n<p>2024-09-27 11:33:14 - ERROR&gt;Traceback (most recent call last):</p>\n<pre><code>2024-09-27 11:33:14 - ERROR&gt;Traceback (most recent call last):\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;test.py&quot;, line 15, in &lt;module&gt;\n2024-09-27 11:33:14 - ERROR&gt;    convert_html_to_pdf(html_path, pdf_path)\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;test.py&quot;, line 7, in convert_html_to_pdf\n2024-09-27 11:33:14 - ERROR&gt;    converter.convert(f'file:///{absolute_html_path}', pdf_path, 20, False, 0, False)\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;/usr/local/lib/python3.6/site-packages/pyhtml2pdf/converter.py&quot;, line 39, in convert\n2024-09-27 11:33:14 - ERROR&gt;    source, timeout, install_driver, print_options)\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;/usr/local/lib/python3.6/site-packages/pyhtml2pdf/converter.py&quot;, line 79, in __get_pdf_from_html\n2024-09-27 11:33:14 - ERROR&gt;    driver = webdriver.Chrome(options=webdriver_options)\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;/usr/local/lib/python3.6/site-packages/selenium/webdriver/chrome/webdriver.py&quot;, line 73, in __init__\n2024-09-27 11:33:14 - ERROR&gt;    self.service.start()\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;/usr/local/lib/python3.6/site-packages/selenium/webdriver/common/service.py&quot;, line 98, in start\n2024-09-27 11:33:14 - ERROR&gt;    self.assert_process_still_running()\n2024-09-27 11:33:14 - ERROR&gt;  File &quot;/usr/local/lib/python3.6/site-packages/selenium/webdriver/common/service.py&quot;, line 111, in assert_process_still_running\n2024-09-27 11:33:14 - ERROR&gt;    % (self.path, return_code)\n2024-09-27 11:33:14 - ERROR&gt;selenium.common.exceptions.WebDriverException: Message: Service chromedriver unexpectedly exited. Status code was: -11\n2024-09-27 11:33:14 - ERROR&gt;\n</code></pre>\n<p>How can I resolve this issue?</p>\n<pre class=\"lang-bash prettyprint-override\"><code>chromedriver -v\nChromeDriver 129.0.6668.70\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}