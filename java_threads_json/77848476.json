{
  "question": {
    "tags": [
      "java",
      "ssl",
      "tomcat",
      "ssl-certificate",
      "tomcat8"
    ],
    "owner": {
      "account_id": 13910104,
      "reputation": 15,
      "user_id": 10043520,
      "user_type": "registered",
      "profile_image": "https://lh4.googleusercontent.com/-Xzw1USpWQcU/AAAAAAAAAAI/AAAAAAAACKY/mrGpOvYJyf0/s256-rj/photo.jpg",
      "display_name": "Everton Colombo",
      "link": "https://stackoverflow.com/users/10043520/everton-colombo"
    },
    "is_answered": true,
    "view_count": 712,
    "accepted_answer_id": 78484278,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1715779470,
    "creation_date": 1705693470,
    "question_id": 77848476,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77848476/setting-up-ssl-certificate-apr-tomcat-native-library-installed-but-apr-connect",
    "title": "Setting up SSL certificate: APR tomcat-native Library installed, but APR Connector does not initialize",
    "body": "<p>I'm trying to setup HTTPS with the certificate, certificateKey and certificateChain files that I got from my CA. I've been trying to install them on an Apache 8.5 server, and, as per Apache's docs, I edited the server.xml file to contain the following:</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot; maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n        &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n        &lt;SSLHostConfig&gt;\n            &lt;Certificate certificateKeyFile=&quot;conf/cert/private.key&quot; certificateFile=&quot;conf/cert/certificate.crt&quot; certificateChainFile=&quot;conf/cert/ca_bundle.crt&quot; type=&quot;RSA&quot; /&gt;\n        &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>However, when I start Tomcat, I get the following error, even though I have already installed the APR tomcat native library:</p>\n<pre><code>org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: [/usr/local/jdk1.8.0_131/jre/lib/amd64:/usr/local/jdk1.8.0_131/jre/lib/i386::/home/conecta/Documentos/apache-tomcat-8.5.32/lib:/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib]\n\n org.apache.catalina.LifecycleException: Failed to initialize component [Connector[org.apache.coyote.http11.Http11AprProtocol-8443]]\n(Stack trace ...)\nCaused by: org.apache.catalina.LifecycleException: The configured protocol [org.apache.coyote.http11.Http11AprProtocol] requires the APR/native library which is not available\n</code></pre>\n<p>Here are my $CATALINA_HOME/lib folder's contents:</p>\n<pre><code>annotations-api.jar       catalina-tribes.jar  jaspic-api.jar    libtcnative-2.so.0      tomcat-dbcp.jar     tomcat-jni.jar\ncatalina-ant.jar          ecj-4.6.3.jar        jsp-api.jar       libtcnative-2.so.0.0.6  tomcat-i18n-es.jar  tomcat-util.jar\ncatalina-ha.jar           el-api.jar           libtcnative-2.a   servlet-api.jar         tomcat-i18n-fr.jar  tomcat-util-scan.jar\ncatalina.jar              jasper-el.jar        libtcnative-2.la  tomcat-api.jar          tomcat-i18n-ja.jar  tomcat-websocket.jar\ncatalina-storeconfig.jar  jasper.jar           libtcnative-2.so  tomcat-coyote.jar       tomcat-jdbc.jar     websocket-api.jar\n\n</code></pre>\n<p>(Also, I have updated LD_LIBRARY_PATH to contain the lib folder, within setenv.sh)</p>\n<p>Any ideas on what could be going wrong?</p>\n<p>I tried following <a href=\"https://tomcat.apache.org/native-doc/\" rel=\"nofollow noreferrer\">this</a> guide on intalling Tomcat's native library, which I expected would solve my issue, but it didn't.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}