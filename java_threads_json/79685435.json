{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "apache-kafka"
    ],
    "owner": {
      "account_id": 15900189,
      "reputation": 1,
      "user_id": 30934434,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/-8HIn6FF91eg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfdPX3GaAWAXkG9gRgBsvXtI2aE7w/mo/s256-rj/photo.jpg",
      "display_name": "Mason",
      "link": "https://stackoverflow.com/users/30934434/mason"
    },
    "is_answered": false,
    "view_count": 69,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1752170765,
    "creation_date": 1751334913,
    "last_edit_date": 1752170765,
    "question_id": 79685435,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79685435/forkjoinpool-using-appclassloader-classnotfoundexception",
    "title": "ForkJoinPool Using AppClassLoader + ClassNotFoundException",
    "body": "<p>When using a Kafka producer via a third party library in a Spring Boot application packaged as a fat JAR, Kafka's StringSerializer (and other Kafka classes) are not found in async threads spun off by the producer. The exception thrown is java.lang.ClassNotFoundException: org.apache.kafka.common.serialization.StringSerializer.</p>\n<p>On investigation, I found the the main application thread sees TomcatEmbeddedLoader + LaunchedClassLoader, which can load the dependencies from BOOT-INF/lib, but async threads from the ForkJoinPool use the AppClassLoader.</p>\n<p>Is there any way to force the ForkJoinPool to use the correct class loader or how can this be resolved?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}