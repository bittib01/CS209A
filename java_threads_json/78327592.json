{
  "question": {
    "tags": [
      "java",
      "kubernetes"
    ],
    "owner": {
      "account_id": 20412920,
      "reputation": 83,
      "user_id": 14975858,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiUtrON82JXTkcMpAGUcuFF1HsEPu-kuYtoZHYVug=k-s256",
      "display_name": "aman kumar chagti",
      "link": "https://stackoverflow.com/users/14975858/aman-kumar-chagti"
    },
    "is_answered": true,
    "view_count": 202,
    "accepted_answer_id": 78328637,
    "answer_count": 1,
    "score": -2,
    "last_activity_date": 1715663362,
    "creation_date": 1713175470,
    "last_edit_date": 1715663362,
    "question_id": 78327592,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78327592/forbidden-exception-in-thread-main-io-kubernetes",
    "title": "Forbidden Exception in thread &quot;main&quot; io.kubernetes",
    "body": "<p>I am using Kubernetes java client for creating a basic pod in my Kubernetes Cluster using following code:</p>\n<pre><code>import io.kubernetes.client.openapi.ApiClient;\nimport io.kubernetes.client.openapi.ApiException;\nimport io.kubernetes.client.openapi.Configuration;\nimport io.kubernetes.client.openapi.apis.CoreV1Api;\nimport io.kubernetes.client.openapi.models.*;\nimport io.kubernetes.client.util.Config;\n\npublic class CreatePodExample {\n\n    public static void main(String[] args) throws ApiException, Exception {\n        // Load Kubernetes configuration from default location\n        ApiClient client = Config.fromCluster();\n        //Configuration.setDefaultApiClient(client);\n\n        // Create CoreV1Api instance\n        CoreV1Api api = new CoreV1Api(client);\n\n        // Define metadata for the pod\n        V1ObjectMeta metadata = new V1ObjectMeta();\n        metadata.name(&quot;private-hello-container-test&quot;);\n\n        // Define container spec for the pod\n        V1Container container = new V1ContainerBuilder()\n                .withName(&quot;private-hello-container-test&quot;)\n                .withImage(&quot;test.azurecr.io/test/app:dev&quot;)\n                .withImagePullPolicy(&quot;IfNotPresent&quot;)\n                .withCommand(&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;echo hello world!!&quot;)\n                .build();\n\n        // Define pod spec\n        V1Pod pod = new V1PodBuilder()\n                .withMetadata(metadata)\n                .withNewSpec()\n                .addToContainers(container)\n                .endSpec()\n                .build();\n\n        // Create the pod\n        V1Pod createdPod = api.createNamespacedPod(&quot;default&quot;, pod, null, null, null);\n        System.out.println(&quot;Pod created: &quot; + createdPod.getMetadata().getName());\n    }\n}\n</code></pre>\n<p>but getting following error:</p>\n<pre><code>Exception in thread &quot;main&quot; io.kubernetes.client.openapi.ApiException: Forbidden\n        at io.kubernetes.client.openapi.ApiClient.handleResponse(ApiClient.java:993)\n        at io.kubernetes.client.openapi.ApiClient.execute(ApiClient.java:905)\n        at io.kubernetes.client.openapi.apis.CoreV1Api.createNamespacedPodWithHttpInfo(CoreV1Api.java:9907)\n        at io.kubernetes.client.openapi.apis.CoreV1Api.createNamespacedPod(CoreV1Api.java:9873)\n        at CreatePodExample.main(CreatePodExample.java:39)\n</code></pre>\n<p>I've tried few things here &amp; there but no luck. how can I fix?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}