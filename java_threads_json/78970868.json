{
  "question": {
    "tags": [
      "java",
      "spring",
      "kotlin",
      "mockk"
    ],
    "owner": {
      "account_id": 26231695,
      "reputation": 41,
      "user_id": 19907511,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/423cd4589c17a0f4fb2a782a7b4d7acf?s=256&d=identicon&r=PG",
      "display_name": "Moko Doko",
      "link": "https://stackoverflow.com/users/19907511/moko-doko"
    },
    "is_answered": false,
    "view_count": 178,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1727826956,
    "creation_date": 1725993089,
    "question_id": 78970868,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78970868/mockk-strange-behavior-doesnt-work-with-classes-anynametest",
    "title": "mockk strange behavior (doesn&#39;t work with classes AnyNameTest)",
    "body": "<p>In tests like this it breaks with error</p>\n<pre><code>class MyTest {\n    val m = mockk&lt;MockedClass&gt;()\n\n    @Test\n    fun test(){}\n}\n</code></pre>\n<pre><code>java.lang.ExceptionInInitializerError\nCaused by: java.lang.IllegalStateException: Error during attachment using: net.bytebuddy.agent.ByteBuddyAgent$AttachmentProvider$Compound@308a6984\nCaused by: java.lang.reflect.InvocationTargetException\nCaused by: com.sun.tools.attach.AttachNotSupportedException: Unable to open socket file: target process not responding or HotSpot VM not loaded\n</code></pre>\n<p>But when I remove <code>Test</code> from class name it works. Should I be concerned? Is there a way to fix this?</p>\n<p>I use Java 8, Kotlin 1.9.22, Spring Boot 2.7.10 and com.ninja-squad.springmockk 3.1.2 (also tried io.mockk.mockk last and 1.9.3 versions - same problem) ((May look like overwork but reason was found after a lot of time))</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}