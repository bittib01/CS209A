{
  "question": {
    "tags": [
      "java",
      "android",
      "flutter",
      "android-studio",
      "gradle"
    ],
    "owner": {
      "account_id": 31535525,
      "reputation": 33,
      "user_id": 24356627,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/fc28c2cfa938e7303f9394bf186633e6?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "ibsdev",
      "link": "https://stackoverflow.com/users/24356627/ibsdev"
    },
    "is_answered": true,
    "view_count": 259,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1744079030,
    "creation_date": 1742373060,
    "question_id": 79519572,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79519572/flutter-android-build-fails-after-android-studio-upgrade-could-not-resolve-al",
    "title": "Flutter android build fails after Android studio upgrade -&gt; Could not resolve all files for configuration &#39;:device_info_plus:androidJdkImage&#39;",
    "body": "<p>Flutter android build is failing after Android studio upgrade to Android Studio Meerkat | 2024.3.1. for mac m1. tried some of the answers from similar issues but none seems to be working. Can someone please help.</p>\n<pre><code>\n* What went wrong:\nExecution failed for task ':device_info_plus:compileDebugJavaWithJavac'.\n&gt; Could not resolve all files for configuration ':device_info_plus:androidJdkImage'.\n   &gt; Failed to transform core-for-system-modules.jar to match attributes {artifactType=_internal_android_jdk_image, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for JdkImageTransform: /Users/Anathakrishnan/Library/Android/sdk/platforms/android-34/core-for-system-modules.jar.\n         &gt; Error while executing process /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/jlink with arguments {--module-path /Users/Anathakrishnan/.gradle/caches/transforms-3/6f0bd095c761fdd5884ad99e9bd1f2e7/transformed/output/temp/jmod --add-modules java.base --output /Users/Anathakrishnan/.gradle/caches/transforms-3/6f0bd095c761fdd5884ad99e9bd1f2e7/transformed/output/jdkImage --disable-plugin system-modules}\n</code></pre>\n<p>Im using jdk 17 now</p>\n<p>Flutter doctor output:</p>\n<pre><code>    â€¢ Flutter version 3.27.0 on channel stable at /Users/Anathakrishnan/flutter\n    â€¢ Upstream repository https://github.com/flutter/flutter.git\n    â€¢ Framework revision 8495dee1fd (3 months ago), 2024-12-10 14:23:39 -0800\n    â€¢ Engine revision 83bacfc525\n    â€¢ Dart version 3.6.0\n    â€¢ DevTools version 2.40.2\n\n[âœ“] Android toolchain - develop for Android devices (Android SDK version 33.0.1)\n    â€¢ Android SDK at /Users/Anathakrishnan/Library/Android/sdk\n    â€¢ Platform android-35, build-tools 33.0.1\n    â€¢ Java binary at: /Applications/Android Studio.app/Contents/jbr/Contents/Home/bin/java\n    â€¢ Java version OpenJDK Runtime Environment (build 21.0.5+-12932927-b750.29)\n    â€¢ All Android licenses accepted.\n\n[âœ“] Xcode - develop for iOS and macOS (Xcode 16.1)\n    â€¢ Xcode at /Applications/Xcode.app/Contents/Developer\n    â€¢ Build 16B40\n    â€¢ CocoaPods version 1.16.2\n\n[âœ“] Chrome - develop for the web\n    â€¢ Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[âœ“] Android Studio (version 2024.3)\n    â€¢ Android Studio at /Applications/Android Studio.app/Contents\n    â€¢ Flutter plugin can be installed from:\n      ğŸ”¨ https://plugins.jetbrains.com/plugin/9212-flutter\n    â€¢ Dart plugin can be installed from:\n      ğŸ”¨ https://plugins.jetbrains.com/plugin/6351-dart\n    â€¢ Java version OpenJDK Runtime Environment (build 21.0.5+-12932927-b750.29)\n\n[âœ“] VS Code (version 1.67.2)\n    â€¢ VS Code at /Users/Anathakrishnan/Downloads/Visual Studio Code.app/Contents\n    â€¢ Flutter extension version 3.60.0\n\n[âœ“] Connected device (5 available)\n    â€¢ sdk gphone64 arm64 (mobile)     â€¢ emulator-5554                        â€¢ android-arm64  â€¢ Android 13 (API 33) (emulator)\n    â€¢ iPhone 16 Pro (mobile)          â€¢ 44D2DB7A-DBA0-4039-A2BB-12AAC41C8A66 â€¢ ios            â€¢ com.apple.CoreSimulator.SimRuntime.iOS-18-1\n      (simulator)\n    â€¢ macOS (desktop)                 â€¢ macos                                â€¢ darwin-arm64   â€¢ macOS 15.1 24B83 darwin-arm64\n    â€¢ Mac Designed for iPad (desktop) â€¢ mac-designed-for-ipad                â€¢ darwin         â€¢ macOS 15.1 24B83 darwin-arm64\n    â€¢ Chrome (web)                    â€¢ chrome                               â€¢ web-javascript â€¢ Google Chrome 134.0.6998.89\n\n[âœ“] Network resources\n    â€¢ All expected network resources are available.\n\nâ€¢ No issues found!\n\n</code></pre>\n<p>i have tried the fix suggested by dart fix but it didnt fix the issue</p>\n<pre><code>â”Œâ”€ Flutter Fix â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ [!] This is likely due to a known bug in Android Gradle Plugin (AGP) versions less than 8.2.1,   â”‚\nâ”‚ when                                                                                             â”‚\nâ”‚   1. setting a value for SourceCompatibility and                                                 â”‚\nâ”‚   2. using Java 21 or above.                                                                     â”‚\nâ”‚ To fix this error, please upgrade your AGP version to at least 8.2.1. The version of AGP that    â”‚\nâ”‚ your project uses is likely defined in:                                                          â”‚\nâ”‚ /Users/Anathakrishnan/StudioProjects/G6/g6-mobile/android/settings.gradle,                       â”‚\nâ”‚ in the 'plugins' closure (by the number following &quot;com.android.application&quot;).                    â”‚\nâ”‚  Alternatively, if your project was created with an older version of the templates, it is likely â”‚\nâ”‚ in the buildscript.dependencies closure of the top-level build.gradle:                           â”‚\nâ”‚ /Users/Anathakrishnan/StudioProjects/G6/g6-mobile/android/build.gradle,                          â”‚\nâ”‚ as the number following &quot;com.android.tools.build:gradle:&quot;.                                       â”‚\nâ”‚                                                                                                  â”‚\nâ”‚ For more information, see:                                                                       â”‚\nâ”‚ https://issuetracker.google.com/issues/294137077                                                 â”‚\nâ”‚ https://github.com/flutter/flutter/issues/156304                                                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\nError: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}