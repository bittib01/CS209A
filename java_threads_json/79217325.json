{
  "question": {
    "tags": [
      "java",
      "android",
      "screen",
      "android-14",
      "wake"
    ],
    "owner": {
      "account_id": 15628438,
      "reputation": 11,
      "user_id": 11275392,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/264e548529abd26cd46214367dfabb02?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Dave",
      "link": "https://stackoverflow.com/users/11275392/dave"
    },
    "is_answered": false,
    "view_count": 233,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1733193714,
    "creation_date": 1732345277,
    "last_edit_date": 1732346320,
    "question_id": 79217325,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79217325/android-14-java-wake-screen-depreciated",
    "title": "Android 14 Java Wake Screen depreciated",
    "body": "<p>I have an App that can Wake the Screen, it works perfectly on earlier versions of Android 6 to 11. After upgrading to Android 14 it no longer works. I have modified my code to incorporate the suggested depreciation fix. However it just don't work. It still works on my old Android 6 phone but not on my new upgraded Android 14 phone, the same goes for Astudio emulation. This problem has bean addressed elsewhere but the fixes don't work for me. The below code is at the start of Main. When code running in a fragment completes an intent to return to main to called:</p>\n<p>Intent intent = new Intent(getActivity(), MainActivity.class);</p>\n<p>startActivity(intent);</p>\n<p>Before depreciation when the program returned to main the screen would wake, already for the user to select the next action.\nDon't know what I am missing I have added to the manifest:</p>\n\n\n\n\n \n           \n<p>// Java code in MainActivity :</p>\n<p>public class MainActivity extends AppCompatActivity {</p>\n<p>private static final int MY_REQUEST_CODE_PERMISSION = 1000;</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n   \n      if (Build.VERSION.SDK_INT &gt;= 27) {\n    //     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n        setShowWhenLocked(true);\n        setTurnScreenOn(true);\n        KeyguardManager guardManager = (KeyguardManager) getSystemService(Context.KEYGUARD_SERVICE);\n        guardManager.requestDismissKeyguard(this, null);\n    } else {\n\n    this.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN |\n            WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD |\n            WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED |\n            WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN |\n            WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD |\n            WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED |\n            WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n\n\n            Window window = this.getWindow();\n            window.addFlags(WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD);\n            window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);\n            window.addFlags(WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON);\n\n}\n</code></pre>\n<p>}\n}</p>\n<p>//Manifest:</p>\n\n\n\n\n \n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}