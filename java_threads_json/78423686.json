{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "spring-security",
      "jwt",
      "microservices"
    ],
    "owner": {
      "account_id": 32028774,
      "reputation": 85,
      "user_id": 24834859,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0d2ff3c9a06d1a8516c82d44a02a4926?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Kollimarla Jagadeep",
      "link": "https://stackoverflow.com/users/24834859/kollimarla-jagadeep"
    },
    "is_answered": false,
    "view_count": 1517,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1718058921,
    "creation_date": 1714727088,
    "question_id": 78423686,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78423686/how-do-i-implement-spring-security-in-all-microservices",
    "title": "How Do I implement spring security in all microservices",
    "body": "<p>I have implemented spring security in an authorization service where I am generating my token but how do I implement it in all my microservices.</p>\n<p>There are a lot codes online but unable to find for the latest version of spring boot 3+</p>\n<p>At present I am using sending jwt token at auth header writing some code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/{username}&quot;)\n    public ResponseEntity&lt;Object&gt; addWishlist(@Parameter(hidden = true) @RequestHeader(&quot;Authorization&quot;) String token, @PathVariable String username, @RequestBody MovieDto movie){\n        if (jwtService.isTokenValid(token.substring(7),username)){\n            return new ResponseEntity&lt;&gt;(wishlistService.addWishlist(username,movie),HttpStatus.CREATED);\n        }\n        throw new UnAuthorizedException(&quot;Unauthorized token access add movie&quot;);\n    }\n</code></pre>\n<p>I want to achieve something like below using spring security</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/validate&quot;)\n    @PreAuthorize(&quot;hasRole('MEMBER') &amp;&amp; #username == authentication.principal.username&quot;)\n    public ResponseEntity&lt;Object&gt; validate(@RequestParam String username) {\n        return new ResponseEntity&lt;&gt;(username+&quot; Authorized&quot;, HttpStatus.ACCEPTED);\n    }\n</code></pre>\n<p><a href=\"https://github.com/tejajagadeep/movie-app/tree/main/movie-backend\" rel=\"nofollow noreferrer\">here is the actual source code link to GitHub Repository</a></p>\n<p>I want to implement security in wishlist and userprofile</p>\n<p>Solution to implement spring security just by using jwt token without connecting to database using the latest spring boot 3+ and spring version 6</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}