{
  "question": {
    "tags": [
      "java",
      "minecraft",
      "minecraft-forge"
    ],
    "owner": {
      "account_id": 35129257,
      "reputation": 1,
      "user_id": 27000213,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/ae8d87ec55505d6e495c7c3a4b3f55b2?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Munil Mistera",
      "link": "https://stackoverflow.com/users/27000213/munil-mistera"
    },
    "is_answered": false,
    "view_count": 275,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1744535556,
    "creation_date": 1740727102,
    "last_edit_date": 1744535556,
    "question_id": 79474768,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79474768/error-in-minecraft-modding-intrusive-holders-not-registered",
    "title": "Error in minecraft modding: Intrusive holders not registered",
    "body": "<p>When I compile my minecraft mod, it works just fine, but when I run minecraft it crashes:</p>\n<pre><code>Time: 2025-02-27 15:21:02\nDescription: Rendering overlay\n\njava.lang.IllegalStateException: Some intrusive holders were not registered: [Reference{null=air}] Hint: Did you register all your registry objects? Registry stage: ACTIVE\n    at net.minecraftforge.registries.NamespacedWrapper.freeze(NamespacedWrapper.java:353) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading}\n    at net.minecraftforge.registries.GameData.lambda$freezeData$7(GameData.java:246) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading}\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?] {}\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[?:?] {}\n    at java.util.Iterator.forEachRemaining(Iterator.java:133) ~[?:?] {}\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[?:?] {}\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?] {}\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?] {}\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?] {}\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?] {}\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?] {}\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[?:?] {}\n    at net.minecraftforge.registries.GameData.freezeData(GameData.java:246) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading}\n    at net.minecraftforge.common.ForgeStatesProvider.lambda$new$5(ForgeStatesProvider.java:26) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading}\n    at net.minecraftforge.fml.ModLoader.handleInlineTransition(ModLoader.java:217) ~[fmlcore-1.20.1-47.3.0.jar%23195!/:?] {}\n    at net.minecraftforge.fml.ModLoader.lambda$dispatchAndHandleError$19(ModLoader.java:209) ~[fmlcore-1.20.1-47.3.0.jar%23195!/:?] {}\n    at java.util.Optional.ifPresent(Optional.java:178) ~[?:?] {}\n    at net.minecraftforge.fml.ModLoader.dispatchAndHandleError(ModLoader.java:209) ~[fmlcore-1.20.1-47.3.0.jar%23195!/:?] {}\n    at net.minecraftforge.fml.ModLoader.lambda$finishMods$17(ModLoader.java:197) ~[fmlcore-1.20.1-47.3.0.jar%23195!/:?] {}\n    at java.lang.Iterable.forEach(Iterable.java:75) ~[?:?] {}\n    at net.minecraftforge.fml.ModLoader.finishMods(ModLoader.java:197) ~[fmlcore-1.20.1-47.3.0.jar%23195!/:?] {}\n    at net.minecraftforge.client.loading.ClientModLoader.lambda$finishModLoading$6(ClientModLoader.java:102) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraftforge.client.loading.ClientModLoader.lambda$createRunnableWithCatch$4(ClientModLoader.java:89) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraftforge.client.loading.ClientModLoader.finishModLoading(ClientModLoader.java:102) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraftforge.client.loading.ClientModLoader.lambda$onResourceReload$3(ClientModLoader.java:82) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading,pl:runtimedistcleaner:A}\n    at java.util.concurrent.CompletableFuture$UniRun.tryFire(CompletableFuture.java:787) ~[?:?] {}\n    at java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[?:?] {}\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Head --\nThread: Render thread\nSuspected Mods: NONE\nStacktrace:\n    at net.minecraftforge.registries.NamespacedWrapper.freeze(NamespacedWrapper.java:353) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading}\n    at net.minecraftforge.registries.GameData.lambda$freezeData$7(GameData.java:246) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar%23190%23197!/:?] {re:classloading}\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?] {}\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[?:?] {}\n    at java.util.Iterator.forEachRemaining(Iterator.java:133) ~[?:?] {}\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[?:?] {}\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?] {}\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?] {}\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?] {}\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?] {}\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?] {}\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[?:?] {}\n-- Overlay render details --\nDetails:\n    Overlay name: net.minecraftforge.client.loading.ForgeLoadingOverlay\nStacktrace:\n    at net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:957) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.runTick(Minecraft.java:1146) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.run(Minecraft.java:718) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.main.Main.main(Main.java:218) ~[forge-1.20.1-47.3.0_mapped_official_1.20.1.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\n    at net.minecraftforge.fml.loading.targets.CommonLaunchHandler.runTarget(CommonLaunchHandler.java:111) ~[fmlloader-1.20.1-47.3.0.jar:?] {}\n    at net.minecraftforge.fml.loading.targets.CommonLaunchHandler.clientService(CommonLaunchHandler.java:99) ~[fmlloader-1.20.1-47.3.0.jar:?] {}\n    at net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.devService(ForgeClientUserdevLaunchHandler.java:19) ~[fmlloader-1.20.1-47.3.0.jar:?] {}\n    at net.minecraftforge.fml.loading.targets.CommonDevLaunchHandler.lambda$makeService$7(CommonDevLaunchHandler.java:135) ~[fmlloader-1.20.1-47.3.0.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.modlauncher.Launcher.run(Launcher.java:108) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.modlauncher.Launcher.main(Launcher.java:78) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) ~[modlauncher-10.0.9.jar:?] {}\n    at cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141) ~[bootstraplauncher-1.1.2.jar:?] {}\n</code></pre>\n<p>I'm using my own utility class for registry, added by my own library which is a dependency:</p>\n<pre><code>package com.byabie.mustardlib.util;\n\nimport ...;\n\npublic class Registry {\n     private final DeferredRegister&lt;Item&gt; ITEMS;\n     private final DeferredRegister&lt;Block&gt; BLOCKS;\n     private final DeferredRegister&lt;Enchantment&gt; ENCHANTMENTS;\n     private final DeferredRegister&lt;MobEffect&gt; MOBEFFECTS;\n     private final DeferredRegister&lt;EntityType&lt;?&gt;&gt; ...;\n\n     private final Map&lt;String, RegistryObject&lt;Item&gt;&gt; ItemMap = new HashMap&lt;&gt;();\n     private final Map&lt;String, RegistryObject&lt;Block&gt;&gt; BlockMap = new HashMap&lt;&gt;();\n     private final Map&lt;String, RegistryObject&lt;Enchantment&gt;&gt; EnchantMap = new HashMap&lt;&gt;();\n     private final Map&lt;String, RegistryObject&lt;MobEffect&gt;&gt; ParticleMap...;\n\n     public Registry(String modid) {\n          ITEMS = DeferredRegister.create(ForgeRegistries.ITEMS, modid);\n          BLOCKS = DeferredRegister.create(ForgeRegistries.BLOCKS, modid);\n          ENCHANTMENTS = DeferredRegister.create(ForgeRegistries.ENCHANTMENTS, modid);\n          MOBEFFECTS = DeferredRegister.create(ForgeRegistries.MOB_EFFECTS, modid);\n          ENTITYTYPES = DeferredRegister.create(ForgeRegistries.ENTITY_TYPES, modid);\n          BLOCKENTITYTYPES = DeferredRegister.create(ForgeRegistries.BLOCK_ENTITY_TYPES, modid);\n          BIOMES = DeferredRegister.create(ForgeRegistries.BIOMES, modid);\n          RECIPETYPES = DeferredRegister.create(ForgeRegistries.RECIPE_TYPES, modid);\n          PARTICLETYPES = DeferredRegister.create(ForgeRegistries.PARTICLE_TYPES, modid);\n     }\n\n     public void initItem(String registryName, Item toRegister) {\n         ItemMap.put(registryName, ITEMS.register(registryName, () -&gt; toRegister));\n     }\n     public void initBlockWithoutItem(String registryName, Block toRegister) {\n         BlockMap.put(registryName, BLOCKS.register(registryName, () -&gt; toRegister));\n     }\n     public void initBlock(String registryName, Block toRegister) { //Use it when you dont want a custom blockItem\n         initBlockWithoutItem(registryName, toRegister);\n         ItemMap.put(registryName, ITEMS.register(registryName, () -&gt; new BlockItem(toRegister, new Item.Properties())));\n     }\n     public void initEnchantment(String registryName, Enchantment toRegister) {\n         EnchantMap.put(registryName, ENCHANTMENTS.register(registryName, () -&gt; toRegister));\n     }\n     public void initMobEffect(String registryName, MobEffect toRegister) {\n         MobEffectMap.put(registryName, MOBEFFECTS.register(registryName, () -&gt; toRegister));\n     }\n     public void initEntityType(String registryName, EntityType&lt;?&gt; toRegister) {\n         EntityTypeMap.put(registryName, ENTITYTYPES.register(registryName, () -&gt; toRegister));\n     }\n     public void initBlockEntityType(String registryName, BlockEntityType&lt;?&gt; toRegister) {\n         BEntityTypeMap.put(registryName, BLOCKENTITYTYPES.register(registryName, () -&gt; toRegister));\n     }\n     public void initBiome(String registryName, Biome toRegister) {\n         BiomeMap.put(registryName, BIOMES.register(registryName, () -&gt; toRegister));\n     }\n     public void initRecipeType(String registryName, RecipeType&lt;?&gt; toRegister) {\n         RecipeMap.put(registryName, RECIPETYPES.register(registryName, () -&gt; toRegister));\n     }\n     public void initParticleType(String registryName, ParticleType&lt;?&gt; toRegister) {\n         ParticleMap.put(registryName, PARTICLETYPES.register(registryName, () -&gt; toRegister));\n     }\n     public RegistryObject&lt;?&gt; getItem(String registryName) {\n         return ItemMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getBlock(String registryName) {\n         return BlockMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getEnchant(String registryName) {\n         return EnchantMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getMobEffect(String registryName) {\n         return MobEffectMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getEntityType(String registryName) {\n         return EntityTypeMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getBEntityType(String registryName) {\n         return BEntityTypeMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getBiome(String registryName) {\n         return BiomeMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getRecipeType(String registryName) {\n         return RecipeMap.get(registryName);\n     }\n     public RegistryObject&lt;?&gt; getParticleType(String registryName) {\n         return ParticleMap.get(registryName);\n     }\n     public void register(IEventBus modBus) {\n         ITEMS.register(modBus);\n         BLOCKS.register(modBus);\n         ENCHANTMENTS.register(modBus);\n         MOBEFFECTS.register(modBus);\n         ENTITYTYPES.register(modBus);\n         BLOCKENTITYTYPES.register(modBus);\n         BIOMES.register(modBus);\n         RECIPETYPES.register(modBus);\n         PARTICLETYPES.register(modBus);\n     }\n}\n</code></pre>\n<p>I used the system to register one item:</p>\n<pre><code>package com.byabie.cubeic;\n\nimport ...;\nimport com.byabie.mustardlib.util.*;\nimport com.byabie.cubeic.item.*;\n\npublic class CubeicRegistry {\n     private static Registry re = new Registry(Cubeic.MODID);\n     public static void register(IEventBus modBus) {\n          re.register(modBus);\n          modBus.register(CubeicRegistry.class);\n     }\n     public static void registerComponents() {\n          re.initItem(&quot;amethyst_sword&quot;, new AmethystSwordItem());\n     }\n     @SubscribeEvent\n     public void addToCreativeTabs(BuildCreativeModeTabContentsEvent event) {\n          if(event.getTabKey() == CreativeModeTabs.COMBAT) {\n               event.accept(() -&gt; (Item)re.getItem(&quot;amethyst_sword&quot;).get());\n          }\n     }\n}\n</code></pre>\n<p>This is my main mod class, where I register the item in commonsetup:</p>\n<pre><code>package com.byabie.cubeic;\n\nimport org.slf4j.Logger;\n\nimport com.mojang.logging.LogUtils;\n\nimport ...;\n\n@Mod(Cubeic.MODID)\npublic class Cubeic {\n    \n    public static final String MODID = &quot;cubeic&quot;;\n    \n    private static final Logger LOGGER = LogUtils.getLogger();\n    \n    public Cubeic() {\n        IEventBus modEventBus = FMLJavaModLoadingContext.get().getModEventBus();\n        modEventBus.addListener(this::commonSetup);\n    }\n\n    private void commonSetup(final FMLCommonSetupEvent event) {\n        CubeicRegistry.registerComponents();\n        ModLoadingContext.get().registerConfig(ModConfig.Type.COMMON, CubeicConfig.spec, &quot;cubeic-common.toml&quot;);\n        CubeicRegistry.register(FMLJavaModLoadingContext.get().getModEventBus());\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    @SubscribeEvent\n    public void onServerStarting(ServerStartingEvent event) {\n        //\n    }\n}\n</code></pre>\n<p>This is my custom item class:</p>\n<pre><code>package com.byabie.cubeic.item;\n\nimport ..;\n\npublic class AmethystSwordItem extends SwordItem {\n     public static final int BASE_DAMAGE = 0;\n     public AmethystSwordItem() {\n          super(new Tier() {\n               @Override\n               public int getUses() {\n                    return 250;\n               }\n\n               @Override\n               public float getSpeed() {\n                    return -6.0f;\n               }\n\n               @Override\n               public float getAttackDamageBonus() {\n                    return 0;\n               }\n\n               @Override\n               public int getLevel() {\n                    return 3;\n               }\n\n               @Override\n               public int getEnchantmentValue() {\n                    return 10;\n               }\n\n               @Override\n               public Ingredient getRepairIngredient() {\n                    return Ingredient.of(Items.AMETHYST_SHARD);\n               }\n\n          }, 7, -2.4F, new Item.Properties().rarity(Rarity.RARE).stacksTo(1));\n     }\n     @Override\n     public boolean hurtEnemy(ItemStack stack, LivingEntity target, LivingEntity attacker) {\n          if (attacker instanceof Player player) {\n               int bonusDamage = player.experienceLevel / 3;\n               float totalDamage = BASE_DAMAGE + bonusDamage;\n\n               target.hurt(player.damageSources().playerAttack(player), totalDamage);\n\n               stack.hurtAndBreak(1, player, (entity) -&gt; entity.broadcastBreakEvent(InteractionHand.MAIN_HAND));\n          }\n          return true;\n     }\n     @Override\n     public void appendHoverText(ItemStack stack, @Nullable Level world, List&lt;Component&gt; tooltip, TooltipFlag flag) {\n          tooltip.add(Component.translatable(&quot;item.cubeic.amethyst_sword.desc&quot;));\n     }\n}\n</code></pre>\n<p>It just crashed when I run the game, despite compiling.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}