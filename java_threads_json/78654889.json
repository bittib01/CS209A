{
  "question": {
    "tags": [
      "java",
      "maven",
      "log4j",
      "log4j2"
    ],
    "owner": {
      "account_id": 181369,
      "reputation": 2839,
      "user_id": 415320,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://www.gravatar.com/avatar/98506b797441689527e8ca50b2671777?s=256&d=identicon&r=PG",
      "display_name": "Valentin Ruano",
      "link": "https://stackoverflow.com/users/415320/valentin-ruano"
    },
    "is_answered": true,
    "view_count": 1504,
    "accepted_answer_id": 78660728,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1719208170,
    "creation_date": 1719019143,
    "question_id": 78654889,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78654889/startup-log4j2-error-unrecognized-conversion-specifier-and-format-specifier",
    "title": "Startup log4j2 ERROR Unrecognized conversion specifier and format specifier",
    "body": "<p>In a project using maven,\nI have the same issue as described in <a href=\"https://stackoverflow.com/questions/48033792/log4j2-error-statuslogger-unrecognized-conversion-specifier\">log4j2 ERROR StatusLogger Unrecognized conversion specifier</a>. But the problem persist even after implementing both solutions described in the answer to that question. i.e. exclude Log4jPlugins.dat and use the manifest transformer plugin for log4j.</p>\n<p>Moreover I can confirm that the Jar file does not contain a file name Log4j2Plugins.dat nor under META-INF nor anywhere else in the jar tree structure.</p>\n<p>Error message:</p>\n<pre>\n2024-06-22T00:41:49.937Z main ERROR Unrecognized format specifier [d]                                                     \n2024-06-22T00:41:49.952Z main ERROR Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\n2024-06-22T00:41:49.953Z main ERROR Unrecognized format specifier [thread]                                              \n2024-06-22T00:41:49.953Z main ERROR Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\n2024-06-22T00:41:49.954Z main ERROR Unrecognized format specifier [level]                                              \n2024-06-22T00:41:49.954Z main ERROR Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\n2024-06-22T00:41:49.954Z main ERROR Unrecognized format specifier [logger]                                              \n2024-06-22T00:41:49.954Z main ERROR Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\n2024-06-22T00:41:49.955Z main ERROR Unrecognized format specifier [msg]                                                 \n2024-06-22T00:41:49.955Z main ERROR Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\n2024-06-22T00:41:49.955Z main ERROR Unrecognized format specifier [n]                                                   \n2024-06-22T00:41:49.956Z main ERROR Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.\n2024-06-22T00:41:49.964Z main ERROR Unrecognized format specifier [d]                                                   \n2024-06-22T00:41:49.964Z main ERROR Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.\n2024-06-22T00:41:49.964Z main ERROR Unrecognized format specifier [thread]    \n2024-06-22T00:41:49.965Z main ERROR Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.\n2024-06-22T00:41:49.965Z main ERROR Unrecognized format specifier [level]                 \n2024-06-22T00:41:49.965Z main ERROR Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.\n2024-06-22T00:41:49.965Z main ERROR Unrecognized format specifier [logger]\n2024-06-22T00:41:49.965Z main ERROR Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.\n2024-06-22T00:41:49.965Z main ERROR Unrecognized format specifier [msg]                                \n2024-06-22T00:41:49.965Z main ERROR Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.\n2024-06-22T00:41:49.965Z main ERROR Unrecognized format specifier [n]             \n2024-06-22T00:41:49.966Z main ERROR Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.\n2024-06-22T00:41:51.876Z main ERROR Unrecognized format specifier [p]\n2024-06-22T00:41:51.876Z main ERROR Unrecognized conversion specifier [p] starting at position 4 in conversion pattern.\n2024-06-22T00:41:51.877Z main ERROR Unrecognized format specifier [d]\n2024-06-22T00:41:51.877Z main ERROR Unrecognized conversion specifier [d] starting at position 21 in conversion pattern.\n2024-06-22T00:41:51.877Z main ERROR Unrecognized format specifier [C]                                 \n2024-06-22T00:41:51.877Z main ERROR Unrecognized conversion specifier [C] starting at position 27 in conversion pattern.                        \n2024-06-22T00:41:51.877Z main ERROR Unrecognized format specifier [m]\n2024-06-22T00:41:51.877Z main ERROR Unrecognized conversion specifier [m] starting at position 32 in conversion pattern.\n2024-06-22T00:41:51.877Z main ERROR Unrecognized format specifier [n]\n2024-06-22T00:41:51.877Z main ERROR Unrecognized conversion specifier [n] starting at position 35 in conversion pattern.\n</pre>\n<p>Extract from relevant maven pom:</p>\n<pre><code>plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-transform-maven-shade-plugin-extensions&lt;/artifactId&gt;\n      &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;package-jar&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;shade&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;phase&gt;package&lt;/phase&gt;\n      &lt;configuration&gt;\n        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n        &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n        &lt;artifactSet&gt;\n          &lt;excludes&gt;\n            &lt;exclude&gt;org.broadinstitute.gatk:gsalib:tar.gz:*&lt;/exclude&gt;\n            &lt;exclude&gt;org.broadinstitute.gatk:*:tar.bz2:example-resources&lt;/exclude&gt;\n          &lt;/excludes&gt;\n        &lt;/artifactSet&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n              &lt;exclude&gt;META-INF/services/javax.annotation.processing.Processor&lt;/exclude&gt;\n              &lt;exclude&gt;**/Log4j2Plugins.dat&lt;/exclude&gt;\n            &lt;/excludes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;transformers&gt;\n          &lt;transformer implementation=&quot;org.apache.logging.log4j.maven.plugins.shade.transformer.Log4j2PluginCacheFileTransformer&quot;/&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n            &lt;manifestEntries&gt;\n              &lt;Multi-Release&gt;true&lt;/Multi-Release&gt;\n              &lt;Main-Class&gt;${app.main.class}&lt;/Main-Class&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/transformer&gt;\n          &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n            &lt;resource&gt;${resource.bundle.path}&lt;/resource&gt;\n          &lt;/transformer&gt;\n        &lt;/transformers&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}