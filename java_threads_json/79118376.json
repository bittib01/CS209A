{
  "question": {
    "tags": [
      "java",
      "unit-testing",
      "testing",
      "mockito",
      "try-catch"
    ],
    "owner": {
      "account_id": 25946961,
      "reputation": 23,
      "user_id": 19665569,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/5a5b32d37fc8004d8417642809f023d9?s=256&d=identicon&r=PG",
      "display_name": "CodingAllTheTime3",
      "link": "https://stackoverflow.com/users/19665569/codingallthetime3"
    },
    "is_answered": true,
    "view_count": 67,
    "closed_date": 1729697407,
    "accepted_answer_id": 79118436,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1729694602,
    "creation_date": 1729693845,
    "question_id": 79118376,
    "link": "https://stackoverflow.com/questions/79118376/how-can-i-test-the-catch-portion-of-code-in-a-try-catch-using-mockito-when-t",
    "closed_reason": "Duplicate",
    "title": "How can I test the &#39;catch&#39; portion of code in a try-catch, using Mockito, when the &#39;try&#39; is &#39;Thread.Sleep()?",
    "body": "<p>I'm using mockito to write test, but I'm really struggling with how to test this specific bit of code:</p>\n<pre><code>public void myMethod() {\ntry {\nThread.sleep(400);\n} catch (InterruptedException e) {\nthrow new RuntimeException(e);\n}\n}\n</code></pre>\n<p>A lot of examples online use the example of forcing whatever is in the try to throw an error - but everything I've looked at yells 'don't mock a Thread'</p>\n<p>Is there a way I can force the code to be interrupted using <code>Thread.interrupt()</code> or similar?</p>\n<p>I did start to try and use a spy:</p>\n<pre><code>Thread threadSpy = spy(new Thread());\nthreadSpy.interrupt();\nassertThatExceptionOfType(RuntimeException.class);\n</code></pre>\n<p>but I can see that this isn't actually causing the thread in <code>myMethod</code> to interrupt, so isn't actually testing that bit of code.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}