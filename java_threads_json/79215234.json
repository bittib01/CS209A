{
  "question": {
    "tags": [
      "java",
      "url",
      "jar",
      "relative-path",
      "embedded-resource"
    ],
    "owner": {
      "account_id": 7421543,
      "reputation": 3596,
      "user_id": 5645656,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://i.sstatic.net/cWJZKa1g.png?s=256",
      "display_name": "Cardinal System",
      "link": "https://stackoverflow.com/users/5645656/cardinal-system"
    },
    "is_answered": false,
    "view_count": 54,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1732282797,
    "creation_date": 1732282797,
    "question_id": 79215234,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79215234/why-doesnt-relativize-work-for-jar-resources",
    "title": "Why doesn&#39;t relativize work for jar resources?",
    "body": "<p>I want to get the path of a jar resource relative to the jar root. This is the MVCE I created:</p>\n<pre><code>// Using website example to demonstrate relativize working\nURL website = new URL(&quot;https://stackoverflow.com/&quot;);\nURL webpage = new URL(&quot;https://stackoverflow.com/help/how-to-answer&quot;);\nURI webRelative = website.toURI().relativize(webpage.toURI());\n\nURL jarUrl = new URL(&quot;file:/C:/Users/cardinal/Desktop/Test.jar&quot;);\nURL jarRootUrl = new URL(&quot;jar:file:/C:/Users/cardinal/Desktop/Test.jar!/&quot;);\nURL resourceUrl = new URL(&quot;jar:file:/C:/Users/cardinal/Desktop/Test.jar!/mydir/myresource.txt&quot;);\n\n// Here relativize is not working (or perhaps it is working, just not the way I am expecting)\nURI jarRelative1 = jarUrl.toURI().relativize(resourceUrl.toURI());\nURI jarRelative2 = jarRootUrl.toURI().relativize(resourceUrl.toURI());\n\nSystem.out.println(webRelative);\nSystem.out.println(jarRelative1);\nSystem.out.println(jarRelative2);\n</code></pre>\n<p>The output is as follows:</p>\n<pre><code>help/how-to-answer\njar:file:/C:/Users/cardinal/Desktop/Test.jar!/mydir/myresource.txt\njar:file:/C:/Users/cardinal/Desktop/Test.jar!/mydir/myresource.txt\n</code></pre>\n<p>But I am expecting it to be similar to:</p>\n<pre><code>help/how-to-answer\n/mydir/myresource.txt\nmydir/myresource.txt\n</code></pre>\n<p>Why doesn't relativize work for jar resources?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}