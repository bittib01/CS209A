{
  "question": {
    "tags": [
      "java",
      "micronaut",
      "reactor-kafka",
      "micronaut-kafka"
    ],
    "owner": {
      "account_id": 1259633,
      "reputation": 1908,
      "user_id": 1218317,
      "user_type": "registered",
      "accept_rate": 87,
      "profile_image": "https://www.gravatar.com/avatar/92d26c7d74821a7ecb87a51017d394b6?s=256&d=identicon&r=PG",
      "display_name": "ritratt",
      "link": "https://stackoverflow.com/users/1218317/ritratt"
    },
    "is_answered": false,
    "view_count": 148,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1746731703,
    "creation_date": 1725496551,
    "question_id": 78950947,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78950947/how-to-reactively-process-kafka-messages-using-micronaut-kafka",
    "title": "How to reactively process kafka messages using Micronaut-Kafka",
    "body": "<p>So I have a simple Kafka consumer using Micronaut that works:</p>\n<pre><code>@KafkaListener\npublic class ReactiveKafkaConsumer {\n\n  private static final FluentLogger log = FluentLogger.forEnclosingClass();\n\n  @Topic(&quot;test&quot;)\n  public void consume(ConsumerRecord&lt;String, byte[]&gt; record) {\n    log.atInfo().log(record.value());\n  }\n}\n</code></pre>\n<p>However, when I switch this to a reactive consumer like so:</p>\n<pre><code>@KafkaListener\npublic class ReactiveKafkaConsumer {\n\n  private static final FluentLogger log = FluentLogger.forEnclosingClass();\n\n  @Topic(&quot;test&quot;)\n  public void consume(Flux&lt;ConsumerRecord&lt;String, byte[]&gt;&gt; recordFlux) {\n    log.atInfo().log(&quot;Just log. Don't process anything...&quot;);\n</code></pre>\n<p>It immediately fails with:</p>\n<blockquote>\n<p>[Consumer clientId=xxx] Value Deserializers with error:\nDeserializers{keyDeserializer=org.apache.kafka.common.serialization.ByteArrayDeserializer@e966f7d,\nvalueDeserializer=JsonObjectSerde:\norg.apache.kafka.clients.consumer.ConsumerRecord} ... No bean\nintrospection available for type [class\norg.apache.kafka.clients.consumer.ConsumerRecord]. Ensure the class is\nannotated with io.micronaut.core.annotation.Introspected</p>\n</blockquote>\n<p>I've looked through the docs and sample code for using reactive streams is pretty limited. Has anyone managed to effectively consume Kafka messages in a reactive manner?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}