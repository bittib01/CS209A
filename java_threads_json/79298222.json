{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "maven",
      "manifest"
    ],
    "owner": {
      "account_id": 2610280,
      "reputation": 723,
      "user_id": 2260506,
      "user_type": "registered",
      "accept_rate": 15,
      "profile_image": "https://www.gravatar.com/avatar/3cd1e60b0c847cf3423a50ffb79a6d92?s=256&d=identicon&r=PG",
      "display_name": "Ulrich",
      "link": "https://stackoverflow.com/users/2260506/ulrich"
    },
    "is_answered": false,
    "view_count": 143,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1734974764,
    "creation_date": 1734722570,
    "last_edit_date": 1734974764,
    "question_id": 79298222,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79298222/how-to-force-maven-with-spring-repackage-to-add-the-compiled-packages-to-the-jar",
    "title": "How to force Maven with Spring repackage to add the compiled packages to the jar root?",
    "body": "<p>I've got some code in a module named &quot;Electricity-aWattar&quot;. Injection and instantiation is controlled by Spring 3.4.0.\nThe artifact has got several main methods and one of this classes shall be defined to the MANIFEST to allow for simple invocation via &quot;java -jar aWattar.jar&quot;.</p>\n<p>But I need this artifact also to be used as a dependency to another module. This requires the classes of &quot;Electricity-aWattar&quot; to be available at the root of the &quot;Electricity-aWattar&quot; jarfile.\nTo enforce placement of the classes there I currently specify in pom.xml:</p>\n<pre><code> &lt;properties&gt;\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>But this suppresses MANIFEST-creation.</p>\n<p>With the the above 'properties' specified the layout of the jar looks like this\n<a href=\"https://i.sstatic.net/V83YkEth.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/V83YkEth.png\" alt=\"enter image description here\" /></a></p>\n<p>When removing the 'properties'-statement from the pom, the jar looks like this:\n<a href=\"https://i.sstatic.net/OB830a18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/OB830a18.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea how to get both - MANIFEST and generated classes at root in jar?</p>\n<p>The maven packaging is forced by the pom.xml parameter:</p>\n<pre><code>&lt;build&gt;\n    &lt;finalName&gt;aWattar&lt;/finalName&gt;\n    \n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;de.gombers.electricity.awattar.MainDataGatherer&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;repackage&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        \n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}