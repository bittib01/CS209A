{
  "question": {
    "tags": [
      "java",
      "maven",
      "jmh"
    ],
    "owner": {
      "account_id": 8166050,
      "reputation": 128,
      "user_id": 6148283,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/1da0f0b919d534d8a2d87c255ed4b83f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "origin",
      "link": "https://stackoverflow.com/users/6148283/origin"
    },
    "is_answered": false,
    "view_count": 221,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1737639779,
    "creation_date": 1733842626,
    "question_id": 79268700,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79268700/error-could-not-load-main-class-org-openjdk-jmh-runner-forkedmain",
    "title": "Error: Could not load main class org.openjdk.jmh.runner.ForkedMain",
    "body": "<p>I am trying to create a new profile in maven that can run all the my JMH benchmark tests in the project.\nThe profile look something like below, I want my mvn verify -Dbenchmark to run all the benchmark tests.</p>\n<pre><code>&lt;profiles&gt;\n   &lt;profile&gt;\n       &lt;id&gt;benchmark&lt;/id&gt;\n       &lt;activation&gt;\n           &lt;property&gt;\n               &lt;name&gt;benchmark&lt;/name&gt;\n           &lt;/property&gt;\n       &lt;/activation&gt;\n       &lt;properties&gt;\n           &lt;benchmark.report&gt;false&lt;/benchmark.report&gt;\n       &lt;/properties&gt;\n       &lt;build&gt;\n           &lt;plugins&gt;\n               &lt;plugin&gt;\n                   &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                   &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                   &lt;executions&gt;\n                       &lt;execution&gt;\n                           &lt;phase&gt;verify&lt;/phase&gt;\n                           &lt;goals&gt;\n                               &lt;goal&gt;java&lt;/goal&gt;\n                           &lt;/goals&gt;\n                       &lt;/execution&gt;\n                   &lt;/executions&gt;\n                   &lt;configuration&gt;\n                       &lt;mainClass&gt;org.openjdk.jmh.Main&lt;/mainClass&gt;\n                       &lt;arguments&gt;.*&lt;/arguments&gt;\n                       &lt;classpathScope&gt;test&lt;/classpathScope&gt;\n                   &lt;/configuration&gt;\n               &lt;/plugin&gt;\n           &lt;/plugins&gt;\n       &lt;/build&gt;\n   &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>However, as I assume from the exception below, one of the reason for this could be that classpath is not loaded correctly and I tried a bunch of ways to provide it. None works.</p>\n<p>Could someone help me on what could be a potential problem for the following exception</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\n&lt;forked VM failed with exit code 1&gt;\n&lt;stdout last='20 lines'&gt;\n&lt;/stdout&gt;\n&lt;stderr last='20 lines'&gt;\nError: Could not find or load main class org.openjdk.jmh.runner.ForkedMain\nCaused by: java.lang.ClassNotFoundException: org.openjdk.jmh.runner.ForkedMain\n&lt;/stderr&gt;\n</code></pre>\n<p>I have also tested running individual benchmark tests and I see they run without exception\nAlso, the reason for test classpath scope is because, it need to fild META-INF/benchmarklist to run all the tests as they are not in one place.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}