{
  "question": {
    "tags": [
      "java",
      "websphere-liberty",
      "java-21",
      "jpa-2.2"
    ],
    "owner": {
      "account_id": 2114210,
      "reputation": 1579,
      "user_id": 1878854,
      "user_type": "registered",
      "accept_rate": 78,
      "profile_image": "https://i.sstatic.net/OOUbE.jpg?s=256",
      "display_name": "Accollativo",
      "link": "https://stackoverflow.com/users/1878854/accollativo"
    },
    "is_answered": true,
    "view_count": 397,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1727188263,
    "creation_date": 1726843037,
    "last_edit_date": 1727188263,
    "question_id": 79007227,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79007227/entitymanager-is-not-injected-and-its-null-when-upgrading-from-jdk-8-to-jdk-21",
    "title": "EntityManager is not injected and it&#39;s null when upgrading from jdk 8 to jdk 21 on Liberty server",
    "body": "<p>I had an application that run fine on <code>jdk 8</code> and <code>Liberty 22.0.0.10</code>. I'm upgrading my application to <code>jdk 21</code> on a <code>Liberty 24.0.0.9</code>, and changed the <code>pom.xml</code> and some features in the server. The application starts, and REST endpoints and jms queue work, but when the database is called, it gets a null pointer because the entity manager <code>em</code> is not injected (with jdk8 it's properly injected and not null). Giving this error:</p>\n<pre><code>    nliberty.opentracing.internal.OpentracingJaxRsEMCallbackImpl W CWMOT0009W: The OpenTracing exception mapper detected and is handling an unhandled exception from the JAX-RS application.\njava.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.find(java.lang.Class, Object)&quot; because &quot;this.em&quot; is null\n</code></pre>\n<p>I'm using jpa-2.2 library, and from <a href=\"https://openliberty.io/docs/latest/reference/feature/jpa-2.2.html\" rel=\"nofollow noreferrer\">here</a> seems like the jdk 21 is supported. These are the most relevant part of my pom (I upgraded some library from the jdk8 version):</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n            &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n        &lt;version&gt;8.0.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;org.eclipse.persistence.extension&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.openliberty.features&lt;/groupId&gt;\n        &lt;artifactId&gt;microProfile-4.0&lt;/artifactId&gt;\n        &lt;version&gt;24.0.0.9&lt;/version&gt;\n        &lt;type&gt;esa&lt;/type&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;io.openliberty.features&lt;/groupId&gt;\n                &lt;artifactId&gt;com.ibm.websphere.appserver.javax.jsf-2.2&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.openliberty.features&lt;/groupId&gt;\n        &lt;artifactId&gt;jpa-2.2&lt;/artifactId&gt;\n        &lt;version&gt;24.0.0.9&lt;/version&gt;\n        &lt;type&gt;esa&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.openliberty.features&lt;/groupId&gt;\n        &lt;artifactId&gt;beanValidation-2.0&lt;/artifactId&gt;\n        &lt;version&gt;24.0.0.9&lt;/version&gt;\n        &lt;type&gt;esa&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.openliberty.features&lt;/groupId&gt;\n        &lt;artifactId&gt;mpContextPropagation-1.0&lt;/artifactId&gt;\n        &lt;version&gt;24.0.0.9&lt;/version&gt;\n        &lt;type&gt;esa&lt;/type&gt;\n    &lt;/dependency&gt;\n &lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;fork&gt;true&lt;/fork&gt;\n                &lt;compilerArguments&gt;--add-modules=javax.annotation&lt;/compilerArguments&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;process&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;processors&gt;                            &lt;processor&gt;org.eclipse.persistence.internal.jpa.modelgen.CanonicalModelProcessor\n                            &lt;/processor&gt;\n                        &lt;/processors&gt;\n                        &lt;outputDirectory&gt;${build.java.generated}&lt;/outputDirectory&gt;\n                        &lt;compilerArguments&gt;\n                            -Aeclipselink.persistencexml=${project.basedir}/src/local/resources/META-INF/persistence.xml\n                        &lt;/compilerArguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n                    &lt;artifactId&gt;org.eclipse.persistence.jpa.modelgen.processor&lt;/artifactId&gt;\n                    &lt;version&gt;2.7.1&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;add-source&lt;/id&gt;\n                    &lt;phase&gt;process-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;${build.java.generated}&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n     &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>This are my features on liberty server (I upgraded some library from the jdk8 version):</p>\n<pre><code>&lt;server&gt;    \n  &lt;featureManager&gt;\n    &lt;feature&gt;localConnector-1.0&lt;/feature&gt;\n    &lt;feature&gt;appSecurity-3.0&lt;/feature&gt;\n    &lt;feature&gt;microProfile-3.3&lt;/feature&gt;\n    &lt;feature&gt;jpa-2.2&lt;/feature&gt;\n    &lt;feature&gt;beanValidation-2.0&lt;/feature&gt;\n    &lt;feature&gt;mpContextPropagation-1.0&lt;/feature&gt;\n    &lt;feature&gt;jndi-1.0&lt;/feature&gt;\n    &lt;feature&gt;cdi-2.0&lt;/feature&gt;\n    &lt;feature&gt;passwordUtilities-1.0&lt;/feature&gt;\n    &lt;feature&gt;transportSecurity-1.0&lt;/feature&gt; \n    &lt;feature&gt;ssl-1.0&lt;/feature&gt;\n    &lt;feature&gt;ejbLite-3.2&lt;/feature&gt;\n    &lt;feature&gt;concurrent-1.0&lt;/feature&gt;\n    &lt;feature&gt;ejbPersistentTimer-3.2&lt;/feature&gt;                                        \n  &lt;/featureManager&gt;    \n&lt;/server&gt;\n</code></pre>\n<p>I tried to use jakarta instead of javax but with no success (it broken my jms queue too), any idea about how to fix this null pointer?</p>\n<p>Edit:\n@Jared: I already had <code>javax.annotation:javax.annotation-api:1.3</code>, just omitted it from the <code>pom</code> so it didn't look too long.\nThis is the real error:</p>\n<pre><code>[24/09/24, 16:12:22:804 CEST] 00000051 com.ibm.ws.jpa.management.JPAApplInfo                        E CWWJP0029E: The server cannot find the primary persistence unit in the ws-asd-forniture.war module and the ws-asd-forniture application.\n[24/09/24, 16:12:22:805 CEST] 00000051 com.ibm.wsspi.injectionengine.InjectionBinding               E CWNEN0035E: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:22:862 CEST] 00000051 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved. com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl 201&quot; at ffdc_24.09.24_16.12.22.0.log\n[24/09/24, 16:12:22:862 CEST] 00000051 bm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl E CWOWB1000E: A CDI error has occurred: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:22:885 CEST] 00000051 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved. com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl.inject 248&quot; at ffdc_24.09.24_16.12.22.1.log\n[24/09/24, 16:12:22:917 CEST] 00000051 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;java.security.PrivilegedActionException: com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved. com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl 118&quot; at ffdc_24.09.24_16.12.22.2.log\n[24/09/24, 16:12:22:917 CEST] 00000051 bm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl E CWOWB1000E: A CDI error has occurred: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:23:033 CEST] 00000051 com.ibm.ws.jpa.management.JPAApplInfo                        E CWWJP0029E: The server cannot find the primary persistence unit in the ws-asd-forniture.war module and the ws-asd-forniture application.\n[24/09/24, 16:12:23:034 CEST] 00000051 com.ibm.wsspi.injectionengine.InjectionBinding               E CWNEN0035E: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:23:072 CEST] 00000051 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved. com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl 201&quot; at ffdc_24.09.24_16.12.23.0.log\n[24/09/24, 16:12:23:072 CEST] 00000051 bm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl E CWOWB1000E: A CDI error has occurred: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:23:089 CEST] 00000051 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved. com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl.inject 248&quot; at ffdc_24.09.24_16.12.23.1.log\n[24/09/24, 16:12:23:123 CEST] 00000051 com.ibm.ws.logging.internal.impl.IncidentImpl                I FFDC1015I: An FFDC Incident has been created: &quot;java.security.PrivilegedActionException: com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved. com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl 118&quot; at ffdc_24.09.24_16.12.23.2.log\n[24/09/24, 16:12:23:124 CEST] 00000051 bm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl E CWOWB1000E: A CDI error has occurred: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:23:134 CEST] 00000051 com.ibm.ws.opentracing.OpentracingJaxRsEMCallbackImpl        W CWMOT0009W: The OpenTracing exception mapper detected and is handling an unhandled exception from the JAX-RS application. \n                                                                                                               java.lang.NullPointerException: Cannot invoke &quot;javax.persistence.EntityManager.find(java.lang.Class, Object)&quot; because &quot;this.em&quot; is null\n    at it.jajei.nuovaasd.terzeparti.ws.dao.GenericDao.getItemById(GenericDao.java:29)\n[others errors...]\n\n[24/09/24, 16:12:23:253 CEST] 00000051 com.ibm.ws.jpa.management.JPAApplInfo                        E CWWJP0029E: The server cannot find the primary persistence unit in the ws-asd-forniture.war module and the ws-asd-forniture application.\n[24/09/24, 16:12:23:254 CEST] 00000051 com.ibm.wsspi.injectionengine.InjectionBinding               E CWNEN0035E: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:23:255 CEST] 00000051 bm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl E CWOWB1000E: A CDI error has occurred: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n[24/09/24, 16:12:23:256 CEST] 00000051 bm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl E CWOWB1000E: A CDI error has occurred: The java:comp/env/it.jajei.nuovaasd.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-asd-forniture.war module of the ws-asd-forniture application cannot be resolved.\n\n[this is another part the application, that if it finds out an error, it try to write it in a database row}\n[24/09/24, 16:12:23:553 CEST] 00000051 ei.nuovaasd.terzeparti.ws.server.filter.RequestLoggingFilter E Errore durante le operazioni di tracciamento su LOG_CHIAMATA: Cannot invoke &quot;javax.transaction.UserTransaction.begin()&quot; because &quot;this.userTran&quot; is null\n</code></pre>\n<p>This is the first ffdc incident:</p>\n<pre><code>Exception = java.security.PrivilegedActionException\nSource = com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl\nprobeid = 118\nStack Dump = java.security.PrivilegedActionException: com.ibm.wsspi.injectionengine.InjectionException: The java:comp/env/it.jajei.nuovaimu.terzeparti.ws.factory.FactoryResources/em reference of type javax.persistence.EntityManager for the null component in the ws-imu-forniture.war module of the ws-imu-forniture application cannot be resolved.\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:575)\n    at com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl.callInject(WebSphereInjectionServicesImpl.java:132)\n    at com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl.injectJavaEEResources(WebSphereInjectionServicesImpl.java:114)\n    at com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl.aroundInject(WebSphereInjectionServicesImpl.java:319)\n    at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:46)\n    at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:71)\n    at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:117)\n    at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:161)\n    at org.jboss.weld.contexts.unbound.DependentContextImpl.get(DependentContextImpl.java:64)\n    at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\n    at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\n    at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:694)\n    at org.jboss.weld.injection.producer.AbstractMemberProducer.getReceiver(AbstractMemberProducer.java:123)\n    at org.jboss.weld.injection.producer.AbstractMemberProducer.produce(AbstractMemberProducer.java:158)\n    at org.jboss.weld.bean.AbstractProducerBean.create(AbstractProducerBean.java:180)\n    at org.jboss.weld.contexts.unbound.DependentContextImpl.get(DependentContextImpl.java:64)\n    at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:100)\n    at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)\n    at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:694)\n    at org.jboss.weld.manager.BeanManagerImpl.getInjectableReference(BeanManagerImpl.java:794)\n    at org.jboss.weld.injection.FieldInjectionPoint.inject(FieldInjectionPoint.java:92)\n    at org.jboss.weld.util.Beans.injectBoundFields(Beans.java:345)\n    at org.jboss.weld.util.Beans.injectFieldsAndInitializers(Beans.java:356)\n    at org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:69)\n    at com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl$3.run(WebSphereInjectionServicesImpl.java:325)\n    at com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl$3.run(WebSphereInjectionServicesImpl.java:322)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:319)\n    at com.ibm.ws.cdi.impl.weld.injection.WebSphereInjectionServicesImpl.aroundInject(WebSphereInjectionServicesImpl.java:322)\n    at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:46)\n[...omitted]\n</code></pre>\n<p>This is part of the class, the word &quot;primary&quot; match with my persistance.xml:</p>\n<pre><code>    @ApplicationScoped\n    @Slf4j\n    public class GenericDao {\n    \n        @PersistenceContext(unitName = &quot;primary&quot;)\n        private EntityManager em;\n    \n        @Resource\n        UserTransaction userTran;\n    \n        public &lt;T&gt; T getItemById(Class&lt;T&gt; clazz, Object id) {\n            return em.find(clazz, id);\n        }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}