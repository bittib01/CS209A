{
  "question": {
    "tags": [
      "java",
      "maven",
      "testing",
      "maven-failsafe-plugin"
    ],
    "owner": {
      "account_id": 3366819,
      "reputation": 3591,
      "user_id": 2827181,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/WJK16.jpg?s=256",
      "display_name": "Marc Le Bihan",
      "link": "https://stackoverflow.com/users/2827181/marc-le-bihan"
    },
    "is_answered": false,
    "view_count": 57,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1750342782,
    "creation_date": 1750230534,
    "last_edit_date": 1750231737,
    "question_id": 79670171,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79670171/when-some-test-suites-exist-in-a-module-how-may-i-ask-maven-failsafe-to-run-onl",
    "title": "When some test suites exist in a module, how may I ask maven failsafe to run only them (they are running test cases) and not them and the test cases?",
    "body": "<p>If I run it with an <code>assemblage</code> profile, my Maven runs a <code>failsafe</code> plugin when encountering a file ending with <code>IT</code>, and that's what I was willing until now:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profile&gt;\n    &lt;id&gt;default&lt;/id&gt;\n\n    &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n    &lt;/activation&gt;\n\n    &lt;properties&gt;\n        &lt;skip.integration.tests&gt;true&lt;/skip.integration.tests&gt;\n        &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n    &lt;/properties&gt;\n&lt;/profile&gt;\n\n&lt;profile&gt;\n    &lt;id&gt;assemblage&lt;/id&gt;\n\n    &lt;properties&gt;\n        &lt;skip.integration.tests&gt;false&lt;/skip.integration.tests&gt;\n        &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;${skip.integration.tests}&lt;/skipTests&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${surefire-version}&lt;/version&gt;\n\n    &lt;configuration&gt;\n        &lt;skipTests&gt;${skip.unit.tests}&lt;/skipTests&gt;\n\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/IT*.java&lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>My modules have some unit tests and IT test cases. And now some (but not all modules) have also test suites:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ls */*IT*\ncog/CogSuiteIT.java      \n\ncog/DepartementsITCase.java         \ncog/RegionsITCase.java         \ncog/CommunesITCase.java  \ncog/EvenementsCommunauxITCase.java  \ncog/SirenCommunauxITCase.java  \n\ncompetence/CompetenceITCase.java\ngroupement/GroupementsPerimetresITCase.java\n</code></pre>\n<p>A test suite is here to set the order of execution of assembly/integration test cases [that are in my project stateful by choice], to optimize their execution speed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Suite\n@SelectClasses({\n   RegionsITCase.class, DepartementsITCase.class, SirenCommunauxITCase.class, \n   CommunesITCase.class, EvenementsCommunauxITCase.class\n})\n@DisplayName(&quot;Code Officiel Géographique&quot;)\npublic class CogSuiteIT {\n}\n</code></pre>\n<p>My problem: if I run a <code>mvn install -Passemblage | grep -F 'IT' | grep -F 'Tests run'</code> here's what I see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] Tests run: [...] Time elapsed: 30.522 s - in [*].CompetenceITCase\n[INFO] Tests run: [...] Time elapsed: 242.972 s - in [*].CommunesITCase\n[INFO] Tests run: [...] Time elapsed: 0.91 s - in [*].RegionsITCase\n[INFO] Tests run: [...] Time elapsed: 16.238 s - in [*].SirenCommunauxITCase\n[INFO] Tests run: [...] Time elapsed: 1.043 s - in [*].DepartementsITCase\n[INFO] Tests run: [...] Time elapsed: 2.855 s - in [*].EvenementsCommunauxITCase\n[ERROR] Tests run: [...] Time elapsed: 61.191 s &lt;&lt;&lt; FAILURE! - in [*].GroupementsPerimetresITCase\n[INFO] Tests run: [...] Time elapsed: 258.096 s - in CogSuiteIT\n</code></pre>\n<p>Not only the execution order isn't the one I am expecting,<br />\n<code>{CommunesITCase, RegionsITCase, SirenCommunauxITCase, DepartementsITCase, EvenementsCommunauxITCase}</code><br />\n≠ <code>{RegionsITCase, DepartementsITCase, SirenCommunauxITCase, CommunesITCase, EvenementsCommunauxITCase}</code></p>\n<p>but these tests looks also run twice, as <code>CogSuiteIT</code> is marked as run too.</p>\n<p>What the best way to solve this problem?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}