{
  "question": {
    "tags": [
      "java",
      "quarkus",
      "graalvm",
      "apple-m2"
    ],
    "owner": {
      "account_id": 462886,
      "reputation": 3098,
      "user_id": 865448,
      "user_type": "registered",
      "accept_rate": 82,
      "profile_image": "https://www.gravatar.com/avatar/152023fb742facb625142611b9fa7474?s=256&d=identicon&r=PG",
      "display_name": "tostao",
      "link": "https://stackoverflow.com/users/865448/tostao"
    },
    "is_answered": false,
    "view_count": 623,
    "answer_count": 0,
    "score": 2,
    "last_activity_date": 1717658936,
    "creation_date": 1707950939,
    "last_edit_date": 1717658936,
    "question_id": 77997607,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77997607/is-it-possible-to-build-graalvm-native-binary-on-apples-m1-2-architecture-and-r",
    "title": "Is it possible to build GraalVM Native binary on Apple&#39;s M1/2 Architecture and run on arm64? (ubuntu machine)",
    "body": "<p>I am running Quarkus Application on Heroku. Based on this <a href=\"https://blog.doubleslash.de/how-to-deploy-a-native-quarkus-application-on-heroku\" rel=\"nofollow noreferrer\">tutorial</a>. I build native binary and put it inside docker, and this docker image runs inside heroku.\nIn the past I used Mac with Intel, so was able to build and push the image to heroku. Now I switched to Mac with M2 Processor. Is it still possible to build the image on mac and run it on heroku? Apple Silicon Valley is <code>linux/arm64/v8</code> and Heroku probably needs <code>arm64</code>. How can I do this?</p>\n<p>In the documentation: <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/Options/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.0/reference-manual/native-image/Options/</a></p>\n<p>I see this option: <code>--target: select the native image compilation target (in - format). It defaults to the host's OS-architecture pair.</code></p>\n<p><strong>Edited:</strong>\ncurrent size of native(runner) files:</p>\n<ul>\n<li>Intel - 88MB</li>\n<li>Apple M2- 86MB</li>\n<li>Github action - 94.7MB (zip file 31.6MB)</li>\n</ul>\n<p><strong>Edited v2:</strong></p>\n<p>I decided to use github action, and build it there and upload as artifact, action file:</p>\n<pre><code>name: Heroku-Bot-CI Build artifacts for new tag\n\non:\n  push:\n    tags:\n      - '[0-9].[0-9].[0-9]'\n\njobs:\n  build_and_upload:\n    name: Set up JDK 21\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v1\n    - uses: graalvm/setup-graalvm@v1\n      with:\n        java-version: 21\n        distribution: 'graalvm'\n    - run: mvn package -Pnative -Dquarkus.native.container-build=true\n\n    - uses: actions/upload-artifact@v4\n      with:\n        name: heroku-bot-runner-${{github.ref_name}}\n        path: target/heroku-bot-1.0-SNAPSHOT-runner\n        if-no-files-found: error\n</code></pre>\n<p><s>But now I am looking for the solution, how/where can I publish this binary file, so later can I use it. Any ideas?</s></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}