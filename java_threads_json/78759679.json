{
  "question": {
    "tags": [
      "javascript",
      "java",
      "react-native",
      "kotlin",
      "react-native-community-netinfo"
    ],
    "owner": {
      "account_id": 11342534,
      "reputation": 262,
      "user_id": 8316079,
      "user_type": "registered",
      "profile_image": "https://graph.facebook.com/250985918739523/picture?type=large",
      "display_name": "Ahsan Baloch",
      "link": "https://stackoverflow.com/users/8316079/ahsan-baloch"
    },
    "is_answered": true,
    "view_count": 378,
    "accepted_answer_id": 78787791,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1721817091,
    "creation_date": 1721221472,
    "last_edit_date": 1721650944,
    "question_id": 78759679,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78759679/task-react-native-community-netinfocompiledebugjavawithjavac-failed",
    "title": "Task :react-native-community_netinfo:compileDebugJavaWithJavac FAILED",
    "body": "<p>When i add this library @react-native-community/netinfo i get this error otherwise my app runs fine. it only happens for android it works perfectly on mac for iOS. ive tried cleaning gradle\nadding ANDROIDHOME to env\nadding paths for them</p>\n<p>Nothing works</p>\n<pre><code>&quot;react-native&quot;: &quot;0.70.5&quot;,\n&quot;react-native-actions-sheet&quot;: &quot;^0.7.2&quot;,\n&quot;react-native-chart-kit&quot;: &quot;^6.12.0&quot;,\n&quot;react-native-cli&quot;: &quot;^2.0.1&quot;,\n&quot;@react-native-community/netinfo&quot;: &quot;^11.3.2&quot;,\n</code></pre>\n<p>Following is the error im getting when i add the netinfo library to the app. when im using ios its working fine the app starts. but when i move to android i get this error when starting the app</p>\n<pre><code>See https://docs.gradle.org/7.3.3/userguide/command_line_interface.html#sec:command_line_warnings\n153 actionable tasks: 147 executed, 6 up-to-date\nWarning: This version only understands SDK XML versions up to 3 but an SDK XML file of version 4 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.\nNote: D:\\Projects\\ReactNative\\Project\\node_modules\\@react-native-async-storage\\async-storage\\android\\src\\main\\java\\com\\reactnativecommunity\\asyncstorage\\AsyncStorageModule.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: D:\\Projects\\ReactNative\\Project\\node_modules\\@react-native-async-storage\\async-storage\\android\\src\\main\\java\\com\\reactnativecommunity\\asyncstorage\\AsyncStoragePackage.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\nD:\\Projects\\ReactNative\\Project\\node_modules\\@react-native-community\\netinfo\\android\\src\\main\\java\\com\\reactnativecommunity\\netinfo\\NetInfoUtils.java:45: error: cannot find symbol\n                    receiver, filter, exported ? Context.RECEIVER_EXPORTED : Context.RECEIVER_NOT_EXPORTED);\n                                                        ^\n  symbol:   variable RECEIVER_EXPORTED\n  location: class Context\nD:\\Projects\\ReactNative\\Project\\node_modules\\@react-native-community\\netinfo\\android\\src\\main\\java\\com\\reactnativecommunity\\netinfo\\NetInfoUtils.java:45: error: cannot find symbol\n                    receiver, filter, exported ? Context.RECEIVER_EXPORTED : Context.RECEIVER_NOT_EXPORTED);\n                                                                                    ^\n  symbol:   variable RECEIVER_NOT_EXPORTED\n  location: class Context\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':react-native-community_netinfo:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n<p>My Build Gradle is</p>\n<pre><code>buildscript {\n    ext {\n        buildToolsVersion = &quot;31.0.0&quot;\n        minSdkVersion = 21\n        compileSdkVersion = 32\n        targetSdkVersion = 33\n        kotlinVersion = &quot;1.6.10&quot;\n\n        if (System.properties['os.arch'] == &quot;aarch64&quot;) {\n            // For M1 Users we need to use the NDK 24 which added support for aarch64\n            ndkVersion = &quot;24.0.8215888&quot;\n        } else {\n            // Otherwise we default to the side-by-side NDK version from AGP.\n            ndkVersion = &quot;21.4.7075529&quot;\n        }\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath ('com.android.tools.build:gradle:2.3.1')\n        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n        classpath(&quot;de.undercouch:gradle-download-task:5.0.1&quot;)\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot; // &lt;- add this line\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n        mavenCentral {\n            // We don't want to fetch react-native from Maven Central as there are\n            // older versions over there.\n            content {\n                excludeGroup &quot;com.facebook.react&quot;\n            }\n        }\n        google()\n        maven { url 'https://www.jitpack.io' }\n    }\n}\n</code></pre>\n<p>My JDK is 17</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}