{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "eclipse",
      "junit",
      "mockito"
    ],
    "owner": {
      "account_id": 30377483,
      "reputation": 1,
      "user_id": 23279402,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/15a165bcd6fa3d499b8c2c05bb079160?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "bhargava",
      "link": "https://stackoverflow.com/users/23279402/bhargava"
    },
    "is_answered": false,
    "view_count": 1427,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1708421415,
    "creation_date": 1705899224,
    "last_edit_date": 1705910782,
    "question_id": 77857695,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/77857695/unable-to-make-protected-final-java-lang-class-java-lang-classloader-defineclass",
    "title": "Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) thr",
    "body": "<p>I got this error while i executed my mockito test file,here i have void main and also in the src/main/java i have another main how to resolve this error i have tried this from this website <a href=\"https://www.tutorialspoint.com/mockito/mockito_first_application.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/mockito/mockito_first_application.htm</a> and also any suggestions to learn junit+mockito+springboot</p>\n<p>I tried this code it should show output as pass but got error as Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError</p>\n<pre><code>package com.tutorialspoint.mock;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.mockito.Mockito.*;\n\npublic class PortfolioTester {\n    \n   Portfolio portfolio; \n   StockService stockService;\n       \n   \n   public static void main(String[] args){\n      PortfolioTester tester = new PortfolioTester();\n      tester.setUp();\n      System.out.println(tester.testMarketValue()?&quot;pass&quot;:&quot;fail&quot;);\n   }\n   \n   public void setUp(){\n      //Create a portfolio object which is to be tested     \n      portfolio = new Portfolio();      \n  \n      //Create the mock object of stock service\n      stockService = mock(StockService.class);      \n  \n      //set the stockService to the portfolio\n      portfolio.setStockService(stockService);\n   }\n   \n   public boolean testMarketValue(){\n           \n      //Creates a list of stocks to be added to the portfolio\n      List&lt;Stock&gt; stocks = new ArrayList&lt;Stock&gt;();\n      Stock googleStock = new Stock(&quot;1&quot;,&quot;Google&quot;, 10);\n      Stock microsoftStock = new Stock(&quot;2&quot;,&quot;Microsoft&quot;,100);    \n \n      stocks.add(googleStock);\n      stocks.add(microsoftStock);\n\n      //add stocks to the portfolio\n      portfolio.setStocks(stocks);\n\n      //mock the behavior of stock service to return the value of various stocks\n      when(stockService.getPrice(googleStock)).thenReturn(50.00);\n      when(stockService.getPrice(microsoftStock)).thenReturn(1000.00);      \n\n      double marketValue = portfolio.getMarketValue();      \n      return marketValue == 100500.0;\n   }\n}\n</code></pre>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}