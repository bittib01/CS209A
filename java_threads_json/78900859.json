{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "hibernate"
    ],
    "owner": {
      "account_id": 13085827,
      "reputation": 135,
      "user_id": 13261153,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/-6XmJIZVH0yg/AAAAAAAAAAI/AAAAAAAAFvw/j4XsoU8Es48/s256-rj/photo.jpg",
      "display_name": "Steve Chacko",
      "link": "https://stackoverflow.com/users/13261153/steve-chacko"
    },
    "is_answered": true,
    "view_count": 29,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1724328509,
    "creation_date": 1724319853,
    "question_id": 78900859,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78900859/springboot-cron-jobs-add-more-service-logic-or-use-multiple-repository-fetch-ca",
    "title": "Springboot CRON jobs: Add more service logic or use multiple repository fetch call?",
    "body": "<p>My codebase has a cron job that fetches data somewhat like this pseudocode:</p>\n<pre><code>@Scheduled\n@Transactional\n    public void sendMessageRequest() {\n           List&lt;pm&gt; pm1= pmRepository.findAllWithMessagesToSend();\n           //logic on this data\n           List&lt;pm&gt; pm2= pmRepository.findAllWithRemindersNotInWithStatus(pm1, Status.CREATED)\n           for (PM pm: pm2) {\n                    try {\n                        NotificationType notificationType = null;\n                        Integer reminderCount = null;\n                        if (checkIfOneDayOld(pm)) {\n                            notificationType = NotificationType.REMINDER_ONE;\n                            reminderCount = 1;\n\n                        } else if (checkIf2DaysOld(pm)) {\n                            notificationType = NotificationType.REMINDER_TWO;\n                            reminderCount = pm.getReminderCount() + 1;\n                        }\n                        if (notificationType != null) {\n                        //more logic\n                        pmRepository.save(pm)\n            }\n     }\n</code></pre>\n<p>the data maybe be atleast 1000s of records at times and this cron has to be run every 15 minutes.</p>\n<p>Should I have the code like this or instead of doing a repository fetch call like this findAllWithRemindersNotInWithStatus, should I have multiple repository calls like findPMsForReminderOne, findPMsForReminderTwo etc.</p>\n<p>Also should I save every pm within the loop or do a batch save at the end? Which would be faster for a CRON running every 15mins?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}