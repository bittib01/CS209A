{
  "question": {
    "tags": [
      "java",
      "menu",
      "jframe",
      "jbutton"
    ],
    "owner": {
      "account_id": 27082294,
      "reputation": 11,
      "user_id": 20631298,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ALm5wu1qDcZqe8PeYzt869nPS8TxRrrNc860Xm84X5NH=k-s256",
      "display_name": "Alex Parker",
      "link": "https://stackoverflow.com/users/20631298/alex-parker"
    },
    "is_answered": false,
    "view_count": 62,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1724340489,
    "creation_date": 1724119841,
    "question_id": 78890378,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78890378/unable-to-deselect-a-jbutton-once-it-has-been-clicked",
    "title": "Unable to deselect a JButton once it has been clicked",
    "body": "<p>So I am writing a program which has several layers of menus using a JFrame with JButtons but once the user clicks a button that button ends up stuck as selected and I cannot update it. Any help please?</p>\n<p>Code:</p>\n<pre><code>// Libraries\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class test extends JComponent implements ActionListener {\n    // Globals\n    static String buttonPressed = &quot;&quot;;\n    // Dimensions\n    static final int WIDTH = 765;\n    static final int HEIGHT = 765;\n    static final int BUTTON_WIDTH = 220;\n    static final int BUTTON_HEIGHT = 105;\n    // General file path\n    static final String filePath = &quot;&lt;General path for my images&gt;&quot;;\n    // GUI construction\n    static JFrame mainFrame;\n    static JButton tl;\n\n    public static void main(String[] args) throws IOException {\n        GUI menuCall = new GUI();\n        menuCall.menu();\n    }\n\n    public void menu() throws IOException {\n        // Main JFrame construction\n        mainFrame = new JFrame(&quot;Racing Game&quot;);\n        mainFrame.setSize(WIDTH, HEIGHT);\n        mainFrame.setLayout(null);\n        mainFrame.setLocationRelativeTo(null);\n        mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        mainFrame.setResizable(false);\n\n        // Sets background of main JFrame to menu background - calls ImagePanel class\n        BufferedImage backBuff = ImageIO.read(new File((filePath + &quot;\\\\Sprites\\\\Menu.png&quot;)));\n        mainFrame.setContentPane(new ImagePanel(backBuff));\n\n        // Menu JButton setup\n        tl = new JButton(&quot;Free Drive&quot;);\n        tl.setBounds(112, 112, BUTTON_WIDTH, BUTTON_HEIGHT);\n        tl.setForeground(Color.white);\n        tl.setBackground(Color.decode(&quot;0x04092E&quot;));\n        tl.setFocusPainted(false);\n        tl.addActionListener(this);\n        mainFrame.add(tl);\n\n        //...\n\n        // Makes the main JFrame visible\n        mainFrame.setVisible(true);\n    }\n    public static void freeDrive() {\n        try {\n            Thread.sleep(1000000); // Just doing this to show that it stays selected, there is other code here\n        } catch (Exception e) {}\n    }\n    // Overrides\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        freeDrive();\n    }\n}\n</code></pre>\n<p>I've tried removing the JButton, setting it as not selected and updating a variable to allow the override subroutine to end (this I thought would definitely work but for some reason the variable isn't saved when the code returns to the main subroutine - any advice on how to fix this would also be great).</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}