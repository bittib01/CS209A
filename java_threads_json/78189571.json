{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "hibernate",
      "jpql",
      "entitymanager"
    ],
    "owner": {
      "account_id": 11766020,
      "reputation": 131,
      "user_id": 8610598,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/8v3az.jpg?s=256",
      "display_name": "Spider",
      "link": "https://stackoverflow.com/users/8610598/spider"
    },
    "is_answered": false,
    "view_count": 943,
    "answer_count": 2,
    "score": 1,
    "last_activity_date": 1720077623,
    "creation_date": 1710881327,
    "question_id": 78189571,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78189571/sqlresultsetmapping-with-constructorresult-checks-for-all-the-field-using-beanp",
    "title": "@SqlResultSetMapping with ConstructorResult checks for all the field using BeanProperty",
    "body": "<p>I have an old application which uses entity manager with native queries. The entities are annotated with @SqlResultSetMapping and it uses @ConstructorResult. The application was working fine with older version of Hibernate. However, after the update to hibernate 6.2. The application is no longer able to map field.</p>\n<p>For example, let's assume I have a native query &quot;<code>SELECT FIRST_NAME from PERSON</code>&quot;</p>\n<p>And assuming I have an entity</p>\n<pre><code>@SqlResultSetMapping(\n   name = &quot;MAPPING_PERSON&quot;,\n   classes = {\n       @ConstructorResult(\n               targetClass = PersonPOJO.class,\n               columns = {\n                     @ColumnResult(name = &quot;FIRST_NAME&quot;)\n               }\n       )\n   }\n)\n@Entity\n@Getter\n@Setter\npublic class Person {\n    private Long id;    \n    private String firstname;\n}\n</code></pre>\n<p>And assuming I have a class called PersonPOJO</p>\n<pre><code>public class PersonPOJO {\n    private String firstname;\n\n    public Person(String firstname) {\n        this.firstname = firstname;\n    }\n\n    public String getFirstname() {\n        return this.firstname;\n    }\n\n    public String setFirstname(String firstname) {\n        this.firstname = firstname;\n    }\n}\n</code></pre>\n<p>When I use <code>entityManager.createNativeQuery(sqlQuery, &quot;MAPPING_PERSON&quot;)</code>, I get an hibernate instantiation exception, Cannot set field &quot;FIRST_NAME&quot; to instantiate.</p>\n<p>I tried to debug and I found out that hibernate is using DynamicInstantiationAssemblerInjectionImpl internally, and that class uses findField method of Class.java</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}