{
  "question": {
    "tags": [
      "java",
      "flutter",
      "dart",
      "gradle",
      "integration"
    ],
    "owner": {
      "account_id": 40057896,
      "reputation": 1,
      "user_id": 29745935,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/66c103c2c88e64532b5e41c8170135c4?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Matheus Azevedo Rosa",
      "link": "https://stackoverflow.com/users/29745935/matheus-azevedo-rosa"
    },
    "is_answered": false,
    "view_count": 26,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1740201691,
    "creation_date": 1740201691,
    "question_id": 79459122,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79459122/error-generating-apk-for-positivo-terminal-integration",
    "title": "Error Generating APK for Positivo Terminal Integration",
    "body": "<p>I'm encountering an error while trying to generate the APK for integration with Stone. The app requires Positivo credentials to be installed on credit card terminals. However, when I attempt to generate the APK using the flutter run --flavor dev command, the following error occurs:</p>\n<p><a href=\"https://i.sstatic.net/JdmErC2C.png\" rel=\"nofollow noreferrer\">flutter run --flavor dev</a>\n<a href=\"https://i.sstatic.net/jtA9B8SF.png\" rel=\"nofollow noreferrer\">image2</a></p>\n<p>Steps Followed: I followed the instructions in the link below as part of the setup process for integration with the Positivo terminal from Stone:\nPositivo: Build Process for Application on Debug Terminal</p>\n<p>Observed Error: It seems that Flutter is unable to find the generated APK, or Gradle is failing to build the required APK. The error appears in the terminal as a failure in the Gradle build process.</p>\n<p>build.gradle Configuration: I included the configuration snippet from the build.gradle file below, which has been modified to add the custom Positivo signing config as per the documentation. Here's the complete file with the settings I made.\n`</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '1'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0'\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\napply from: file('../positivo/positivo-signing-config.gradle')\n\nandroid {\n    compileSdkVersion 34\n    ndkVersion flutter.ndkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        applicationId &quot;dev.ltag.stone_payments_example&quot;\n        minSdkVersion 23\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n    }\n\n    flavorDimensions &quot;manufacturer&quot;\n\n    productFlavors {\n        standard {\n            dimension &quot;manufacturer&quot;\n            signingConfig signingConfigs.positivo \n            isDefault true\n        }\n        dev {\n            dimension &quot;manufacturer&quot;\n            signingConfig signingConfigs.positivo\n        }\n    }\n\n    buildTypes {\n        release {\n            signingConfig signingConfigs.debug\n        }\n        positivo {\n            initWith release\n            signingConfig null\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n}\n\n</code></pre>\n<p>What I Have Tried:</p>\n<p>I ran flutter clean and then tried again with flutter run --flavor dev.\nI checked the local.properties file to ensure the Flutter SDK is properly configured.\nQuestion: Can anyone help me identify what might be causing the APK generation failure, or if there is an issue with the Gradle configuration that is preventing installation on the Positivo terminal?</p>\n<p>I ran flutter clean and then tried again with flutter run --flavor dev.\nI checked the local.properties file to ensure the Flutter SDK is properly configured.\nQuestion: Can anyone help me identify what might be causing the APK generation failure, or if there is an issue with the Gradle configuration that is preventing installation on the Positivo terminal?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}