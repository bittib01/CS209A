{
  "question": {
    "tags": [
      "java",
      "regex",
      "regex-group"
    ],
    "owner": {
      "account_id": 980746,
      "reputation": 8770,
      "user_id": 1000510,
      "user_type": "registered",
      "accept_rate": 76,
      "profile_image": "https://i.sstatic.net/Bhpgn.png?s=256",
      "display_name": "Basit",
      "link": "https://stackoverflow.com/users/1000510/basit"
    },
    "is_answered": true,
    "view_count": 240,
    "accepted_answer_id": 79733141,
    "answer_count": 2,
    "score": 5,
    "last_activity_date": 1754999976,
    "creation_date": 1744698810,
    "last_edit_date": 1744740661,
    "question_id": 79574498,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79574498/regular-expression-groups-are-not-capturing-properly",
    "title": "Regular expression groups are not capturing properly",
    "body": "<p>I have following expression:</p>\n<pre><code>String formula7 = &quot;(^TBC10.Actual.Value_&lt;&lt;Year&gt;&gt; == \\&quot;Final\\&quot; ? ^FN10101.Actual.Value_&lt;&lt;Year&gt;&gt; : ^INT805.Consensus.Value_&lt;&lt;Year&gt;&gt;) - (^PH2003 + ^PH2005 + ^PH2011 + ^PH2010 + ^PH2837 + ^PH2838 + ^PH2839 + ^PH2006 + ^PH2089)&quot;;\n</code></pre>\n<p>Now I want to extract groups from this string like the following:</p>\n<pre><code>// First bracket\n1.( ^ TBC10.Actual.Value_ &lt;&lt; Year &gt;&gt; == &quot;Final&quot; ? ^ FN10101.Actual.Value_ &lt;&lt; Year &gt;&gt; : ^ INT805.Consensus.Value_ &lt;&lt; Year &gt;&gt; )\n\n// Condition\n2. TBC10.Actual.Value_ &lt;&lt; Year &gt;&gt; == &quot;Final&quot;\n\n// Condition left side\n3. TBC10.Actual.Value_ &lt;&lt; Year &gt;&gt;\n\n// Condition right side\n4. Final\n\n// Trure condition value\n5. FN10101.Actual.Value_ &lt;&lt; Year &gt;&gt;\n\n// False condition value\n6. INT805.Consensus.Value_ &lt;&lt; Year &gt;&gt;\n\n// Other part\n7. - ( ^ PH2003 + ^ PH2005 + ^ PH2011 + ^ PH2010 + ^ PH2837 + ^ PH2838 + ^ PH2839 + ^ PH2006 + ^ PH2089)\n</code></pre>\n<p>To achieve this, I made the following regular expression</p>\n<pre><code>// Start with any characters. Then space. But it is optional. Then == sign. Then space. But it is optional.\n// Then contain any characters. Then space. But it is optional. Then contains ?. Then space. But it is\n// optional. Then contain any characters. Then space. But it is optional. Then contains : Then space. But it\n// Is optional. Then contain any characters. Then any characters. But it is optional\npublic static final String CONDITION_REGEX = &quot;((((.*)\\\\s?==\\\\s?(.*))\\\\s?\\\\?\\\\s?(.*)\\\\s?:\\\\s?(.*))(.*)?)&quot;;\npublic static final Pattern CONDITION_PATTERN = Pattern.compile(CONDITION_REGEX);\n</code></pre>\n<p>But when I run it, I am getting the following output</p>\n<pre><code>// replace caret(^), double comma(&quot;) and any white space from the string\nString formula = formula7.replaceAll(&quot;[\\\\^\\&quot;\\\\s]&quot;, &quot;&quot;);\n\nMatcher matcher = CONDITION_PATTERN.matcher(formula);\nif (matcher.matches()) {\n\n  // (TBC10.Actual.Value_&lt;&lt;Year&gt;&gt;==Final?FN10101.Actual.Value_&lt;&lt;Year&gt;&gt;:INT805.Consensus.Value_&lt;&lt;Year&gt;&gt;)-(PH2003+PH2005+PH2011+PH2010+PH2837+PH2838+PH2839+PH2006+PH2089)\n  String group1 = matcher.group(1);\n\n  // (TBC10.Actual.Value_&lt;&lt;Year&gt;&gt;==Final?FN10101.Actual.Value_&lt;&lt;Year&gt;&gt;:INT805.Consensus.Value_&lt;&lt;Year&gt;&gt;)-(PH2003+PH2005+PH2011+PH2010+PH2837+PH2838+PH2839+PH2006+PH2089)\n  String condition = matcher.group(2);\n\n  // (TBC10.Actual.Value_&lt;&lt;Year&gt;&gt;==Final\n  String conditionLeftSide = matcher.group(3);\n\n  // (TBC10.Actual.Value_&lt;&lt;Year&gt;&gt;\n  String conditionRightSide = matcher.group(4);\n\n  // Final\n  String trueCondition = matcher.group(5);\n\n  // FN10101.Actual.Value_&lt;&lt;Year&gt;&gt;\n  String condition6 = matcher.group(6);\n\n  // INT805.Consensus.Value_&lt;&lt;Year&gt;&gt;)-(PH2003+PH2005+PH2011+PH2010+PH2837+PH2838+PH2839+PH2006+PH2089)\n  String condition7 = matcher.group(7);\n\n  // &quot;&quot;\n  String condition8 = matcher.group(8);\n}\n</code></pre>\n<p>What I am doing wrong and how can I correct the <code>Regex</code> to achieve the result? I think <code>()</code> represent groups in <code>Regex</code>. And for each group I used <code>()</code>.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}