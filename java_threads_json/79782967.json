{
  "question": {
    "tags": [
      "java",
      "jakarta-mail",
      "simple-java-mail"
    ],
    "owner": {
      "account_id": 10555285,
      "reputation": 1269,
      "user_id": 7776688,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/aQnX0.png?s=256",
      "display_name": "IEE1394",
      "link": "https://stackoverflow.com/users/7776688/iee1394"
    },
    "is_answered": true,
    "view_count": 77,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1761133271,
    "creation_date": 1759665931,
    "last_edit_date": 1761133271,
    "question_id": 79782967,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79782967/how-to-deal-with-simple-java-mail-exception-451-mails-per-session-limit-exceeded",
    "title": "How to deal with Simple Java Mail exception 451-Mails per session limit exceeded",
    "body": "<p>I get an exception on sending mails using Simple Java Mail:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: org.eclipse.angus.mail.smtp.SMTPSendFailedException: 451-Requested action aborted\n451-Mails per session limit exceeded.\n451 1M5jA2-1vCMv12nl4-00H7V5\n\n    at org.eclipse.angus.mail.smtp.SMTPTransport.issueSendCommand(SMTPTransport.java:2407)\n    at org.eclipse.angus.mail.smtp.SMTPTransport.mailFrom(SMTPTransport.java:1812)\n    at org.eclipse.angus.mail.smtp.SMTPTransport.sendMessage(SMTPTransport.java:1290)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.lambda$sendMessage$0(TransportRunner.java:61)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.sendUsingConnectionPool(TransportRunner.java:92)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.runOnSessionTransport(TransportRunner.java:77)\n    at org.simplejavamail.mailer.internal.util.TransportRunner.sendMessage(TransportRunner.java:56)\n    at org.simplejavamail.mailer.internal.SendMailClosure.executeClosure(SendMailClosure.java:69)\n</code></pre>\n<p>What is the best strategy to deal with that?</p>\n<p>My current approach is</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    mailer.sendMail(email)\n} catch (e: MailException) {\n    logger.error(&quot;Failed to send mail '${email.subject}' to ${email.recipients}&quot;, e)\n    mailer.shutdownConnectionPool()\n    mailer = createMailer()\n    Thread.sleep(RECONNECTION_DELAY)\n}\n</code></pre>\n<p>I am not sure if that's a good way to do it.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}