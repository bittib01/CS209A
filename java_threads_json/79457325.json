{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "java-21",
      "virtual-threads"
    ],
    "owner": {
      "account_id": 1073482,
      "reputation": 12781,
      "user_id": 1072187,
      "user_type": "registered",
      "accept_rate": 36,
      "profile_image": "https://www.gravatar.com/avatar/6a15142de5577986384774484ff25fe6?s=256&d=identicon&r=PG",
      "display_name": "John Little",
      "link": "https://stackoverflow.com/users/1072187/john-little"
    },
    "is_answered": true,
    "view_count": 1687,
    "answer_count": 2,
    "score": 5,
    "last_activity_date": 1740928419,
    "creation_date": 1740139786,
    "last_edit_date": 1740581405,
    "question_id": 79457325,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79457325/spring-boot-with-java-21-virtual-threads-is-there-a-way-to-terminate-gracefull",
    "title": "Spring boot with java 21 virtual threads - is there a way to terminate gracefully?",
    "body": "<p>In SB 3.4 + java 21, when you terminate the java process, regardless of type of task executor, it will wait till all threads finish, which will include scheduled jobs as well as API calls.</p>\n<p>However, if you use virtual threads instead of a thread pool by adding this: <code>spring.threads.virtual.enabled=true</code> to the application.properties, and you shut down your application, it appears to terminate immediately, not waiting for any thread to finish.</p>\n<p>If so, is there an option to prevent this, and shut down gracefully?</p>\n<p>This applies to @scheduled jobs and also web apis.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}