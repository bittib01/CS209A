{
  "question": {
    "tags": [
      "java",
      "tomcat",
      "documentum",
      "documentum-dfc",
      "prunsrv"
    ],
    "owner": {
      "account_id": 1234084,
      "reputation": 6125,
      "user_id": 1198067,
      "user_type": "registered",
      "accept_rate": 100,
      "profile_image": "https://www.gravatar.com/avatar/a1be6b497c7754aa843fcf8450aaeea0?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Andrea",
      "link": "https://stackoverflow.com/users/1198067/andrea"
    },
    "is_answered": true,
    "view_count": 99,
    "accepted_answer_id": 79790253,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1760538597,
    "creation_date": 1760449347,
    "question_id": 79790234,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79790234/using-add-opens-in-prunsrv-exe-with-jdk-17",
    "title": "Using --add-opens in prunsrv.exe with JDK 17",
    "body": "<p>I'm trying to upgrade a Java service that uses Documentum API (<code>dfc.jar</code>), from JDK 11 to JDK 17. It runs with <code>prunsrv</code> (Apache Commons Daemon Service Runner).</p>\n<p>Searching on Opentext forums, it seems that I need to add <code>--add-opens=java.base/java.lang=ALL-UNNAMED</code> to the list of JVM arguments in order to keep my code with the new JDK.</p>\n<p>I'm doing this in my install.bat:</p>\n<pre><code>set JAVA_OPTS=--JvmMs=256 --JvmMx=512 --add-opens=java.base/java.lang=ALL-UNNAMED\nset INSTALL_PARAMS=%INSTALL_PARAMS% %JAVA_OPTS%\n</code></pre>\n<p>But, when I execute it, I get:</p>\n<pre><code>E:\\installationPath&gt;E:\\installationPath\\myService.exe //IS//myService_Java17  --Install=E:\\installationPath\\myService.exe --Description=&quot;My Service&quot; --Classpath=E:\\installationPath\\myService.jar --Startup=manual --StartMode=jvm --Jvm=C:\\temp\\jdk-17.0.15_windows-x64_bin\\jdk-17.0.15\\bin\\server\\jvm.dll --JvmMs=256 --JvmMx=512 --add-opens=java.base/java.lang=ALL-UNNAMED --StartClass=it.reply.square.isa.daemon.Service --StartMethod=main --StartParams=start --StopMode=jvm --StopClass=it.reply.square.isa.daemon.Service --StopMethod=main --StopParams=stop --LogPath=E:\\installationPath\\log --LogLevel=Info --StdOutput=auto --StdError=auto\n[error] [ 7560] Unrecognized program option --add-opens\n[error] [ 7560] Invalid command line arguments.\n[error] [ 7560] Apache Commons Daemon procrun failed with exit value: 1 (failed to parse command line arguments).\n</code></pre>\n<p>I am using these components:</p>\n<ul>\n<li>JDK 17.0.15 (changing the JAVA_HOME accordingly)</li>\n<li>dfc.jar version 23.4</li>\n<li>Apache Commons Daemon Service Runner 1.4.1.0</li>\n</ul>\n<p>Thank you for any insight, and please ask me anything else that could be useful for addressing the issue.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}