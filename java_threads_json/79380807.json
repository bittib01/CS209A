{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "apache-camel",
      "salesforce"
    ],
    "owner": {
      "account_id": 1421881,
      "reputation": 379,
      "user_id": 1346346,
      "user_type": "registered",
      "accept_rate": 50,
      "profile_image": "https://www.gravatar.com/avatar/1b58317303f4754e62eb90d82e3e2e9f?s=256&d=identicon&r=PG",
      "display_name": "user1346346",
      "link": "https://stackoverflow.com/users/1346346/user1346346"
    },
    "is_answered": false,
    "view_count": 47,
    "answer_count": 0,
    "score": 0,
    "last_activity_date": 1737631020,
    "creation_date": 1737631020,
    "question_id": 79380807,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79380807/camel-producer-template-buffering-capacity-4194304-exceeded",
    "title": "camel Producer Template - Buffering capacity 4194304 exceeded",
    "body": "<p>We are using Java 17, Spring Boot 3.3.1 and Apache camel 4.8.0 in the project.</p>\n<p>We are using camel salesforce component to communicate with Salesforce.</p>\n<p><a href=\"https://camel.apache.org/components/4.8.x/salesforce-component.html#bulk2GetSuccessfulResults\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/4.8.x/salesforce-component.html#bulk2GetSuccessfulResults</a>\n<a href=\"https://github.com/apache/camel/blob/camel-4.2.0/components/camel-salesforce/camel-salesforce-component/src/test/java/org/apache/camel/component/salesforce/BulkApiV2IngestJobIntegrationTest.java\" rel=\"nofollow noreferrer\">https://github.com/apache/camel/blob/camel-4.2.0/components/camel-salesforce/camel-salesforce-component/src/test/java/org/apache/camel/component/salesforce/BulkApiV2IngestJobIntegrationTest.java</a></p>\n<pre><code>InputStream is = producerTemplate.requestBodyAndHeader(&quot;salesforce:bulk2GetSuccessfulResults&quot;, &quot;&quot;, &quot;jobId&quot;, jobId, InputStream.class);\nList&lt;String&gt; records = IOUtils.readLines(is, StandardCharsets.UTF_8);\n</code></pre>\n<p>As I tried to get the success result of the batch job( using camel salesforce component, bulk api 2),\nI am getting the below error. I am getting this error only the result size(around 100000) is huge.</p>\n<p>org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange[]\nat org.apache.camel.CamelExecutionException.wrapCamelExecutionException(CamelExecutionException.java:45)\nat org.apache.camel.support.ExchangeHelper.extractResultBody(ExchangeHelper.java:692)\nat org.apache.camel.impl.engine.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:591)\nat org.apache.camel.impl.engine.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:587)\nat org.apache.camel.impl.engine.DefaultProducerTemplate.requestBodyAndHeader(DefaultProducerTemplate.java:431)\n.\nat org.apache.camel.impl.engine.CamelInternalProcessor.processNonTransacted(CamelInternalProcessor.java:347)\nat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:323)\n.\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\n<strong>Caused by: org.apache.camel.component.salesforce.api.SalesforceException: Unexpected error {200:OK} executing {GET:<a href=\"https://sbc--uat.sandbox.my.salesforce.com/services/data/v49.0/jobs/ingest/650O400000EpSR1IAN/successfulResults%7D\" rel=\"nofollow noreferrer\">https://sbc--uat.sandbox.my.salesforce.com/services/data/v49.0/jobs/ingest/650O400000EpSR1IAN/successfulResults}</a>\nat org.apache.camel.component.salesforce.internal.client.AbstractClientBase$1.lambda$onComplete$1(AbstractClientBase.java:226)</strong>\n... 3 more\nCaused by: java.lang.IllegalArgumentException: <strong>Buffering capacity 4194304 exceeded</strong>\nat org.eclipse.jetty.client.BufferingResponseListener.onContent(BufferingResponseListener.java:116)\nat org.eclipse.jetty.client.Response$ContentListener.onContent(Response.java:161)</p>\n<p>How to resolve this issue?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}