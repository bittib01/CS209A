{
  "question": {
    "tags": [
      "java",
      "multithreading",
      "virtual-threads",
      "java-23"
    ],
    "owner": {
      "account_id": 23646042,
      "reputation": 1006,
      "user_id": 18197654,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/dSgqg.png?s=256",
      "display_name": "xtay2",
      "link": "https://stackoverflow.com/users/18197654/xtay2"
    },
    "is_answered": true,
    "view_count": 910,
    "accepted_answer_id": 79117494,
    "answer_count": 1,
    "score": 10,
    "last_activity_date": 1729718204,
    "creation_date": 1729674484,
    "last_edit_date": 1729718204,
    "question_id": 79117207,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79117207/threadstartvirtualthread-as-threadfactory",
    "title": "Thread::startVirtualThread as Threadfactory",
    "body": "<p>Why does this code lead to a <code>java.lang.IllegalThreadStateException</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>newSingleThreadScheduledExecutor(Thread::startVirtualThread).scheduleWithFixedDelay(\n   () -&gt; System.out.println(&quot;Hello, World!&quot;),\n   0,\n   1,\n   TimeUnit.SECONDS\n);\n</code></pre>\n<p>The JavaDoc for <code>java.util.concurrent.ThreadFactory</code> explicitly states:</p>\n<blockquote>\n<p>An object that creates new threads on demand.</p>\n</blockquote>\n<p>... and <code>Thread::startVirtualThread</code> is a <code>Function&lt;Runnable, Thread&gt;</code> (object) that should do this. Right?</p>\n<p>I figure that the intended way is probably <code>Thread.ofVirtual().factory()</code> but I'm still clueless on why the other function doesn't work.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}