{
  "question": {
    "tags": [
      "java",
      "android",
      "android-recyclerview",
      "searchview"
    ],
    "owner": {
      "account_id": 43828404,
      "reputation": 17,
      "user_id": 31437107,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/e066c4c6ab11a24e1953f9f5f05c2b04?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "999",
      "link": "https://stackoverflow.com/users/31437107/999"
    },
    "is_answered": true,
    "view_count": 100,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1759497415,
    "creation_date": 1759458353,
    "last_edit_date": 1759466916,
    "question_id": 79781409,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79781409/indexoutofboundsexception-when-scrolling-to-end-of-recyclerview",
    "title": "IndexOutOfBoundsException when scrolling to end of RecyclerView",
    "body": "<p>I'm new to Android development and have tried to implement a SearchView alongside a RecyclerView to display and filter restaurants. However, when I scroll down to the bottom of the listed restaurants, the app crashes with the exception</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 4, Size: 4\n    at java.util.ArrayList.get(ArrayList.java:437)\n    at com.example.myprogram.SearchAdapter.onBindViewHolder(SearchAdapter.java:37)\n    at com.example.myprogram.SearchAdapter.onBindViewHolder(SearchAdapter.java:15)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7065)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7107)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6012)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6279)\n    at androidx.recyclerview.widget.GapWorker.prefetchPositionWithDeadline(GapWorker.java:288)\n    at androidx.recyclerview.widget.GapWorker.flushTaskWithDeadline(GapWorker.java:345)\n    at androidx.recyclerview.widget.GapWorker.flushTasksWithDeadline(GapWorker.java:361)\n    at androidx.recyclerview.widget.GapWorker.prefetch(GapWorker.java:368)\n    at androidx.recyclerview.widget.GapWorker.run(GapWorker.java:399)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:226)\n    at android.os.Looper.loop(Looper.java:313)\n    at android.app.ActivityThread.main(ActivityThread.java:8663)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p>My SearchAdapter class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myprogram;\nimport androidx.annotation.NonNull;\nimport androidx.constraintlayout.widget.ConstraintLayout;\nimport androidx.recyclerview.widget.RecyclerView;\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\nimport java.util.ArrayList;\n\npublic class SearchAdapter extends RecyclerView.Adapter&lt;SearchAdapter.SearchViewHolder&gt; {\n\n     protected ArrayList&lt;Restaurant&gt; searchList = new ArrayList&lt;Restaurant&gt;();\n    Context context;\n\n    public SearchAdapter(ArrayList&lt;Restaurant&gt; searchList, Context context) {\n        this.searchList = searchList;\n        this.context = context;\n    }\n\n    @NonNull\n    @Override\n    public SearchViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.search_item, null, false);\n        return new SearchViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull SearchViewHolder holder, int position) {\n        holder.search_title.setText(searchList.get(position).getName());\n        holder.search_desc.setText(searchList.get(position).getDescription());\n        holder.searchViewImage.setImageDrawable(searchList.get(position).getImage());\n    }\n   \n    public void setFilteredList(ArrayList&lt;Restaurant&gt; filteredList){\n        this.searchList = filteredList;\n        notifyDataSetChanged();\n    }\n\n    @Override\n    public int getItemCount() {\n        return AppManager.getNumOfRestaurants();\n    }\n\n    public class SearchViewHolder extends RecyclerView.ViewHolder {\n        private TextView search_title;\n        private TextView search_desc;\n        private ConstraintLayout rowItem;\n        private ImageView searchViewImage;\n\n        public SearchViewHolder(@NonNull View itemView) {\n            super(itemView);\n            search_title = itemView.findViewById(R.id.visibleSearchTitle);\n            search_desc = itemView.findViewById(R.id.searchDescription);\n            this.searchViewImage = itemView.findViewById(R.id.searchListImage);\n        }\n    }\n}\n</code></pre>\n<p>My Search activity</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myprogram;\n\nimport android.content.res.Resources;\nimport android.graphics.drawable.Drawable;\nimport android.os.Bundle;\nimport android.widget.Toast;\nimport androidx.activity.EdgeToEdge;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.SearchView;\nimport androidx.core.content.res.ResourcesCompat;\nimport androidx.recyclerview.widget.DefaultItemAnimator;\nimport androidx.recyclerview.widget.DividerItemDecoration;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\nimport java.util.ArrayList;\n\npublic class Search extends AppCompatActivity {\n\n    protected ArrayList&lt;Restaurant&gt; searchList;\n    protected RecyclerView searchRecyclerView;\n    protected SearchView searchBar;\n    SearchAdapter searchAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        EdgeToEdge.enable(this);\n        setContentView(R.layout.searchpage);\n        searchRecyclerView = findViewById(R.id.search_list);\n        searchRecyclerView.setItemAnimator(new DefaultItemAnimator());\n        searchRecyclerView.addItemDecoration(new DividerItemDecoration(this, LinearLayoutManager.VERTICAL));\n        searchList = new ArrayList&lt;Restaurant&gt;();\n        searchList.add(new Restaurant(&quot;McDonald's&quot;, &quot;I love McDonald's&quot;, ResourcesCompat.getDrawable(getResources(), R.drawable.testimage2, null)));\n        searchList.add(new Restaurant(&quot;Burger King&quot;, &quot;I love whoppers&quot;, ResourcesCompat.getDrawable(getResources(), R.drawable.testimage2, null)));\n        searchList.add(new Restaurant(&quot;KFC&quot;, &quot;I love KFC&quot;, ResourcesCompat.getDrawable(getResources(), R.drawable.testimage2, null)));\n        searchList.add(new Restaurant(&quot;Popeye's&quot;, &quot;I love Popeyes&quot;, ResourcesCompat.getDrawable(getResources(), R.drawable.testimage2, null)));\n        searchAdapter = new SearchAdapter(searchList, Search.this);\n        searchAdapter.notifyDataSetChanged();\n        searchRecyclerView.setLayoutManager(new LinearLayoutManager(this));\n        searchRecyclerView.setAdapter(searchAdapter);\n        searchBar = findViewById(R.id.search_bar);\n        searchBar.clearFocus();\n\n        searchBar.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                filterSearch(newText);\n                return true;\n            }\n        });\n    }\n\n    private void filterSearch(String filter) {\n        ArrayList&lt;Restaurant&gt; filterSearch = new ArrayList&lt;Restaurant&gt;();\n        for (Restaurant restaurant : searchList){\n            if (restaurant.getName().toLowerCase().contains(filter.toLowerCase())){\n                filterSearch.add(restaurant);\n            }\n        }\n        if (filterSearch.isEmpty()){\n            Toast.makeText(this, &quot;No restaurants found&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else{\n            searchAdapter.setFilteredList(filterSearch);\n        }\n    }\n}\n</code></pre>\n<p>Please let me know what the issue is! Any help would be much appreciated.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}