{
  "question": {
    "tags": [
      "java",
      "maven",
      "junit5",
      "aop",
      "allure"
    ],
    "owner": {
      "account_id": 13623239,
      "reputation": 69,
      "user_id": 9827106,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/s256-rj/photo.jpg",
      "display_name": "Stanislav Semyonov",
      "link": "https://stackoverflow.com/users/9827106/stanislav-semyonov"
    },
    "is_answered": true,
    "view_count": 316,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1730384024,
    "creation_date": 1725528777,
    "last_edit_date": 1725861472,
    "question_id": 78952297,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78952297/appending-screenshots-or-other-attachments-to-steps-of-allure-report-with-aop",
    "title": "Appending screenshots or other attachments to steps of Allure report with AOP",
    "body": "<p>I've been researching if it's possible to append screenshots attachments to the specific methods marked by custom @Captured annotation for the Allure reposts using AOP</p>\n<p>I created annotation itself and aspect that intercepts marked methods</p>\n<pre><code>@Aspect\npublic class ScreenshotAppenderAspect {\n\n@Pointcut(&quot;@annotation(com.annotations.Captured)&quot;)\npublic void captured (){}\n\n//if method returns object\n@Around(&quot;captured()&quot;)\npublic Object aroundStep(ProceedingJoinPoint point){\n    Object result;\n    //getting name of allure step\n    String stepName = getStepName();\n    result = point.proceed();\n    \n    // method with screenshot attachment\n    screenshot(stepName);\n    return result;\n}\n\n//if it's void method   \n@Around(&quot;captured() &amp;&amp; execution(void *(..))&quot;)\npublic Object aroundStep(ProceedingJoinPoint point){\n    \n    point.proceed();\n    \n    // method with screenshot attachment\n    Screenshot(stepName);\n}}\n</code></pre>\n<p>However the result in report is added Screenshot step after marked with @Captured &quot;open google&quot; step.\n<a href=\"https://i.sstatic.net/JplrP8e2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.sstatic.net/JplrP8e2.jpg\" alt=\"enter image description here\" /></a>\nIs there way to put Screenshot step or attachment itself directly\nat the end inside of marked method as if I did it manually within method itself. I understand allure itself works with AOP but I have limited understanding of its methods</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}