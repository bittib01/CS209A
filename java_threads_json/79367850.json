{
  "question": {
    "tags": [
      "java",
      "nvidia",
      "lwjgl",
      "archlinux",
      "wayland"
    ],
    "owner": {
      "account_id": 27621512,
      "reputation": 43,
      "user_id": 21082441,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/07EVo.jpg?s=256",
      "display_name": "amir",
      "link": "https://stackoverflow.com/users/21082441/amir"
    },
    "is_answered": true,
    "view_count": 688,
    "accepted_answer_id": 79378787,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1752150757,
    "creation_date": 1737228877,
    "question_id": 79367850,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79367850/glfwcreatewindow-fails-on-wayland-hyprland-nvidia-egl-context-error",
    "title": "glfwCreateWindow fails on Wayland (Hyprland, NVIDIA): EGL context error",
    "body": "<p>I'm trying to create a GLFW window through LWJGL using Hyprland (Wayland) as window manager on Arch Linux. The application fails with the following message:</p>\n<pre><code>[LWJGL] GLFW_PLATFORM_ERROR error\n  Description : \n    EGL: Failed to clear current context: \n    An EGLDisplay argument does not name a valid EGL display connection\n\n    Stacktrace  :\n      org.lwjgl.glfw.GLFW.nglfwCreateWindow(GLFW.java:2086)\n      org.lwjgl.glfw.GLFW.glfwCreateWindow(GLFW.java:2251)\n</code></pre>\n<hr />\n<p><strong>Environment</strong></p>\n<p><strong>OS:</strong> Arch Linux (6.12.9-arch-1)</p>\n<p><strong>Compositor:</strong> Hyprland (Wayland)</p>\n<p><strong>GPU:</strong> NVIDIA RTX 3070</p>\n<p><strong>Driver Version</strong>: 565.77</p>\n<p><strong>LWJGL Version</strong>: 3.3.6</p>\n<p><strong>EGL Version</strong>: 1.5</p>\n<hr />\n<p><strong>Reproduce</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.lwjgl.*;\nimport org.lwjgl.glfw.*;\nimport org.lwjgl.opengl.*;\nimport org.lwjgl.system.*;\n\nimport static org.lwjgl.glfw.Callbacks.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.*;\nimport static org.lwjgl.system.MemoryStack.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\npublic class Game {\n    public static void main(String[] args) {\n        GLFWErrorCallback.createPrint(System.err).set();\n\n        if (!glfwInit()) \n            throw new IllegalStateException(&quot;Unable to init GLFW&quot;);\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CLIENT_API, GLFW_OPENGL_API);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_TRUE);\n\n        long window = glfwCreateWindow(800, 600, &quot;Test&quot;, NULL, NULL);\n        if (window == NULL) \n            throw new RuntimeException(&quot;glfwCreateWindow failed&quot;);\n\n        glfwMakeContextCurrent(window);\n        glfwSwapInterval(1);\n        glfwShowWindow(window);\n    }\n}\n</code></pre>\n<hr />\n<p><strong>LWJGL</strong></p>\n<p>Used imports from <a href=\"https://www.lwjgl.org/customize\" rel=\"nofollow noreferrer\">here</a> (stable 3.3.6 Linux x86, full)</p>\n<hr />\n<p><strong>PS</strong>\nI tried running vkcube, glxgears, weston and own vulkan renderer with winit in Rust - all worked fine.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}