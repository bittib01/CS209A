{
  "question": {
    "tags": [
      "java",
      "spring",
      "spring-boot",
      "jar"
    ],
    "owner": {
      "account_id": 28146688,
      "reputation": 15,
      "user_id": 21508899,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxZja-oQx6a-zVuGLbFV3yNDSJjZ-EQf3pQVBoOX=k-s256",
      "display_name": "Moneet",
      "link": "https://stackoverflow.com/users/21508899/moneet"
    },
    "is_answered": true,
    "view_count": 679,
    "accepted_answer_id": 78784816,
    "answer_count": 1,
    "score": -1,
    "last_activity_date": 1722187927,
    "creation_date": 1721734153,
    "last_edit_date": 1722187927,
    "question_id": 78783173,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78783173/invalid-bean-definition-is-defined-in-class-path-resource-as-there-is-already-a",
    "title": "Invalid bean definition is defined in class path resource as there is already a Generic bean",
    "body": "<p>I am trying to convert a spring application to springboot application. The application runs fine when I run it using the intellij GUI, but if i use the terminal and try to run it by <code>java -cp </code> command it throws exception. The complete flow of the application along with error message is attached below-</p>\n<p>The main class -</p>\n<pre><code>package com.company.data;\n\n@SpringBootApplication\n@ImportResource(&quot;classpath:spring/data-server-context.xml&quot;)\npublic class DataServer {\n// other fields\n\nprivate static DataServer dataServer;\n\n// other fields\n\n//Constructor\npublic DataServer( args ){\n\n//assignments\n\n}\n\npublic static void main(String[] args) throws Exception {\n        SpringApplication.run(DataServer.class,args);\n\n        LOG.info(&quot;Starting Data Server...&quot;);\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;spring/data-server-context.xml&quot;);\n        try {\n        dataServer = ctx.getBean(DataServer.class)\n        //perform tasks\n        dataServer.func1()\n        }\n        catch (Exception e) {\n            //LOG error\n            throw e;\n        }\n        LOG.info(&quot;Data server started successfully!&quot;);\n    }\n\npublic void func1(){\n//func def\n}\n\n}\n\n</code></pre>\n<p>data-server-context.xml looks something like this</p>\n<pre><code>&lt;beans xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;import resource=&quot;classpath:spring/properties-context.xml&quot;/&gt;\n\n&lt;!-- other bean definitions--&gt;\n\n    &lt;bean id=&quot;dataServer&quot; class=&quot;com.company.data.DataServer&quot;&gt;\n        &lt;constructor-arg name=&quot;arg1&quot; ref=&quot;arg1_ref&quot;/&gt;\n        &lt;constructor-arg name=&quot;arg2&quot; ref=&quot;arg2_ref&quot;/&gt;\n\n    &lt;/bean&gt;\n\n&lt;!-- other bean definitions --&gt;\n    &lt;beans profile=&quot;!test&quot;&gt; &lt;!-- Don't create scheduler beans if spring test profile passed --&gt;\n        &lt;bean id=&quot;dataReloadJob&quot; class=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\n            &lt;property name=&quot;targetObject&quot; ref=&quot;dataServer&quot;/&gt;\n            &lt;property name=&quot;targetMethod&quot; value=&quot;func1&quot;/&gt;\n            &lt;property name=&quot;concurrent&quot; value=&quot;false&quot;/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=&quot;dataReloadTrigger&quot; class=&quot;org.springframework.scheduling.quartz.CronTriggerFactoryBean&quot;&gt;\n            &lt;property name=&quot;jobDetail&quot; ref=&quot;dataReloadJob&quot;/&gt;\n            &lt;property name=&quot;cronExpression&quot; value=&quot;some_expression&quot;/&gt;\n        &lt;/bean&gt;\n\n\n        &lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\n            &lt;property name=&quot;triggers&quot;&gt;\n                &lt;list&gt;\n                    &lt;ref bean=&quot;dataReloadTrigger&quot;/&gt;\n                &lt;/list&gt;\n            &lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>properties-context.xml -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n\n    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;com.company.config.PropertyPlaceholderConfigurerAdapter&quot;&gt;\n        &lt;constructor-arg name=&quot;name&quot; value=&quot;application&quot;/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n<p>Now as mentioned aboved if I run <code>DataServer</code> from GUI it runs fine. But if I try to run it through terminal by compiling the jar , I get below error message -</p>\n<pre><code>06:38:36.909 [main] WARN org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Failed to register bean definition with name 'dataServer'\nOffending resource: class path resource [spring/data-server-context.xml]; nested exception is org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'dataServer' defined in class path resource [spring/data-server-context.xml]: Cannot register bean definition [Generic bean: class [com.company.data.DataServer]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [spring/data-server-context.xml]] for bean 'dataServer': There is already [Generic bean: class [com.company.data.DataServer]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.\n06:38:36.916 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.parsing.BeanDefinitionParsingException: Configuration problem: Failed to register bean definition with name 'dataServer'\nOffending resource: class path resource [spring/data-server-context.xml]; nested exception is org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'dataServer' defined in class path resource [spring/data-server-context.xml]: Cannot register bean definition [Generic bean: class [com.company.data.DataServer]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [spring/data-server-context.xml]] for bean 'dataServer': There is already [Generic bean: class [com.company.data.DataServer]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.\n        at org.springframework.beans.factory.parsing.FailFastProblemReporter.error(FailFastProblemReporter.java:72)\n        at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:119)\n        at org.springframework.beans.factory.parsing.ReaderContext.error(ReaderContext.java:104)\n        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.processBeanDefinition(DefaultBeanDefinitionDocumentReader.java:314)\n        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseDefaultElement(DefaultBeanDefinitionDocumentReader.java:197)\n        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:176)\n        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:149)\n        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:96)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:511)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:338)\n        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:310)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:224)\n        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:195)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromImportedResources$0(ConfigurationClassBeanDefinitionReader.java:378)\n        at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromImportedResources(ConfigurationClassBeanDefinitionReader.java:345)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:147)\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:332)\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:237)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:280)\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:96)\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:707)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:533)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:405)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226)\n        at com.company.data.DataServer.main(DataServer.java:88)\nCaused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'dataServer' defined in class path resource [spring/data-server-context.xml]: Cannot register bean definition [Generic bean: class [com.company.data.DataServer]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in class path resource [spring/data-server-context.xml]] for bean 'dataServer': There is already [Generic bean: class [com.company.data.DataServer]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null] bound.\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.registerBeanDefinition(DefaultListableBeanFactory.java:945)\n        at org.springframework.beans.factory.support.BeanDefinitionReaderUtils.registerBeanDefinition(BeanDefinitionReaderUtils.java:164)\n        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.processBeanDefinition(DefaultBeanDefinitionDocumentReader.java:311)\n        ... 30 common frames omitted\n</code></pre>\n<p>I have added <code>spring.main.allow-bean-definition-overriding=true</code> to the <code>application.properties</code></p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}