{
  "question": {
    "tags": [
      "java",
      "docker",
      "selenium-webdriver"
    ],
    "owner": {
      "account_id": 13429807,
      "reputation": 2093,
      "user_id": 9689945,
      "user_type": "registered",
      "profile_image": "https://i.sstatic.net/3GiQHFhl.jpg?s=256",
      "display_name": "hhrzc",
      "link": "https://stackoverflow.com/users/9689945/hhrzc"
    },
    "is_answered": true,
    "view_count": 425,
    "accepted_answer_id": 79302598,
    "answer_count": 1,
    "score": 1,
    "last_activity_date": 1734943691,
    "creation_date": 1730460876,
    "last_edit_date": 1730502096,
    "question_id": 79147855,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79147855/selenium-unable-to-find-handler-for-post-session-how-to-connect-to-the-selen",
    "title": "Selenium: Unable to find handler for (POST) session. How to connect to the Selenium Grid from the playwright (java) project?",
    "body": "<p>I'm trying to execute Playwright tests on the Selenium Grid (4).</p>\n<p>I have created the remote server (on aws) and deployed SeleniumGrid docker-compose there. Everything is set up correctly since I am executing selenium tests on the Grid successfully.</p>\n<p><strong>docker-compose.yaml</strong>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: &quot;3&quot;\nservices:\n  chrome:\n    image: selenium/node-chrome:beta\n    shm_size: 2gb\n    depends_on:\n      - selenium-hub\n    environment:\n      - SE_EVENT_BUS_HOST=selenium-hub\n      - SE_EVENT_BUS_PUBLISH_PORT=4442\n      - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n      - SE_NODE_GRID_URL=http://localhost:4444\n\n  chromium:\n    image: seleniarm/node-chromium:105.0\n    shm_size: 2gb\n    depends_on:\n      - selenium-hub\n    environment:\n      - SE_EVENT_BUS_HOST=selenium-hub\n      - SE_EVENT_BUS_PUBLISH_PORT=4442\n      - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n      - SE_NODE_GRID_URL=http://localhost:4444\n\n  selenium-hub:\n    image: selenium/hub:latest\n    container_name: selenium-hub\n    ports:\n      - &quot;4442:4442&quot;\n      - &quot;4443:4443&quot;\n      - &quot;4444:4444&quot;\n</code></pre>\n<p>There is the way how I have executed selenium tests (successfully):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    WebDriverManager.chromedriver().setup();\n    WebDriver driver = null;\n    DesiredCapabilities capabilities = new DesiredCapabilities();\n    capabilities.setBrowserName(&quot;chrome&quot;);\n    driver = new RemoteWebDriver(new URL(&quot;http://13.xx.xx.xx:4444/wd/hub&quot;), capabilities);driver.get(&quot;https://www.google.com&quot;);\n</code></pre>\n<p>And there is the same for Playwright:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Playwright playwright = Playwright.create();\n    BrowserType.LaunchOptions launchOptions = new BrowserType.LaunchOptions().setChannel(&quot;chrome&quot;); //I have tryed both - with chrome channel and without.\n    Browser browser = playwright.chromium().launch(launchOptions);\n    BrowserContext context = browser.newContext();\n    Page page = context.newPage();\n    page.navigate(&quot;https://www.google.com&quot;);\n</code></pre>\n<p>The ip address Playwright takes from the <code>SELENIUM_REMOTE_URL</code> env, according to documentation. As we can see - correctly since the error says that Playwright tries connect exactly to my IP:</p>\n<pre><code>name='Error\n  stack='Error: Error connecting to Selenium at http://13.xx.xx.xx:4444 /session: Unable to find handler for (POST)  /session\n</code></pre>\n<p>From another side (Selenium Grid) I have checked the docker logs and I have not found any reaction for my attempts. Except for some permanent error in the logs: <code>Failed to export spans. The request could not be executed. Error message: Failed to connect to localhost/127.0.0.1:4317</code> but I believe this is another story and not the reason for my issue (WebDriver was connected successfully)</p>\n<p>So, if anyone uses Selenium Grid for Playwright tests - please help me establish this connection.\nOr there is an alternative to the Selenium Grid for PLayfright?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}