{
  "question": {
    "tags": [
      "javascript",
      "java",
      "selenium-webdriver"
    ],
    "owner": {
      "account_id": 1412408,
      "reputation": 11,
      "user_id": 1338746,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/4c49ba284e7598b7daf79d869d947f2f?s=256&d=identicon&r=PG",
      "display_name": "Vineet Chaudhary",
      "link": "https://stackoverflow.com/users/1338746/vineet-chaudhary"
    },
    "is_answered": false,
    "view_count": 275,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1738657891,
    "creation_date": 1731647962,
    "last_edit_date": 1731648431,
    "question_id": 79191176,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79191176/trying-to-get-blob-image-from-a-url-using-selenium-and-java",
    "title": "trying to get blob image from a url using selenium and java",
    "body": "<p>I'm trying to download an image blob from a web page. Blob url looks like : blob:<a href=\"https://example.com/43bdcaf9-7d30-4b80-9306-7e411533b960\" rel=\"nofollow noreferrer\">https://example.com/43bdcaf9-7d30-4b80-9306-7e411533b960</a></p>\n<p>The image can be downloaded and converted to base64 text if I use javascript like below (in Chrome browser and running code as a browser extension):</p>\n<pre><code>async function blobToBase64(blobUrl) {\n    console.log(blobUrl);\n    const response = await fetch(blobUrl);\n    const blob = await response.blob();\n    const arrayBuffer = await blob.arrayBuffer();\n    const base64String = btoa(String.fromCharCode(...new Uint8Array(arrayBuffer)));\n    return base64String;\n}\n</code></pre>\n<p>I need the same thing to be done in Java using Selenium Chrome driver, but not able to achieve it. I have tried below code:</p>\n<pre><code>                    String blob = &quot;&quot;;\n                    if (driver instanceof JavascriptExecutor) {\n                        blob = ((JavascriptExecutor) driver).executeScript(&quot;const response = await fetch('&quot; + baseUrl\n                                + &quot;');&quot; + &quot;const blob = await response.blob();&quot;\n                                + &quot;const arrayBuffer = await blob.arrayBuffer();&quot;\n                                + &quot;const base64String = btoa(String.fromCharCode(...new Uint8Array(arrayBuffer)));&quot;\n                                + &quot;return base64String;&quot;).toString();\n\n                        System.out.println(blob);\n                    }\n</code></pre>\n<p>but I get failed to fetch url error.\nPlease help to fetch the image blob and convert to base64 String</p>\n<pre><code>org.openqa.selenium.JavascriptException: javascript error: Failed to fetch\n  (Session info: chrome=130.0.6723.91)\nBuild info: version: '4.18.1', revision: 'b1d3319b48'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '23'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\n</code></pre>\n<p>Thanks in advance.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}