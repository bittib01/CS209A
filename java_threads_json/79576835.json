{
  "question": {
    "tags": [
      "java",
      "jms",
      "activemq-artemis"
    ],
    "owner": {
      "account_id": 19670476,
      "reputation": 209,
      "user_id": 14399829,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/0c5e41a27fcb417d8c8e712d00b2023f?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "effedici",
      "link": "https://stackoverflow.com/users/14399829/effedici"
    },
    "is_answered": true,
    "view_count": 109,
    "accepted_answer_id": 79588286,
    "answer_count": 2,
    "score": 0,
    "last_activity_date": 1745836514,
    "creation_date": 1744795944,
    "last_edit_date": 1744813956,
    "question_id": 79576835,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79576835/forward-a-message-to-an-arbitrary-list-of-addresses-in-activemq-artemis",
    "title": "Forward a message to an arbitrary list of addresses in ActiveMQ Artemis",
    "body": "<p>I want to create a <em>fan-out</em> on ActiveMQ Artemis.</p>\n<p>This is the scenario:</p>\n<ol>\n<li>The producer sends a message on the dedicated address (example: <code>inputMsg</code>).</li>\n<li>Artemis forwards the message to all consumers that respect a specific pattern (e.g.: <code>bc.*</code> such as <code>bc.service1</code>, <code>bc.client2</code>, ...). The divert does not know the complete list of the consumers because can change dynamically.</li>\n</ol>\n<p>I saw that the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/diverts.html#composite-divert\" rel=\"nofollow noreferrer\">composite-divert</a> should be good for me but it requires to know the complete list of consumers.</p>\n<p>I tried to use <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/wildcard-syntax.html#wildcard-syntax\" rel=\"nofollow noreferrer\">wildcard-syntax</a> as filter and forwarding-address with the following configuration on the broker.xml but it seems to not work properly:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;divert name=&quot;fan-out-divert&quot;&gt;\n    &lt;address&gt;inputMsg&lt;/address&gt;\n    &lt;forwarding-address&gt;bc.*&lt;/forwarding-address&gt;\n    &lt;filter string=&quot;route='broadcast'&quot;/&gt;\n    &lt;exclusive&gt;false&lt;/exclusive&gt;\n&lt;/divert&gt;\n&lt;divert name=&quot;wildcard-divert&quot;&gt;\n    &lt;address&gt;inputMsg&lt;/address&gt;\n    &lt;forwarding-address&gt;wildcardconsumer&lt;/forwarding-address&gt;\n    &lt;filter string=&quot;route='bc.#'&quot;/&gt;\n    &lt;exclusive&gt;false&lt;/exclusive&gt;\n&lt;/divert&gt;\n</code></pre>\n<p>Is there a way to configure this behavior?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}