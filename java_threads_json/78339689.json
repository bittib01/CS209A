{
  "question": {
    "tags": [
      "java",
      "apache-spark",
      "apache-spark-sql",
      "code-generation",
      "janino"
    ],
    "owner": {
      "account_id": 30714359,
      "reputation": 11,
      "user_id": 23550626,
      "user_type": "registered",
      "profile_image": "https://lh3.googleusercontent.com/a/ACg8ocLGWMTCR8e5FyAbxZqmTypTtCCIHqfEFqPlVoDA-gy-=k-s256",
      "display_name": "Shashank",
      "link": "https://stackoverflow.com/users/23550626/shashank"
    },
    "is_answered": false,
    "view_count": 304,
    "answer_count": 0,
    "score": 1,
    "last_activity_date": 1739961828,
    "creation_date": 1713344382,
    "last_edit_date": 1713354590,
    "question_id": 78339689,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/78339689/apache-spark-getting-janino-compiler-exception",
    "title": "Apache Spark getting janino compiler exception",
    "body": "<p>Spark codegen is failing to compile the code. I'm using Spark 3.3.2.\nGetting the below exception</p>\n<pre><code>org.codehaus.commons.compiler.CompileException: File 'generated.java', Line 109, Column 1: Cannot determine simple type name &quot;com&quot;\n    at org.codehaus.janino.UnitCompiler.compileError(UnitCompiler.java:12021)\n    at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6850)\n    at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6620)\n    at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6633)\n    at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6633)\n    at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6633)\n    at org.codehaus.janino.UnitCompiler.getReferenceType(UnitCompiler.java:6633)\n    at org.codehaus.janino.UnitCompiler.getType2(UnitCompiler.java:6599)\n    at org.codehaus.janino.UnitCompiler.access$14300(UnitCompiler.java:226)\n    at org.codehaus.janino.UnitCompiler$22$1.visitReferenceType(UnitCompiler.java:6502)\n    at org.codehaus.janino.UnitCompiler$22$1.visitReferenceType(UnitCompiler.java:6497)\n    at org.codehaus.janino.Java$ReferenceType.accept(Java.java:4134)\n    at org.codehaus.janino.UnitCompiler$22.visitType(UnitCompiler.java:6497)\n    at org.codehaus.janino.UnitCompiler$22.visitType(UnitCompiler.java:6490)\n    at org.codehaus.janino.Java$ReferenceType.accept(Java.java:4133)\n    at org.codehaus.janino.UnitCompiler.getType(UnitCompiler.java:6490)\n    at org.codehaus.janino.UnitCompiler.getLocalVariable(UnitCompiler.java:2617)\n    at org.codehaus.janino.UnitCompiler.buildLocalVariableMap(UnitCompiler.java:3691)\n    at org.codehaus.janino.UnitCompiler.access$5800(UnitCompiler.java:226)\n    at org.codehaus.janino.UnitCompiler$12.visitLocalVariableDeclarationStatement(UnitCompiler.java:3574)\n    at org.codehaus.janino.UnitCompiler$12.visitLocalVariableDeclarationStatement(UnitCompiler.java:3542)\n    at org.codehaus.janino.Java$LocalVariableDeclarationStatement.accept(Java.java:3712)\n    at org.codehaus.janino.UnitCompiler.buildLocalVariableMap(UnitCompiler.java:3541)\n    at org.codehaus.janino.UnitCompiler.buildLocalVariableMap(UnitCompiler.java:3598)\n    at org.codehaus.janino.UnitCompiler.access$4700(UnitCompiler.java:226)\n    at org.codehaus.janino.UnitCompiler$12.visitBlock(UnitCompiler.java:3560)\n    at org.codehaus.janino.UnitCompiler$12.visitBlock(UnitCompiler.java:3542)\n    at org.codehaus.janino.Java$Block.accept(Java.java:2969)\n    at org.codehaus.janino.UnitCompiler.buildLocalVariableMap(UnitCompiler.java:3541)\n    at org.codehaus.janino.UnitCompiler.buildLocalVariableMap(UnitCompiler.java:3604)\n    at org.codehaus.janino.UnitCompiler.access$4800(UnitCompiler.java:226)\n    at org.codehaus.janino.UnitCompiler$12.visitDoStatement(UnitCompiler.java:3561)\n    at org.codehaus.janino.UnitCompiler$12.visitDoStatement(UnitCompiler.java:3542)\n    at org.codehaus.janino.Java$DoStatement.accept(Java.java:3664)\n\n</code></pre>\n<p>Code that is generated by the code gen is as below(code snippet).</p>\n<pre><code>    /* 001 */ public Object generate(Object[] references) {\n    /* 002 */   return new GeneratedIteratorForCodegenStage1(references);\n    /* 003 */ }\n    /* 004 */\n    /* 005 */ // codegenStageId=1\n    /* 006 */ final class GeneratedIteratorForCodegenStage1 extends org.apache.spark.sql.execution.BufferedRowIterator {\n    /* 007 */   private Object[] references;\n    /* 008 */   private scala.collection.Iterator[] inputs;\n    /* 009 */   private scala.collection.Iterator inputadapter_input_0;\n    /* 010 */   private org.apache.spark.serializer.KryoSerializerInstance kryoSerializer;\n    /* 011 */   private boolean filter_resultIsNull_0;\n    /* 012 */   private int serializefromobject_argValue_0;\n    /* 013 */   private int serializefromobject_argValue_1;\n    /* 014 */   private int serializefromobject_argValue_2;\n    /* 015 */   private int serializefromobject_argValue_3;\n    /* 016 */   private int serializefromobject_argValue_4;\n    /* 017 */   private int serializefromobject_argValue_5;\n    /* 018 */   private int serializefromobject_argValue_6;\n    /* 019 */   private int serializefromobject_argValue_7;\n    /* 020 */   private int serializefromobject_argValue_8;\n    /* 021 */   private int serializefromobject_argValue_9;\n    /* 022 */   private int serializefromobject_argValue_10;\n    /* 023 */   private int serializefromobject_argValue_11;\n    /* 024 */   private int serializefromobject_argValue_12;\n    /* 025 */   private int serializefromobject_argValue_13;\n    /* 026 */   private int serializefromobject_argValue_14;\n    /* 027 */   private int serializefromobject_argValue_15;\n    /* 028 */   private int serializefromobject_argValue_16;\n    /* 029 */   private int serializefromobject_argValue_17;\n    /* 030 */   private int serializefromobject_argValue_18;\n    /* 031 */   private int serializefromobject_argValue_19;\n    /* 032 */   private int serializefromobject_argValue_20;\n    /* 033 */   private int serializefromobject_argValue_21;\n    /* 034 */   private int serializefromobject_argValue_22;\n    /* 035 */   private int serializefromobject_argValue_23;\n    /* 036 */   private int serializefromobject_argValue_24;\n    /* 037 */   private int serializefromobject_argValue_25;\n    /* 038 */   private int serializefromobject_argValue_26;\n    /* 039 */   private int serializefromobject_argValue_27;\n    /* 040 */   private int serializefromobject_argValue_28;\n    /* 041 */   private int serializefromobject_argValue_29;\n    /* 042 */   private com.testing.events.events.TrackingEvent[] deserializetoobject_mutableStateArray_1 = new com.testing.events.events.TrackingEvent[1];\n    /* 043 */   private java.lang.String[] deserializetoobject_mutableStateArray_0 = new java.lang.String[22];\n    /* 044 */   private scala.Tuple2[] filter_mutableStateArray_0 = new scala.Tuple2[2];\n    /* 045 */   private org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter[] deserializetoobject_mutableStateArray_2 = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter[6];\n    /* 046 */\n    /* 047 */   public GeneratedIteratorForCodegenStage1(Object[] references) {\n    /* 048 */     this.references = references;\n    /* 049 */   }\n    /* 050 */\n    /* 051 */   public void init(int index, scala.collection.Iterator[] inputs) {\n    /* 052 */     partitionIndex = index;\n    /* 053 */     this.inputs = inputs;\n    /* 054 */     inputadapter_input_0 = inputs[0];\n    /* 055 */\n    /* 056 */     kryoSerializer = (org.apache.spark.serializer.KryoSerializerInstance) org.apache.spark.sql.catalyst.expressions.objects.SerializerSupport$.MODULE$.newSerializer(true);\n    /* 057 */\n    /* 058 */     deserializetoobject_mutableStateArray_2[0] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 32);\n    /* 059 */     deserializetoobject_mutableStateArray_2[1] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 32);\n    /* 060 */     deserializetoobject_mutableStateArray_2[2] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 32);\n    /* 061 */     deserializetoobject_mutableStateArray_2[3] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 32);\n    /* 062 */     deserializetoobject_mutableStateArray_2[4] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(1, 32);\n    /* 063 */     deserializetoobject_mutableStateArray_2[5] = new org.apache.spark.sql.catalyst.expressions.codegen.UnsafeRowWriter(31, 672);\n    /* 064 */\n    /* 065 */   }\n    /* 066 */\n    /* 067 */   private void mapelements_doConsume_0(scala.Tuple2 mapelements_expr_0_0, boolean mapelements_exprIsNull_0_0) throws java.io.IOException {\n    /* 068 */     boolean mapelements_isNull_1 = true;\n    /* 069 */     org.apache.spark.sql.Row mapelements_value_1 = null;\n    /* 070 */     filter_mutableStateArray_0[1] = mapelements_expr_0_0;\n    /* 071 */\n    /* 072 */     mapelements_isNull_1 = false;\n    /* 073 */     if (!mapelements_isNull_1) {\n    /* 074 */       Object mapelements_funcResult_0 = null;\n    /* 075 */\n    /* 076 */       try {\n    /* 077 */         mapelements_funcResult_0 = ((org.apache.spark.api.java.function.MapFunction) references[2] /* literal */).call(filter_mutableStateArray_0[1]);\n    /* 078 */       } catch (Exception e) {\n    /* 079 */         org.apache.spark.unsafe.Platform.throwException(e);\n    /* 080 */       }\n    /* 081 */\n    /* 082 */       if (mapelements_funcResult_0 != null) {\n    /* 083 */         mapelements_value_1 = (org.apache.spark.sql.Row) mapelements_funcResult_0;\n    /* 084 */       } else {\n    /* 085 */         mapelements_isNull_1 = true;\n    /* 086 */       }\n    /* 087 */\n    /* 088 */     }\n    /* 089 */\n    /* 090 */     serializefromobject_doConsume_0(mapelements_value_1, mapelements_isNull_1);\n    /* 091 */\n    /* 092 */   }\n    /* 093 */\n    /* 094 */   private void deserializetoobject_doConsume_0(InternalRow inputadapter_row_0, UTF8String deserializetoobject_expr_0_0, boolean deserializetoobject_exprIsNull_0_0, byte[] deserializetoobject_expr_1_0, boolean deserializetoobject_exprIsNull_1_0) throws java.io.IOException {\n    /* 095 */     do {\n    /* 096 */       boolean deserializetoobject_isNull_1 = true;\n    /* 097 */       java.lang.String deserializetoobject_value_1 = null;\n    /* 098 */       if (!deserializetoobject_exprIsNull_0_0) {\n    /* 099 */         deserializetoobject_isNull_1 = false;\n    /* 100 */         if (!deserializetoobject_isNull_1) {\n    /* 101 */           Object deserializetoobject_funcResult_0 = null;\n    /* 102 */           deserializetoobject_funcResult_0 = deserializetoobject_expr_0_0.toString();\n    /* 103 */           deserializetoobject_value_1 = (java.lang.String) deserializetoobject_funcResult_0;\n    /* 104 */\n    /* 105 */         }\n    /* 106 */       }\n    /* 107 */       deserializetoobject_mutableStateArray_0[0] = deserializetoobject_value_1;\n    /* 108 */\n    /* 109 */       final com.testing.events.events.TrackingEvent deserializetoobject_value_3 =\n    /* 110 */       deserializetoobject_exprIsNull_1_0 ? null : (com.testing.events.events.TrackingEvent) kryoSerializer.deserialize(java.nio.ByteBuffer.wrap(deserializetoobject_expr_1_0), null);\n    /* 111 */       deserializetoobject_mutableStateArray_1[0] = deserializetoobject_value_3;\n    /* 112 */\n    /* 113 */       final scala.Tuple2 deserializetoobject_value_0 = false ?\n    /* 114 */       null : new scala.Tuple2(deserializetoobject_mutableStateArray_0[0], deserializetoobject_mutableStateArray_1[0]);\n    /* 115 */\n    /* 116 */       boolean filter_isNull_0 = true;\n    /* 117 */       boolean filter_value_0 = false;\n    /* 118 */       filter_resultIsNull_0 = false;\n    /* 119 */\n    /* 120 */       if (!filter_resultIsNull_0) {\n    /* 121 */         filter_resultIsNull_0 = false;\n    /* 122 */         filter_mutableStateArray_0[0] = deserializetoobject_value_0;\n    /* 123 */       }\n    /* 124 */\n    /* 125 */       filter_isNull_0 = filter_resultIsNull_0;\n    /* 126 */       if (!filter_isNull_0) {\n    /* 127 */         try {\n    /* 128 */           filter_value_0 = ((org.apache.spark.api.java.function.FilterFunction) references[1] /* literal */).call(filter_mutableStateArray_0[0]);\n    /* 129 */         } catch (Exception e) {\n    /* 130 */           org.apache.spark.unsafe.Platform.throwException(e);\n    /* 131 */         }\n    /* 132 */\n    /* 133 */       }\n    /* 134 */       if (filter_isNull_0 || !filter_value_0) continue;\n    /* 135 */\n    /* 136 */       ((org.apache.spark.sql.execution.metric.SQLMetric) references[0] /* numOutputRows */).add(1);\n    /* 137 */\n    /* 138 */       mapelements_doConsume_0(deserializetoobject_value_0, false);\n    /* 139 */\n    /* 140 */     } while(false);\n    /* 141 */\n    /* 142 */   }\n    /* 143 */\n    /* 144 */   private void serializefromobject_doConsume_0(org.apache.spark.sql.Row serializefromobject_expr_0_0, boolean serializefromobject_exprIsNull_0_0) throws java.io.IOException {\n    /* 145 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 146 */       throw new NullPointerException(((java.lang.String) references[3] /* errMsg */));\n    /* 147 */     }\n    /* 148 */     boolean serializefromobject_isNull_2 = true;\n    /* 149 */     boolean serializefromobject_value_2 = false;\n    /* 150 */     serializefromobject_argValue_0 = 0;\n    /* 151 */\n    /* 152 */     serializefromobject_isNull_2 = false;\n    /* 153 */     if (!serializefromobject_isNull_2) {\n    /* 154 */       serializefromobject_value_2 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_0);\n    /* 155 */     }\n    /* 156 */     boolean serializefromobject_isNull_1 = false;\n    /* 157 */     UTF8String serializefromobject_value_1 = null;\n    /* 158 */     if (!serializefromobject_isNull_2 &amp;&amp; serializefromobject_value_2) {\n    /* 159 */       serializefromobject_isNull_1 = true;\n    /* 160 */       serializefromobject_value_1 = ((UTF8String)null);\n    /* 161 */     } else {\n    /* 162 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 163 */         throw new NullPointerException(((java.lang.String) references[6] /* errMsg */));\n    /* 164 */       }\n    /* 165 */\n    /* 166 */       if (false) {\n    /* 167 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 168 */       }\n    /* 169 */\n    /* 170 */       if (serializefromobject_expr_0_0.isNullAt(0)) {\n    /* 171 */         throw new RuntimeException(((java.lang.String) references[5] /* errMsg */));\n    /* 172 */       }\n    /* 173 */\n    /* 174 */       final Object serializefromobject_value_9 = serializefromobject_expr_0_0.get(0);\n    /* 175 */       java.lang.String serializefromobject_value_8 = null;\n    /* 176 */       if (!false) {\n    /* 177 */         if (serializefromobject_value_9 instanceof java.lang.String) {\n    /* 178 */           serializefromobject_value_8 = (java.lang.String) serializefromobject_value_9;\n    /* 179 */         } else {\n    /* 180 */           throw new RuntimeException(serializefromobject_value_9.getClass().getName() + ((java.lang.String) references[4] /* errMsg */));\n    /* 181 */         }\n    /* 182 */       }\n    /* 183 */       deserializetoobject_mutableStateArray_0[1] = serializefromobject_value_8;\n    /* 184 */\n    /* 185 */       UTF8String serializefromobject_value_7 = null;\n    /* 186 */       if (!false) {\n    /* 187 */         serializefromobject_value_7 = org.apache.spark.unsafe.types.UTF8String.fromString(deserializetoobject_mutableStateArray_0[1]);\n    /* 188 */       }\n    /* 189 */       serializefromobject_isNull_1 = false;\n    /* 190 */       serializefromobject_value_1 = serializefromobject_value_7;\n    /* 191 */     }\n    /* 192 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 193 */       throw new NullPointerException(((java.lang.String) references[7] /* errMsg */));\n    /* 194 */     }\n    /* 195 */     boolean serializefromobject_isNull_13 = true;\n    /* 196 */     boolean serializefromobject_value_13 = false;\n    /* 197 */     serializefromobject_argValue_1 = 1;\n    /* 198 */\n    /* 199 */     serializefromobject_isNull_13 = false;\n    /* 200 */     if (!serializefromobject_isNull_13) {\n    /* 201 */       serializefromobject_value_13 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_1);\n    /* 202 */     }\n    /* 203 */     boolean serializefromobject_isNull_12 = false;\n    /* 204 */     UTF8String serializefromobject_value_12 = null;\n    /* 205 */     if (!serializefromobject_isNull_13 &amp;&amp; serializefromobject_value_13) {\n    /* 206 */       serializefromobject_isNull_12 = true;\n    /* 207 */       serializefromobject_value_12 = ((UTF8String)null);\n    /* 208 */     } else {\n    /* 209 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 210 */         throw new NullPointerException(((java.lang.String) references[10] /* errMsg */));\n    /* 211 */       }\n    /* 212 */\n    /* 213 */       if (false) {\n    /* 214 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 215 */       }\n    /* 216 */\n    /* 217 */       if (serializefromobject_expr_0_0.isNullAt(1)) {\n    /* 218 */         throw new RuntimeException(((java.lang.String) references[9] /* errMsg */));\n    /* 219 */       }\n    /* 220 */\n    /* 221 */       final Object serializefromobject_value_20 = serializefromobject_expr_0_0.get(1);\n    /* 222 */       java.lang.String serializefromobject_value_19 = null;\n    /* 223 */       if (!false) {\n    /* 224 */         if (serializefromobject_value_20 instanceof java.lang.String) {\n    /* 225 */           serializefromobject_value_19 = (java.lang.String) serializefromobject_value_20;\n    /* 226 */         } else {\n    /* 227 */           throw new RuntimeException(serializefromobject_value_20.getClass().getName() + ((java.lang.String) references[8] /* errMsg */));\n    /* 228 */         }\n    /* 229 */       }\n    /* 230 */       deserializetoobject_mutableStateArray_0[2] = serializefromobject_value_19;\n    /* 231 */\n    /* 232 */       UTF8String serializefromobject_value_18 = null;\n    /* 233 */       if (!false) {\n    /* 234 */         serializefromobject_value_18 = org.apache.spark.unsafe.types.UTF8String.fromString(deserializetoobject_mutableStateArray_0[2]);\n    /* 235 */       }\n    /* 236 */       serializefromobject_isNull_12 = false;\n    /* 237 */       serializefromobject_value_12 = serializefromobject_value_18;\n    /* 238 */     }\n    /* 239 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 240 */       throw new NullPointerException(((java.lang.String) references[11] /* errMsg */));\n    /* 241 */     }\n    /* 242 */     boolean serializefromobject_isNull_24 = true;\n    /* 243 */     boolean serializefromobject_value_24 = false;\n    /* 244 */     serializefromobject_argValue_2 = 2;\n    /* 245 */\n    /* 246 */     serializefromobject_isNull_24 = false;\n    /* 247 */     if (!serializefromobject_isNull_24) {\n    /* 248 */       serializefromobject_value_24 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_2);\n    /* 249 */     }\n    /* 250 */     boolean serializefromobject_isNull_23 = false;\n    /* 251 */     UTF8String serializefromobject_value_23 = null;\n    /* 252 */     if (!serializefromobject_isNull_24 &amp;&amp; serializefromobject_value_24) {\n    /* 253 */       serializefromobject_isNull_23 = true;\n    /* 254 */       serializefromobject_value_23 = ((UTF8String)null);\n    /* 255 */     } else {\n    /* 256 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 257 */         throw new NullPointerException(((java.lang.String) references[14] /* errMsg */));\n    /* 258 */       }\n    /* 259 */\n    /* 260 */       if (false) {\n    /* 261 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 262 */       }\n    /* 263 */\n    /* 264 */       if (serializefromobject_expr_0_0.isNullAt(2)) {\n    /* 265 */         throw new RuntimeException(((java.lang.String) references[13] /* errMsg */));\n    /* 266 */       }\n    /* 267 */\n    /* 268 */       final Object serializefromobject_value_31 = serializefromobject_expr_0_0.get(2);\n    /* 269 */       java.lang.String serializefromobject_value_30 = null;\n    /* 270 */       if (!false) {\n    /* 271 */         if (serializefromobject_value_31 instanceof java.lang.String) {\n    /* 272 */           serializefromobject_value_30 = (java.lang.String) serializefromobject_value_31;\n    /* 273 */         } else {\n    /* 274 */           throw new RuntimeException(serializefromobject_value_31.getClass().getName() + ((java.lang.String) references[12] /* errMsg */));\n    /* 275 */         }\n    /* 276 */       }\n    /* 277 */       deserializetoobject_mutableStateArray_0[3] = serializefromobject_value_30;\n    /* 278 */\n    /* 279 */       UTF8String serializefromobject_value_29 = null;\n    /* 280 */       if (!false) {\n    /* 281 */         serializefromobject_value_29 = org.apache.spark.unsafe.types.UTF8String.fromString(deserializetoobject_mutableStateArray_0[3]);\n    /* 282 */       }\n    /* 283 */       serializefromobject_isNull_23 = false;\n    /* 284 */       serializefromobject_value_23 = serializefromobject_value_29;\n    /* 285 */     }\n    /* 286 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 287 */       throw new NullPointerException(((java.lang.String) references[15] /* errMsg */));\n    /* 288 */     }\n    /* 289 */     boolean serializefromobject_isNull_35 = true;\n    /* 290 */     boolean serializefromobject_value_35 = false;\n    /* 291 */     serializefromobject_argValue_3 = 3;\n    /* 292 */\n    /* 293 */     serializefromobject_isNull_35 = false;\n    /* 294 */     if (!serializefromobject_isNull_35) {\n    /* 295 */       serializefromobject_value_35 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_3);\n    /* 296 */     }\n    /* 297 */     boolean serializefromobject_isNull_34 = false;\n    /* 298 */     UTF8String serializefromobject_value_34 = null;\n    /* 299 */     if (!serializefromobject_isNull_35 &amp;&amp; serializefromobject_value_35) {\n    /* 300 */       serializefromobject_isNull_34 = true;\n    /* 301 */       serializefromobject_value_34 = ((UTF8String)null);\n    /* 302 */     } else {\n    /* 303 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 304 */         throw new NullPointerException(((java.lang.String) references[18] /* errMsg */));\n    /* 305 */       }\n    /* 306 */\n    /* 307 */       if (false) {\n    /* 308 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 309 */       }\n    /* 310 */\n    /* 311 */       if (serializefromobject_expr_0_0.isNullAt(3)) {\n    /* 312 */         throw new RuntimeException(((java.lang.String) references[17] /* errMsg */));\n    /* 313 */       }\n    /* 314 */\n    /* 315 */       final Object serializefromobject_value_42 = serializefromobject_expr_0_0.get(3);\n    /* 316 */       java.lang.String serializefromobject_value_41 = null;\n    /* 317 */       if (!false) {\n    /* 318 */         if (serializefromobject_value_42 instanceof java.lang.String) {\n    /* 319 */           serializefromobject_value_41 = (java.lang.String) serializefromobject_value_42;\n    /* 320 */         } else {\n    /* 321 */           throw new RuntimeException(serializefromobject_value_42.getClass().getName() + ((java.lang.String) references[16] /* errMsg */));\n    /* 322 */         }\n    /* 323 */       }\n    /* 324 */       deserializetoobject_mutableStateArray_0[4] = serializefromobject_value_41;\n    /* 325 */\n    /* 326 */       UTF8String serializefromobject_value_40 = null;\n    /* 327 */       if (!false) {\n    /* 328 */         serializefromobject_value_40 = org.apache.spark.unsafe.types.UTF8String.fromString(deserializetoobject_mutableStateArray_0[4]);\n    /* 329 */       }\n    /* 330 */       serializefromobject_isNull_34 = false;\n    /* 331 */       serializefromobject_value_34 = serializefromobject_value_40;\n    /* 332 */     }\n    /* 333 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 334 */       throw new NullPointerException(((java.lang.String) references[19] /* errMsg */));\n    /* 335 */     }\n    /* 336 */     boolean serializefromobject_isNull_46 = true;\n    /* 337 */     boolean serializefromobject_value_46 = false;\n    /* 338 */     serializefromobject_argValue_4 = 4;\n    /* 339 */\n    /* 340 */     serializefromobject_isNull_46 = false;\n    /* 341 */     if (!serializefromobject_isNull_46) {\n    /* 342 */       serializefromobject_value_46 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_4);\n    /* 343 */     }\n    /* 344 */     boolean serializefromobject_isNull_45 = false;\n    /* 345 */     int serializefromobject_value_45 = -1;\n    /* 346 */     if (!serializefromobject_isNull_46 &amp;&amp; serializefromobject_value_46) {\n    /* 347 */       serializefromobject_isNull_45 = true;\n    /* 348 */       serializefromobject_value_45 = -1;\n    /* 349 */     } else {\n    /* 350 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 351 */         throw new NullPointerException(((java.lang.String) references[22] /* errMsg */));\n    /* 352 */       }\n    /* 353 */\n    /* 354 */       if (false) {\n    /* 355 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 356 */       }\n    /* 357 */\n    /* 358 */       if (serializefromobject_expr_0_0.isNullAt(4)) {\n    /* 359 */         throw new RuntimeException(((java.lang.String) references[21] /* errMsg */));\n    /* 360 */       }\n    /* 361 */\n    /* 362 */       final Object serializefromobject_value_52 = serializefromobject_expr_0_0.get(4);\n    /* 363 */       int serializefromobject_value_51 = -1;\n    /* 364 */       if (!false) {\n    /* 365 */         if (serializefromobject_value_52 instanceof Integer) {\n    /* 366 */           serializefromobject_value_51 = (Integer) serializefromobject_value_52;\n    /* 367 */         } else {\n    /* 368 */           throw new RuntimeException(serializefromobject_value_52.getClass().getName() + ((java.lang.String) references[20] /* errMsg */));\n    /* 369 */         }\n    /* 370 */       }\n    /* 371 */       serializefromobject_isNull_45 = false;\n    /* 372 */       serializefromobject_value_45 = serializefromobject_value_51;\n    /* 373 */     }\n    /* 374 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 375 */       throw new NullPointerException(((java.lang.String) references[23] /* errMsg */));\n    /* 376 */     }\n    /* 377 */     boolean serializefromobject_isNull_56 = true;\n    /* 378 */     boolean serializefromobject_value_56 = false;\n    /* 379 */     serializefromobject_argValue_5 = 5;\n    /* 380 */\n    /* 381 */     serializefromobject_isNull_56 = false;\n    /* 382 */     if (!serializefromobject_isNull_56) {\n    /* 383 */       serializefromobject_value_56 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_5);\n    /* 384 */     }\n    /* 385 */     boolean serializefromobject_isNull_55 = false;\n    /* 386 */     UTF8String serializefromobject_value_55 = null;\n    /* 387 */     if (!serializefromobject_isNull_56 &amp;&amp; serializefromobject_value_56) {\n    /* 388 */       serializefromobject_isNull_55 = true;\n    /* 389 */       serializefromobject_value_55 = ((UTF8String)null);\n    /* 390 */     } else {\n    /* 391 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 392 */         throw new NullPointerException(((java.lang.String) references[26] /* errMsg */));\n    /* 393 */       }\n    /* 394 */\n    /* 395 */       if (false) {\n    /* 396 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 397 */       }\n    /* 398 */\n    /* 399 */       if (serializefromobject_expr_0_0.isNullAt(5)) {\n    /* 400 */         throw new RuntimeException(((java.lang.String) references[25] /* errMsg */));\n    /* 401 */       }\n    /* 402 */\n    /* 403 */       final Object serializefromobject_value_63 = serializefromobject_expr_0_0.get(5);\n    /* 404 */       java.lang.String serializefromobject_value_62 = null;\n    /* 405 */       if (!false) {\n    /* 406 */         if (serializefromobject_value_63 instanceof java.lang.String) {\n    /* 407 */           serializefromobject_value_62 = (java.lang.String) serializefromobject_value_63;\n    /* 408 */         } else {\n    /* 409 */           throw new RuntimeException(serializefromobject_value_63.getClass().getName() + ((java.lang.String) references[24] /* errMsg */));\n    /* 410 */         }\n    /* 411 */       }\n    /* 412 */       deserializetoobject_mutableStateArray_0[5] = serializefromobject_value_62;\n    /* 413 */\n    /* 414 */       UTF8String serializefromobject_value_61 = null;\n    /* 415 */       if (!false) {\n    /* 416 */         serializefromobject_value_61 = org.apache.spark.unsafe.types.UTF8String.fromString(deserializetoobject_mutableStateArray_0[5]);\n    /* 417 */       }\n    /* 418 */       serializefromobject_isNull_55 = false;\n    /* 419 */       serializefromobject_value_55 = serializefromobject_value_61;\n    /* 420 */     }\n    /* 421 */     if (serializefromobject_exprIsNull_0_0) {\n    /* 422 */       throw new NullPointerException(((java.lang.String) references[27] /* errMsg */));\n    /* 423 */     }\n    /* 424 */     boolean serializefromobject_isNull_67 = true;\n    /* 425 */     boolean serializefromobject_value_67 = false;\n    /* 426 */     serializefromobject_argValue_6 = 6;\n    /* 427 */\n    /* 428 */     serializefromobject_isNull_67 = false;\n    /* 429 */     if (!serializefromobject_isNull_67) {\n    /* 430 */       serializefromobject_value_67 = serializefromobject_expr_0_0.isNullAt(serializefromobject_argValue_6);\n    /* 431 */     }\n    /* 432 */     boolean serializefromobject_isNull_66 = false;\n    /* 433 */     UTF8String serializefromobject_value_66 = null;\n    /* 434 */     if (!serializefromobject_isNull_67 &amp;&amp; serializefromobject_value_67) {\n    /* 435 */       serializefromobject_isNull_66 = true;\n    /* 436 */       serializefromobject_value_66 = ((UTF8String)null);\n    /* 437 */     } else {\n    /* 438 */       if (serializefromobject_exprIsNull_0_0) {\n    /* 439 */         throw new NullPointerException(((java.lang.String) references[30] /* errMsg */));\n    /* 440 */       }\n    /* 441 */\n    /* 442 */       if (false) {\n    /* 443 */         throw QueryExecutionErrors.inputExternalRowCannotBeNullError();\n    /* 444 */       }\n</code></pre>\n<p>I have tried updating the Spark version to 3.3.2+ till 3.5 but the issue persists.\nI'm not using any janino libraries externally. Janino version is 3.0.16 for spark 3.3.2.</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}