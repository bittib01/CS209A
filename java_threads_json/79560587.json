{
  "question": {
    "tags": [
      "java",
      "spring-boot",
      "performance",
      "spring-security"
    ],
    "owner": {
      "account_id": 9141157,
      "reputation": 93,
      "user_id": 6798951,
      "user_type": "registered",
      "profile_image": "https://www.gravatar.com/avatar/2019f756c3e86a9670cd0d1d20d2a4ea?s=256&d=identicon&r=PG&f=y&so-version=2",
      "display_name": "Mikhail Grinfeld",
      "link": "https://stackoverflow.com/users/6798951/mikhail-grinfeld"
    },
    "is_answered": false,
    "view_count": 189,
    "answer_count": 1,
    "score": 0,
    "last_activity_date": 1748542013,
    "creation_date": 1744052027,
    "last_edit_date": 1744112137,
    "question_id": 79560587,
    "content_license": "CC BY-SA 4.0",
    "link": "https://stackoverflow.com/questions/79560587/spring-boot-web-latency-problem-on-restcontroller",
    "title": "spring-boot-web latency problem on RestController",
    "body": "<p>I have a strange latency with the spring-boot-web rest endpoint (with Tomcat).\nWe have RestController with different methods. We paid attention to strange latency.\nFor example, I created a simple end-point that returns true (we have real end-points, but trying to isolate the issue, create this simple one end-point).\nHitting this end-point takes an average of 60 - 70 ms (looking into Spring's <code>sum(rate(http_server_requests_seconds_sum{kubernetes_pod_name=~&quot;$pod.*&quot;, release=&quot;$application&quot;, exception=&quot;none&quot;,  uri=&quot;/test&quot;, status !~ &quot;4.*&quot;}[2m])) / sum(rate(http_server_requests_seconds_count{kubernetes_pod_name=~&quot;$pod.*&quot;, exception=&quot;none&quot;,uri=&quot;/test&quot;, release=&quot;$application&quot;, status !~ &quot;4.*&quot;}[2m]))</code>).\nUsing Spring 3.4.4 (tried to downgrade to spring-boot version 3.3.7 - the same result).\nThere are no CPU or memory problems. I am just trying to understand if it's regular latency, or we have some misconfiguration or if there is any other problem. We are running on K8s.\nWe have a different service that talks with this one and see the latency on it, too.\nAny idea where the problem could be?</p>\n<p><strong>Update:</strong> I found the guilty part. It's SecurityFilterChain. Adding basic auth caused the delay: about an additional 50ms</p>\n<p>Does anyone know why?</p>\n"
  },
  "answers": [],
  "question_comments": [],
  "answer_comments": {}
}